<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Actionview</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.2/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.2/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.2/favicon_red.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.2/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.2/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2020-08-24T10:00:41-04:00">2020-08-24T10:00:41-04:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="red">
  40.63%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.6
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>57</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>3884</b> relevant lines,
    <span class="green"><b>1578</b> lines covered</span> and
    <span class="red"><b>2306</b> lines missed. </span>
    (<span class="red">
  40.63%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a18ede7ac73f3571e02c282cdd6835903f90250a" class="src_link" title="lib/action_view.rb">lib/action_view.rb</a></td>
            <td class="green strong cell--number t-file__coverage">94.64 %</td>
            <td class="cell--number">102</td>
            <td class="cell--number">56</td>
            <td class="cell--number">53</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0.95</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ec374e4ca02f34ff6f727e82d38b5ebffc061065" class="src_link" title="lib/action_view/base.rb">lib/action_view/base.rb</a></td>
            <td class="red strong cell--number t-file__coverage">43.62 %</td>
            <td class="cell--number">322</td>
            <td class="cell--number">94</td>
            <td class="cell--number">41</td>
            <td class="cell--number">53</td>
            <td class="cell--number">0.44</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#22ee1e6fad2b228cf20980f6f1c9ce95f3a73eed" class="src_link" title="lib/action_view/context.rb">lib/action_view/context.rb</a></td>
            <td class="red strong cell--number t-file__coverage">55.56 %</td>
            <td class="cell--number">31</td>
            <td class="cell--number">9</td>
            <td class="cell--number">5</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0.56</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#05b9beca8cc1e7999111b76a294109d71667704b" class="src_link" title="lib/action_view/dependency_tracker.rb">lib/action_view/dependency_tracker.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">84.93 %</td>
            <td class="cell--number">181</td>
            <td class="cell--number">73</td>
            <td class="cell--number">62</td>
            <td class="cell--number">11</td>
            <td class="cell--number">7.08</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9d3357ec2ae786b50820eb3ac9c0eab9dbc08e2f" class="src_link" title="lib/action_view/digestor.rb">lib/action_view/digestor.rb</a></td>
            <td class="red strong cell--number t-file__coverage">38.46 %</td>
            <td class="cell--number">127</td>
            <td class="cell--number">65</td>
            <td class="cell--number">25</td>
            <td class="cell--number">40</td>
            <td class="cell--number">0.38</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fbf6cc21c5ee3c45ba1b52efea677f5baced4ffb" class="src_link" title="lib/action_view/gem_version.rb">lib/action_view/gem_version.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.89 %</td>
            <td class="cell--number">17</td>
            <td class="cell--number">9</td>
            <td class="cell--number">8</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0.89</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#90a7aa83eee3262b19ee0684c7bbe59e64c9f136" class="src_link" title="lib/action_view/helpers.rb">lib/action_view/helpers.rb</a></td>
            <td class="green strong cell--number t-file__coverage">96.43 %</td>
            <td class="cell--number">66</td>
            <td class="cell--number">56</td>
            <td class="cell--number">54</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0.96</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c5a2d32e8b9b2dd541c875b93be02f4ae7f20cc7" class="src_link" title="lib/action_view/helpers/active_model_helper.rb">lib/action_view/helpers/active_model_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">55.56 %</td>
            <td class="cell--number">54</td>
            <td class="cell--number">27</td>
            <td class="cell--number">15</td>
            <td class="cell--number">12</td>
            <td class="cell--number">0.56</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6019ed663916426b15438692baf240562391e50a" class="src_link" title="lib/action_view/helpers/asset_tag_helper.rb">lib/action_view/helpers/asset_tag_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">22.41 %</td>
            <td class="cell--number">497</td>
            <td class="cell--number">116</td>
            <td class="cell--number">26</td>
            <td class="cell--number">90</td>
            <td class="cell--number">0.22</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8eab58fa3555ec422520a3237ec004d6aed75772" class="src_link" title="lib/action_view/helpers/asset_url_helper.rb">lib/action_view/helpers/asset_url_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">41.05 %</td>
            <td class="cell--number">472</td>
            <td class="cell--number">95</td>
            <td class="cell--number">39</td>
            <td class="cell--number">56</td>
            <td class="cell--number">0.41</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8365377c48eef2cac3ca45d8fa80f335c3137060" class="src_link" title="lib/action_view/helpers/atom_feed_helper.rb">lib/action_view/helpers/atom_feed_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">29.09 %</td>
            <td class="cell--number">206</td>
            <td class="cell--number">55</td>
            <td class="cell--number">16</td>
            <td class="cell--number">39</td>
            <td class="cell--number">0.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#96e4bc6cf793e64aeaec36efe2605d3e39f4487f" class="src_link" title="lib/action_view/helpers/cache_helper.rb">lib/action_view/helpers/cache_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">28.26 %</td>
            <td class="cell--number">264</td>
            <td class="cell--number">46</td>
            <td class="cell--number">13</td>
            <td class="cell--number">33</td>
            <td class="cell--number">0.28</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#519386e64b0478958e62e423f8a43583ad173522" class="src_link" title="lib/action_view/helpers/capture_helper.rb">lib/action_view/helpers/capture_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">28.13 %</td>
            <td class="cell--number">216</td>
            <td class="cell--number">32</td>
            <td class="cell--number">9</td>
            <td class="cell--number">23</td>
            <td class="cell--number">0.28</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#566d117f84e380413937dd1e5a7e0cb61166ac49" class="src_link" title="lib/action_view/helpers/controller_helper.rb">lib/action_view/helpers/controller_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">58.82 %</td>
            <td class="cell--number">36</td>
            <td class="cell--number">17</td>
            <td class="cell--number">10</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0.59</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fdb035bf893bf87b32f8eb0c4e9b2e6ad4d1a369" class="src_link" title="lib/action_view/helpers/csp_helper.rb">lib/action_view/helpers/csp_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">50.00 %</td>
            <td class="cell--number">26</td>
            <td class="cell--number">8</td>
            <td class="cell--number">4</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5dc11d5a65382fed95e623daed79fc36e417067c" class="src_link" title="lib/action_view/helpers/csrf_helper.rb">lib/action_view/helpers/csrf_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">71.43 %</td>
            <td class="cell--number">35</td>
            <td class="cell--number">7</td>
            <td class="cell--number">5</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0.71</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#26f4f0e4a55061f7203c0db8f4144229cfaff341" class="src_link" title="lib/action_view/helpers/date_helper.rb">lib/action_view/helpers/date_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">23.05 %</td>
            <td class="cell--number">1199</td>
            <td class="cell--number">308</td>
            <td class="cell--number">71</td>
            <td class="cell--number">237</td>
            <td class="cell--number">0.25</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c7a88069372650446ec08be0a92b5ce6ae55b98f" class="src_link" title="lib/action_view/helpers/debug_helper.rb">lib/action_view/helpers/debug_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">55.56 %</td>
            <td class="cell--number">36</td>
            <td class="cell--number">9</td>
            <td class="cell--number">5</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0.56</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f087469875134abee27411169ed64656ada29a76" class="src_link" title="lib/action_view/helpers/form_helper.rb">lib/action_view/helpers/form_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">31.21 %</td>
            <td class="cell--number">2571</td>
            <td class="cell--number">282</td>
            <td class="cell--number">88</td>
            <td class="cell--number">194</td>
            <td class="cell--number">0.37</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#61d135232ca3fadb7ee1ce1e77313e99d844f606" class="src_link" title="lib/action_view/helpers/form_options_helper.rb">lib/action_view/helpers/form_options_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">32.17 %</td>
            <td class="cell--number">895</td>
            <td class="cell--number">115</td>
            <td class="cell--number">37</td>
            <td class="cell--number">78</td>
            <td class="cell--number">0.32</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#3408746e5ab8c8171f22ba47bcbbad8ec74c4ba6" class="src_link" title="lib/action_view/helpers/form_tag_helper.rb">lib/action_view/helpers/form_tag_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">30.91 %</td>
            <td class="cell--number">923</td>
            <td class="cell--number">165</td>
            <td class="cell--number">51</td>
            <td class="cell--number">114</td>
            <td class="cell--number">0.31</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#35cec2a337d57a60ab49738ed95000f8a9a24166" class="src_link" title="lib/action_view/helpers/javascript_helper.rb">lib/action_view/helpers/javascript_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">44.00 %</td>
            <td class="cell--number">97</td>
            <td class="cell--number">25</td>
            <td class="cell--number">11</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0.44</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d2bdea47495648ca5a9ab9981c56a5778bb000ee" class="src_link" title="lib/action_view/helpers/number_helper.rb">lib/action_view/helpers/number_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">41.07 %</td>
            <td class="cell--number">457</td>
            <td class="cell--number">56</td>
            <td class="cell--number">23</td>
            <td class="cell--number">33</td>
            <td class="cell--number">0.41</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#bf8986d5096b7f9bcfd696934db15ed72e525b18" class="src_link" title="lib/action_view/helpers/output_safety_helper.rb">lib/action_view/helpers/output_safety_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">33.33 %</td>
            <td class="cell--number">70</td>
            <td class="cell--number">21</td>
            <td class="cell--number">7</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0.33</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b28ce7e2d205eb53769a97f84dca56ccb1cb7b9f" class="src_link" title="lib/action_view/helpers/rendering_helper.rb">lib/action_view/helpers/rendering_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">29.41 %</td>
            <td class="cell--number">109</td>
            <td class="cell--number">17</td>
            <td class="cell--number">5</td>
            <td class="cell--number">12</td>
            <td class="cell--number">0.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#67601e9252e85cd952983f6c0c55e00e723bedde" class="src_link" title="lib/action_view/helpers/sanitize_helper.rb">lib/action_view/helpers/sanitize_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">62.96 %</td>
            <td class="cell--number">171</td>
            <td class="cell--number">27</td>
            <td class="cell--number">17</td>
            <td class="cell--number">10</td>
            <td class="cell--number">0.63</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6c96d22916c60798e83c8fe37b3b50821d86b4ce" class="src_link" title="lib/action_view/helpers/tag_helper.rb">lib/action_view/helpers/tag_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">41.58 %</td>
            <td class="cell--number">361</td>
            <td class="cell--number">101</td>
            <td class="cell--number">42</td>
            <td class="cell--number">59</td>
            <td class="cell--number">0.42</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c5196ae90bc7f067540ecdc3249048ac0fcec27a" class="src_link" title="lib/action_view/helpers/tags.rb">lib/action_view/helpers/tags.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">44</td>
            <td class="cell--number">37</td>
            <td class="cell--number">37</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#500bfbac252df54fdfda6b8882351b3e982cbaa1" class="src_link" title="lib/action_view/helpers/tags/base.rb">lib/action_view/helpers/tags/base.rb</a></td>
            <td class="red strong cell--number t-file__coverage">25.00 %</td>
            <td class="cell--number">199</td>
            <td class="cell--number">108</td>
            <td class="cell--number">27</td>
            <td class="cell--number">81</td>
            <td class="cell--number">0.25</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e017e3bc468a2faa2a5f55db2a50242df62a1174" class="src_link" title="lib/action_view/helpers/text_helper.rb">lib/action_view/helpers/text_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">28.69 %</td>
            <td class="cell--number">485</td>
            <td class="cell--number">122</td>
            <td class="cell--number">35</td>
            <td class="cell--number">87</td>
            <td class="cell--number">0.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#65499c1b0d2af204d9d55454da4887f9f996699f" class="src_link" title="lib/action_view/helpers/translation_helper.rb">lib/action_view/helpers/translation_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">30.91 %</td>
            <td class="cell--number">144</td>
            <td class="cell--number">55</td>
            <td class="cell--number">17</td>
            <td class="cell--number">38</td>
            <td class="cell--number">0.35</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#30bae4434f622bc5a2b480c8900e909a810fb679" class="src_link" title="lib/action_view/helpers/url_helper.rb">lib/action_view/helpers/url_helper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">22.50 %</td>
            <td class="cell--number">770</td>
            <td class="cell--number">160</td>
            <td class="cell--number">36</td>
            <td class="cell--number">124</td>
            <td class="cell--number">0.23</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#34947cad38bcc3ced4d28f85d02b6aee11bc6b3e" class="src_link" title="lib/action_view/layouts.rb">lib/action_view/layouts.rb</a></td>
            <td class="red strong cell--number t-file__coverage">50.00 %</td>
            <td class="cell--number">431</td>
            <td class="cell--number">84</td>
            <td class="cell--number">42</td>
            <td class="cell--number">42</td>
            <td class="cell--number">1.77</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#45cab595c1f5114afcd6cb465979cb1d7a12e0b2" class="src_link" title="lib/action_view/log_subscriber.rb">lib/action_view/log_subscriber.rb</a></td>
            <td class="red strong cell--number t-file__coverage">33.33 %</td>
            <td class="cell--number">111</td>
            <td class="cell--number">63</td>
            <td class="cell--number">21</td>
            <td class="cell--number">42</td>
            <td class="cell--number">0.33</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4e112c67e0df16aa400e9a1352d1ecef3370f305" class="src_link" title="lib/action_view/lookup_context.rb">lib/action_view/lookup_context.rb</a></td>
            <td class="red strong cell--number t-file__coverage">43.98 %</td>
            <td class="cell--number">315</td>
            <td class="cell--number">166</td>
            <td class="cell--number">73</td>
            <td class="cell--number">93</td>
            <td class="cell--number">0.51</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fef9c2795f20cb8e38fc1ca759336a1a80f5aa9c" class="src_link" title="lib/action_view/model_naming.rb">lib/action_view/model_naming.rb</a></td>
            <td class="red strong cell--number t-file__coverage">66.67 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">6</td>
            <td class="cell--number">4</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0.67</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#046a3319f6a7bb9fc1ac3aaf2a37956ac8cb0803" class="src_link" title="lib/action_view/path_set.rb">lib/action_view/path_set.rb</a></td>
            <td class="red strong cell--number t-file__coverage">56.82 %</td>
            <td class="cell--number">94</td>
            <td class="cell--number">44</td>
            <td class="cell--number">25</td>
            <td class="cell--number">19</td>
            <td class="cell--number">0.70</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4cf2170f42e049960ae667f9be6b2a6a45d18f5a" class="src_link" title="lib/action_view/record_identifier.rb">lib/action_view/record_identifier.rb</a></td>
            <td class="red strong cell--number t-file__coverage">65.00 %</td>
            <td class="cell--number">111</td>
            <td class="cell--number">20</td>
            <td class="cell--number">13</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0.65</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1d698d0a2ca0cc31a638543d162a7da6de3fc706" class="src_link" title="lib/action_view/renderer/abstract_renderer.rb">lib/action_view/renderer/abstract_renderer.rb</a></td>
            <td class="red strong cell--number t-file__coverage">43.68 %</td>
            <td class="cell--number">188</td>
            <td class="cell--number">87</td>
            <td class="cell--number">38</td>
            <td class="cell--number">49</td>
            <td class="cell--number">0.44</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#2adb680512a40119a7c3a7e5e1d1d0120db75441" class="src_link" title="lib/action_view/renderer/collection_renderer.rb">lib/action_view/renderer/collection_renderer.rb</a></td>
            <td class="red strong cell--number t-file__coverage">32.35 %</td>
            <td class="cell--number">193</td>
            <td class="cell--number">102</td>
            <td class="cell--number">33</td>
            <td class="cell--number">69</td>
            <td class="cell--number">0.32</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#86a229b7f672869cb430efabe2385f4a3f8d0b9d" class="src_link" title="lib/action_view/renderer/partial_renderer.rb">lib/action_view/renderer/partial_renderer.rb</a></td>
            <td class="red strong cell--number t-file__coverage">37.04 %</td>
            <td class="cell--number">300</td>
            <td class="cell--number">27</td>
            <td class="cell--number">10</td>
            <td class="cell--number">17</td>
            <td class="cell--number">0.37</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c00ef4667bafbb789836bd92c0eb9da90a58d1ac" class="src_link" title="lib/action_view/renderer/partial_renderer/collection_caching.rb">lib/action_view/renderer/partial_renderer/collection_caching.rb</a></td>
            <td class="red strong cell--number t-file__coverage">32.50 %</td>
            <td class="cell--number">102</td>
            <td class="cell--number">40</td>
            <td class="cell--number">13</td>
            <td class="cell--number">27</td>
            <td class="cell--number">0.33</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4b1140d14865f6c49d94b428fc684c2ca2ef0b9a" class="src_link" title="lib/action_view/rendering.rb">lib/action_view/rendering.rb</a></td>
            <td class="red strong cell--number t-file__coverage">32.53 %</td>
            <td class="cell--number">172</td>
            <td class="cell--number">83</td>
            <td class="cell--number">27</td>
            <td class="cell--number">56</td>
            <td class="cell--number">0.33</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#78722d0e007fcd65f98b82a28399b2ed33ef33a3" class="src_link" title="lib/action_view/routing_url_for.rb">lib/action_view/routing_url_for.rb</a></td>
            <td class="red strong cell--number t-file__coverage">25.64 %</td>
            <td class="cell--number">146</td>
            <td class="cell--number">39</td>
            <td class="cell--number">10</td>
            <td class="cell--number">29</td>
            <td class="cell--number">0.26</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a02bc2b085aa9cce1c81fabe5bb87c64d45d6b0c" class="src_link" title="lib/action_view/template.rb">lib/action_view/template.rb</a></td>
            <td class="red strong cell--number t-file__coverage">38.35 %</td>
            <td class="cell--number">391</td>
            <td class="cell--number">133</td>
            <td class="cell--number">51</td>
            <td class="cell--number">82</td>
            <td class="cell--number">0.38</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9944d0b213f6d5d8de0db476ac78d1259d7f1d23" class="src_link" title="lib/action_view/template/handlers.rb">lib/action_view/template/handlers.rb</a></td>
            <td class="red strong cell--number t-file__coverage">80.00 %</td>
            <td class="cell--number">90</td>
            <td class="cell--number">45</td>
            <td class="cell--number">36</td>
            <td class="cell--number">9</td>
            <td class="cell--number">1.62</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ec87289bd6d2dec18837dbbdd840e6e7904e4aaf" class="src_link" title="lib/action_view/template/handlers/builder.rb">lib/action_view/template/handlers/builder.rb</a></td>
            <td class="red strong cell--number t-file__coverage">58.33 %</td>
            <td class="cell--number">25</td>
            <td class="cell--number">12</td>
            <td class="cell--number">7</td>
            <td class="cell--number">5</td>
            <td class="cell--number">0.58</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b06ef7432ab35f4e6df951d6071e7903e7dcfb50" class="src_link" title="lib/action_view/template/handlers/erb.rb">lib/action_view/template/handlers/erb.rb</a></td>
            <td class="red strong cell--number t-file__coverage">51.22 %</td>
            <td class="cell--number">102</td>
            <td class="cell--number">41</td>
            <td class="cell--number">21</td>
            <td class="cell--number">20</td>
            <td class="cell--number">0.59</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ba7ab8fafee112237c3fec46575b1734fe7c206c" class="src_link" title="lib/action_view/template/handlers/erb/erubi.rb">lib/action_view/template/handlers/erb/erubi.rb</a></td>
            <td class="red strong cell--number t-file__coverage">30.61 %</td>
            <td class="cell--number">89</td>
            <td class="cell--number">49</td>
            <td class="cell--number">15</td>
            <td class="cell--number">34</td>
            <td class="cell--number">0.31</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4d7e56413e2305f69cffa9373a5f091fd782c53e" class="src_link" title="lib/action_view/template/handlers/html.rb">lib/action_view/template/handlers/html.rb</a></td>
            <td class="red strong cell--number t-file__coverage">80.00 %</td>
            <td class="cell--number">11</td>
            <td class="cell--number">5</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0.80</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a0e893f3c63bb371d2f63b75c2d88a2900d113d3" class="src_link" title="lib/action_view/template/handlers/raw.rb">lib/action_view/template/handlers/raw.rb</a></td>
            <td class="red strong cell--number t-file__coverage">80.00 %</td>
            <td class="cell--number">11</td>
            <td class="cell--number">5</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0.80</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f680f6fde0d6903cffb29de59c78fe8596364b8a" class="src_link" title="lib/action_view/template/resolver.rb">lib/action_view/template/resolver.rb</a></td>
            <td class="red strong cell--number t-file__coverage">47.25 %</td>
            <td class="cell--number">440</td>
            <td class="cell--number">218</td>
            <td class="cell--number">103</td>
            <td class="cell--number">115</td>
            <td class="cell--number">0.65</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b5832c4828ab60596eb9c2331a490c98713fd7db" class="src_link" title="lib/action_view/template/types.rb">lib/action_view/template/types.rb</a></td>
            <td class="red strong cell--number t-file__coverage">68.97 %</td>
            <td class="cell--number">57</td>
            <td class="cell--number">29</td>
            <td class="cell--number">20</td>
            <td class="cell--number">9</td>
            <td class="cell--number">0.76</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e4913e0806b2602f05165bc9f77f9cbbd64c4d7d" class="src_link" title="lib/action_view/test_case.rb">lib/action_view/test_case.rb</a></td>
            <td class="red strong cell--number t-file__coverage">50.35 %</td>
            <td class="cell--number">299</td>
            <td class="cell--number">141</td>
            <td class="cell--number">71</td>
            <td class="cell--number">70</td>
            <td class="cell--number">0.85</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a8c5c7fa354a13b38ad72f4e86bb7eb73546bc70" class="src_link" title="lib/action_view/testing/resolvers.rb">lib/action_view/testing/resolvers.rb</a></td>
            <td class="red strong cell--number t-file__coverage">44.00 %</td>
            <td class="cell--number">49</td>
            <td class="cell--number">25</td>
            <td class="cell--number">11</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0.44</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8964306364a7925956f10b60717af096a1dfaf9c" class="src_link" title="lib/action_view/version.rb">lib/action_view/version.rb</a></td>
            <td class="red strong cell--number t-file__coverage">75.00 %</td>
            <td class="cell--number">10</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0.75</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fae51bf3a172f657d2c6578f6ce596683c626436" class="src_link" title="lib/action_view/view_paths.rb">lib/action_view/view_paths.rb</a></td>
            <td class="red strong cell--number t-file__coverage">67.44 %</td>
            <td class="cell--number">126</td>
            <td class="cell--number">43</td>
            <td class="cell--number">29</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0.70</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/colszowka/simplecov">simplecov</a> v0.19.0
        and simplecov-html v0.12.2<br/>
        using Unit Tests
      </div>

      <div class="source_files">
      
        <div class="source_table" id="a18ede7ac73f3571e02c282cdd6835903f90250a">
  <div class="header">
    <h3>lib/action_view.rb</h3>
    <h4>
      <span class="green">
  94.64%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>56</b> relevant lines.
      <span class="green"><b>53</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">#--</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Copyright (c) 2004-2020 David Heinemeier Hansson</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># Permission is hereby granted, free of charge, to any person obtaining</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"># a copy of this software and associated documentation files (the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"># &quot;Software&quot;), to deal in the Software without restriction, including</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"># without limitation the rights to use, copy, modify, merge, publish,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"># distribute, sublicense, and/or sell copies of the Software, and to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"># permit persons to whom the Software is furnished to do so, subject to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"># the following conditions:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"># The above copyright notice and this permission notice shall be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"># included in all copies or substantial portions of the Software.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"># EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"># MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"># NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"># LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"># OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"># WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">#++</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/rails&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/version&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">  extend ActiveSupport::Autoload</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">  ENCODING_FLAG = &#39;#.*coding[:=]\s*(\S+)[ \t]*&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">  eager_autoload do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Context</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Digestor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :LookupContext</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Layouts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :PathSet</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :RecordIdentifier</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Rendering</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :RoutingUrlFor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :UnboundTemplate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :ViewPaths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload_under &quot;renderer&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Renderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :AbstractRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :PartialRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :CollectionRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :ObjectRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :TemplateRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :StreamingTemplateRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload_at &quot;action_view/template/resolver&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Resolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :PathResolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :FileSystemResolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :OptimizedFileSystemResolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :FallbackFileSystemResolver</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload_at &quot;action_view/buffers&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :OutputBuffer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :StreamingBuffer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload_at &quot;action_view/flows&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :OutputFlow</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :StreamingFlow</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload_at &quot;action_view/template/error&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :MissingTemplate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :ActionViewError</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :EncodingError</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :TemplateError</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :SyntaxErrorInTemplate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :WrongEncodingError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :CacheExpiry</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">  autoload :TestCase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.eager_load!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">    super</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">    ActionView::Helpers.eager_load!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="94">
            
            

            

            <code class="ruby">    ActionView::Template.eager_load!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">ActiveSupport.on_load(:i18n) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">  I18n.load_path &lt;&lt; File.expand_path(&quot;action_view/locale/en.yml&quot;, __dir__)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ec374e4ca02f34ff6f727e82d38b5ebffc061065">
  <div class="header">
    <h3>lib/action_view/base.rb</h3>
    <h4>
      <span class="red">
  43.62%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>94</b> relevant lines.
      <span class="green"><b>41</b> lines covered</span> and
      <span class="red"><b>53</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attr_internal&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/ordered_options&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/log_subscriber&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/context&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/template&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/lookup_context&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # = Action View Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  # Action View templates can be written in several ways.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  # If the template file has a &lt;tt&gt;.erb&lt;/tt&gt; extension, then it uses the erubi[https://rubygems.org/gems/erubi]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # template system which can embed Ruby into an HTML document.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  # If the template file has a &lt;tt&gt;.builder&lt;/tt&gt; extension, then Jim Weirich&#39;s Builder::XmlMarkup library is used.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  # == ERB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  # You trigger ERB by using embeddings such as &lt;tt&gt;&lt;% %&gt;&lt;/tt&gt;, &lt;tt&gt;&lt;% -%&gt;&lt;/tt&gt;, and &lt;tt&gt;&lt;%= %&gt;&lt;/tt&gt;. The &lt;tt&gt;&lt;%= %&gt;&lt;/tt&gt; tag set is used when you want output. Consider the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  # following loop for names:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  #   &lt;b&gt;Names of all the people&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  #   &lt;% @people.each do |person| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  #     Name: &lt;%= person.name %&gt;&lt;br/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  # The loop is set up in regular embedding tags &lt;tt&gt;&lt;% %&gt;&lt;/tt&gt;, and the name is written using the output embedding tag &lt;tt&gt;&lt;%= %&gt;&lt;/tt&gt;. Note that this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  # is not just a usage suggestion. Regular output functions like print or puts won&#39;t work with ERB templates. So this would be wrong:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  #   &lt;%# WRONG %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  #   Hi, Mr. &lt;% puts &quot;Frodo&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  # If you absolutely must write from within a function use +concat+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  # When on a line that only contains whitespaces except for the tag, &lt;tt&gt;&lt;% %&gt;&lt;/tt&gt; suppresses leading and trailing whitespace,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">  # including the trailing newline. &lt;tt&gt;&lt;% %&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;%- -%&gt;&lt;/tt&gt; are the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  # Note however that &lt;tt&gt;&lt;%= %&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;%= -%&gt;&lt;/tt&gt; are different: only the latter removes trailing whitespaces.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  # === Using sub templates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  # Using sub templates allows you to sidestep tedious replication and extract common display structures in shared templates. The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">  # classic example is the use of a header and footer (even though the Action Pack-way would be to use Layouts):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  #   &lt;%= render &quot;shared/header&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  #   Something really specific and terrific</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">  #   &lt;%= render &quot;shared/footer&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">  # As you see, we use the output embeddings for the render methods. The render call itself will just return a string holding the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">  # result of the rendering. The output embedding writes it to the current template.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">  # But you don&#39;t have to restrict yourself to static includes. Templates can share variables amongst themselves by using instance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  # variables defined using the regular embedding tags. Like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  #   &lt;% @page_title = &quot;A Wonderful Hello&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">  #   &lt;%= render &quot;shared/header&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">  # Now the header can pick up on the &lt;tt&gt;@page_title&lt;/tt&gt; variable and use it for outputting a title tag:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">  #   &lt;title&gt;&lt;%= @page_title %&gt;&lt;/title&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">  # === Passing local variables to sub templates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">  # You can pass local variables to sub templates by using a hash with the variable names as keys and the objects as values:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">  #   &lt;%= render &quot;shared/header&quot;, { headline: &quot;Welcome&quot;, person: person } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  # These can now be accessed in &lt;tt&gt;shared/header&lt;/tt&gt; with:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">  #   Headline: &lt;%= headline %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">  #   First name: &lt;%= person.first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">  # The local variables passed to sub templates can be accessed as a hash using the &lt;tt&gt;local_assigns&lt;/tt&gt; hash. This lets you access the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">  # variables as:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">  #   Headline: &lt;%= local_assigns[:headline] %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">  # This is useful in cases where you aren&#39;t sure if the local variable has been assigned. Alternatively, you could also use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">  # &lt;tt&gt;defined? headline&lt;/tt&gt; to first check if the variable has been assigned before using it.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">  # === Template caching</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  # By default, Rails will compile each template to a method in order to render it. When you alter a template,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">  # Rails will check the file&#39;s modification time and recompile it in development mode.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  # == Builder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">  # Builder templates are a more programmatic alternative to ERB. They are especially useful for generating XML content. An XmlMarkup object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">  # named +xml+ is automatically made available to templates with a &lt;tt&gt;.builder&lt;/tt&gt; extension.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">  # Here are some basic examples:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  #   xml.em(&quot;emphasized&quot;)                                 # =&gt; &lt;em&gt;emphasized&lt;/em&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">  #   xml.em { xml.b(&quot;emph &amp; bold&quot;) }                      # =&gt; &lt;em&gt;&lt;b&gt;emph &amp;amp; bold&lt;/b&gt;&lt;/em&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">  #   xml.a(&quot;A Link&quot;, &quot;href&quot; =&gt; &quot;http://onestepback.org&quot;)  # =&gt; &lt;a href=&quot;http://onestepback.org&quot;&gt;A Link&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">  #   xml.target(&quot;name&quot; =&gt; &quot;compile&quot;, &quot;option&quot; =&gt; &quot;fast&quot;)  # =&gt; &lt;target option=&quot;fast&quot; name=&quot;compile&quot;\&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">  #                                                        # NOTE: order of attributes is not specified.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">  # Any method with a block will be treated as an XML markup tag with nested markup in the block. For example, the following:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">  #   xml.div do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">  #     xml.h1(@person.name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">  #     xml.p(@person.bio)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  # would produce something like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">  #   &lt;div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">  #     &lt;h1&gt;David Heinemeier Hansson&lt;/h1&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">  #     &lt;p&gt;A product of Danish Design during the Winter of &#39;79...&lt;/p&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">  # Here is a full-length RSS example actually used on Basecamp:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">  #   xml.rss(&quot;version&quot; =&gt; &quot;2.0&quot;, &quot;xmlns:dc&quot; =&gt; &quot;http://purl.org/dc/elements/1.1/&quot;) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">  #     xml.channel do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">  #       xml.title(@feed_title)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">  #       xml.link(@url)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">  #       xml.description &quot;Basecamp: Recent items&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">  #       xml.language &quot;en-us&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">  #       xml.ttl &quot;40&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">  #       @recent_items.each do |item|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">  #         xml.item do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">  #           xml.title(item_title(item))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">  #           xml.description(item_description(item)) if item_description(item)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">  #           xml.pubDate(item_pubDate(item))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">  #           xml.guid(@person.firm.account.url + @recent_items.url(item))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">  #           xml.link(@person.firm.account.url + @recent_items.url(item))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">  #           xml.tag!(&quot;dc:creator&quot;, item.author_name) if item_has_creator?(item)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">  #         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">  #       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">  # For more information on Builder please consult the {source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">  # code}[https://github.com/jimweirich/builder].</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="141">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include Helpers, ::ERB::Util, Context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">    # Specify the proc used to decorate input tags that refer to attributes with errors.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :field_error_proc, default: Proc.new { |html_tag, instance| &quot;&lt;div class=\&quot;field_with_errors\&quot;&gt;#{html_tag}&lt;/div&gt;&quot;.html_safe }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">    # How to complete the streaming when an exception occurs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">    # This is our best guess: first try to close the attribute, then the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :streaming_completion_on_exception, default: %(&quot;&gt;&lt;script&gt;window.location = &quot;/500.html&quot;&lt;/script&gt;&lt;/html&gt;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">    # Specify whether rendering within namespaced controllers should prefix</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">    # the partial paths for ActiveModel objects with the namespace.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">    # (e.g., an Admin::PostsController would render @post using /admin/posts/_post.erb)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="154">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :prefix_partial_path_with_controller_namespace, default: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">    # Specify default_formats that can be rendered.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :default_formats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">    # Specify whether an error should be raised for missing translations</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :raise_on_missing_translations, default: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">    # Specify whether submit_tag should automatically disable on click</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :automatically_disable_submit_tag, default: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">    # Annotate rendered view with file names</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :annotate_rendered_view_with_filenames, default: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="168">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class_attribute :_routes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="169">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class_attribute :logger</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class &lt;&lt; self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delegate :erb_trim_mode=, to: &quot;ActionView::Template::Handlers::ERB&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="174">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_template_loading</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="175">
            
            

            

            <code class="ruby">        ActionView::Resolver.caching?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="178">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_template_loading=(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="179">
            
            

            

            <code class="ruby">        ActionView::Resolver.caching = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="182">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def xss_safe? #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="183">
            
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def with_empty_template_cache # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">        subclass = Class.new(self) {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">          # We can&#39;t implement these as self.class because subclasses will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">          # share the same template cache as superclasses, so &quot;changed?&quot; won&#39;t work</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">          # correctly.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="191">
            
            

            

            <code class="ruby">          define_method(:compiled_method_container)           { subclass }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="192">
            
            

            

            <code class="ruby">          define_singleton_method(:compiled_method_container) { subclass }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="194">
            
            

            

            <code class="ruby">          def self.name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="195">
            
            

            

            <code class="ruby">            superclass.name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="198">
            
            

            

            <code class="ruby">          def inspect</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="199">
            
            

            

            <code class="ruby">            &quot;#&lt;#{self.class.name}:#{&#39;%#016x&#39; % (object_id &lt;&lt; 1)}&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def changed?(other) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="205">
            
            

            

            <code class="ruby">        compiled_method_container != other.compiled_method_container</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="209">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :view_renderer, :lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="210">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_internal :config, :assigns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="212">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delegate :formats, :formats=, :locale, :locale=, :view_paths, :view_paths=, to: :lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="214">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def assign(new_assigns) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="215">
            
            

            

            <code class="ruby">      @_assigns = new_assigns.each { |key, value| instance_variable_set(&quot;@#{key}&quot;, value) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">    # :stopdoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="220">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.build_lookup_context(context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="221">
            
            

            

            <code class="ruby">      case context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      when ActionView::Renderer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="223">
            
            

            

            <code class="ruby">        context.lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      when Array</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="225">
            
            

            

            <code class="ruby">        ActionView::LookupContext.new(context)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      when ActionView::PathSet</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="227">
            
            

            

            <code class="ruby">        ActionView::LookupContext.new(context)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      when nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="229">
            
            

            

            <code class="ruby">        ActionView::LookupContext.new([])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="231">
            
            

            

            <code class="ruby">        raise NotImplementedError, context.class.name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.empty</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="236">
            
            

            

            <code class="ruby">      with_view_paths([])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="239">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.with_view_paths(view_paths, assigns = {}, controller = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="240">
            
            

            

            <code class="ruby">      with_context ActionView::LookupContext.new(view_paths), assigns, controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.with_context(context, assigns = {}, controller = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="244">
            
            

            

            <code class="ruby">      new context, assigns, controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="247">
            <span class="hits">1</span>
            

            

            <code class="ruby">    NULL = Object.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">    # :startdoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="251">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(lookup_context = nil, assigns = {}, controller = nil, formats = NULL) #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="252">
            
            

            

            <code class="ruby">      @_config = ActiveSupport::InheritableOptions.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="254">
            
            

            

            <code class="ruby">      unless formats == NULL</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="255">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &lt;&lt;~eowarn.squish</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">        Passing formats to ActionView::Base.new is deprecated</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">        eowarn</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="260">
            
            

            

            <code class="ruby">      case lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      when ActionView::LookupContext</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="262">
            
            

            

            <code class="ruby">        @lookup_context = lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="264">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &lt;&lt;~eowarn.squish</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">        ActionView::Base instances should be constructed with a lookup context,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">        assignments, and a controller.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">        eowarn</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="268">
            
            

            

            <code class="ruby">        @lookup_context = self.class.build_lookup_context(lookup_context)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="271">
            
            

            

            <code class="ruby">      @view_renderer = ActionView::Renderer.new @lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="272">
            
            

            

            <code class="ruby">      @current_template = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="274">
            
            

            

            <code class="ruby">      @cache_hit = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="275">
            
            

            

            <code class="ruby">      assign(assigns)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="276">
            
            

            

            <code class="ruby">      assign_controller(controller)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="277">
            
            

            

            <code class="ruby">      _prepare_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="280">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _run(method, template, locals, buffer, add_to_stack: true, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="281">
            
            

            

            <code class="ruby">      _old_output_buffer, _old_template = @output_buffer, @current_template</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="282">
            
            

            

            <code class="ruby">      @current_template = template if add_to_stack</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="283">
            
            

            

            <code class="ruby">      @output_buffer = buffer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">      send(method, locals, buffer, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">    ensure</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">      @output_buffer, @current_template = _old_output_buffer, _old_template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="289">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def compiled_method_container</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="290">
            
            

            

            <code class="ruby">      if self.class == ActionView::Base</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="291">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &lt;&lt;~eowarn.squish</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">          ActionView::Base instances must implement `compiled_method_container`</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">          or use the class method `with_empty_template_cache` for constructing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">          an ActionView::Base instance that has an empty cache.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">        eowarn</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="298">
            
            

            

            <code class="ruby">      self.class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="301">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def in_rendering_context(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="302">
            
            

            

            <code class="ruby">      old_view_renderer  = @view_renderer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="303">
            
            

            

            <code class="ruby">      old_lookup_context = @lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="305">
            
            

            

            <code class="ruby">      if !lookup_context.html_fallback_for_js &amp;&amp; options[:formats]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="306">
            
            

            

            <code class="ruby">        formats = Array(options[:formats])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="307">
            
            

            

            <code class="ruby">        if formats == [:js]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="308">
            
            

            

            <code class="ruby">          formats &lt;&lt; :html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="310">
            
            

            

            <code class="ruby">        @lookup_context = lookup_context.with_prepended_formats(formats)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="311">
            
            

            

            <code class="ruby">        @view_renderer = ActionView::Renderer.new @lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="314">
            
            

            

            <code class="ruby">      yield @view_renderer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">    ensure</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="316">
            
            

            

            <code class="ruby">      @view_renderer = old_view_renderer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="317">
            
            

            

            <code class="ruby">      @lookup_context = old_lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="320">
            <span class="hits">1</span>
            

            

            <code class="ruby">    ActiveSupport.run_load_hooks(:action_view, self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="22ee1e6fad2b228cf20980f6f1c9ce95f3a73eed">
  <div class="header">
    <h3>lib/action_view/context.rb</h3>
    <h4>
      <span class="red">
  55.56%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View Context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # Action View contexts are supplied to Action Controller to render a template.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # The default Action View context is ActionView::Base.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  # In order to work with Action Controller, a Context must just include this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # module. The initialization of the variables used by the context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # (@output_buffer, @view_flow, and @virtual_path) is responsibility of the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  # object that includes this module (although you can call _prepare_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # defined below).</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Context</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_accessor :output_buffer, :view_flow</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    # Prepares the context by setting the appropriate instance variables.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _prepare_context</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">      @view_flow     = OutputFlow.new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">      @output_buffer = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    # Encapsulates the interaction with the view flow so it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    # returns the correct buffer on +yield+. This is usually</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # overwritten by helpers to add more behavior.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _layout_for(name = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">      name ||= :layout</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">      view_flow.get(name).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="05b9beca8cc1e7999111b76a294109d71667704b">
  <div class="header">
    <h3>lib/action_view/dependency_tracker.rb</h3>
    <h4>
      <span class="yellow">
  84.93%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>73</b> relevant lines.
      <span class="green"><b>62</b> lines covered</span> and
      <span class="red"><b>11</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;concurrent/map&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/path_set&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class DependencyTracker # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @trackers = Concurrent::Map.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.find_dependencies(name, template, view_paths = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="11">
            
            

            

            <code class="ruby">      tracker = @trackers[template.handler]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">      return [] unless tracker</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">      tracker.call(name, template, view_paths)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.register_tracker(extension, tracker)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      handler = Template.handler_for_extension(extension)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">      if tracker.respond_to?(:supports_view_paths?)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @trackers[handler] = tracker</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">        @trackers[handler] = lambda { |name, template, _|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">          tracker.call(name, template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.remove_tracker(handler)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">      @trackers.delete(handler)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class ERBTracker # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">      EXPLICIT_DEPENDENCY = /# Template Dependency: (\S+)/</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      # A valid ruby identifier - suitable for class, method and specially variable names</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">      IDENTIFIER = /</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        [[:alpha:]_] # at least one uppercase letter, lowercase letter or underscore</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">        [[:word:]]*  # followed by optional letters, numbers or underscores</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      /x</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # Any kind of variable name. e.g. @instance, @@class, $global or local.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      # Possibly following a method call chain</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      VARIABLE_OR_METHOD_CHAIN = /</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">        (?:\$|@{1,2})?            # optional global, instance or class variable indicator</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">        (?:#{IDENTIFIER}\.)*      # followed by an optional chain of zero-argument method calls</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">        (?&lt;dynamic&gt;#{IDENTIFIER}) # and a final valid identifier, captured as DYNAMIC</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      /x</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      # A simple string literal. e.g. &quot;School&#39;s out!&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">      STRING = /</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">        (?&lt;quote&gt;[&#39;&quot;]) # an opening quote</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">        (?&lt;static&gt;.*?) # with anything inside, captured as STATIC</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">        \k&lt;quote&gt;      # and a matching closing quote</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      /x</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # Part of any hash containing the :partial key</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PARTIAL_HASH_KEY = /</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">        (?:\bpartial:|:partial\s*=&gt;) # partial key in either old or new style hash syntax</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">        \s*                          # followed by optional spaces</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      /x</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      # Part of any hash containing the :layout key</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">      LAYOUT_HASH_KEY = /</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        (?:\blayout:|:layout\s*=&gt;)   # layout key in either old or new style hash syntax</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        \s*                          # followed by optional spaces</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      /x</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      # Matches:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #   partial: &quot;comments/comment&quot;, collection: @all_comments =&gt; &quot;comments/comment&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #   (object: @single_comment, partial: &quot;comments/comment&quot;) =&gt; &quot;comments/comment&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #   &quot;comments/comments&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #   &#39;comments/comments&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #   (&#39;comments/comments&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #   (@topic)         =&gt; &quot;topics/topic&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #    topics          =&gt; &quot;topics/topic&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #   (message.topics) =&gt; &quot;topics/topic&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">      RENDER_ARGUMENTS = /\A</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        (?:\s*\(?\s*)                                  # optional opening paren surrounded by spaces</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">        (?:.*?#{PARTIAL_HASH_KEY}|#{LAYOUT_HASH_KEY})? # optional hash, up to the partial or layout key declaration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">        (?:#{STRING}|#{VARIABLE_OR_METHOD_CHAIN})      # finally, the dependency name of interest</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      /xm</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">      LAYOUT_DEPENDENCY = /\A</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">        (?:\s*\(?\s*)                                  # optional opening paren surrounded by spaces</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">        (?:.*?#{LAYOUT_HASH_KEY})                      # check if the line has layout key declaration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">        (?:#{STRING}|#{VARIABLE_OR_METHOD_CHAIN})      # finally, the dependency name of interest</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      /xm</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.supports_view_paths? # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.call(name, template, view_paths = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">        new(name, template, view_paths).dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(name, template, view_paths = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="100">
            <span class="hits">16</span>
            

            

            <code class="ruby">        @name, @template, @view_paths = name, template, view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="104">
            <span class="hits">16</span>
            

            

            <code class="ruby">        render_dependencies + explicit_dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :name, :template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private :name, :template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def source</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="112">
            <span class="hits">32</span>
            

            

            <code class="ruby">          template.source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def directory</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="116">
            <span class="hits">4</span>
            

            

            <code class="ruby">          name.split(&quot;/&quot;)[0..-2].join(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def render_dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="120">
            <span class="hits">16</span>
            

            

            <code class="ruby">          render_dependencies = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="121">
            <span class="hits">16</span>
            

            

            <code class="ruby">          render_calls = source.split(/\brender\b/).drop(1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="123">
            <span class="hits">16</span>
            

            

            <code class="ruby">          render_calls.each do |arguments|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="124">
            <span class="hits">23</span>
            

            

            <code class="ruby">            add_dependencies(render_dependencies, arguments, LAYOUT_DEPENDENCY)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="125">
            <span class="hits">23</span>
            

            

            <code class="ruby">            add_dependencies(render_dependencies, arguments, RENDER_ARGUMENTS)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="128">
            <span class="hits">16</span>
            

            

            <code class="ruby">          render_dependencies.uniq</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def add_dependencies(render_dependencies, arguments, pattern)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="46" data-linenumber="132">
            <span class="hits">46</span>
            

            

            <code class="ruby">          arguments.scan(pattern) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="133">
            <span class="hits">25</span>
            

            

            <code class="ruby">            match = Regexp.last_match</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="134">
            <span class="hits">25</span>
            

            

            <code class="ruby">            add_dynamic_dependency(render_dependencies, match[:dynamic])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="135">
            <span class="hits">25</span>
            

            

            <code class="ruby">            add_static_dependency(render_dependencies, match[:static], match[:quote])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="139">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def add_dynamic_dependency(dependencies, dependency)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="140">
            <span class="hits">25</span>
            

            

            <code class="ruby">          if dependency</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="141">
            <span class="hits">9</span>
            

            

            <code class="ruby">            dependencies &lt;&lt; &quot;#{dependency.pluralize}/#{dependency.singularize}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def add_static_dependency(dependencies, dependency, quote_type)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="146">
            <span class="hits">25</span>
            

            

            <code class="ruby">          if quote_type == &#39;&quot;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">            # Ignore if there is interpolation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="148">
            <span class="hits">5</span>
            

            

            <code class="ruby">            return if dependency.include?(&#39;#{&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="151">
            <span class="hits">24</span>
            

            

            <code class="ruby">          if dependency</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="152">
            <span class="hits">15</span>
            

            

            <code class="ruby">            if dependency.include?(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="153">
            <span class="hits">11</span>
            

            

            <code class="ruby">              dependencies &lt;&lt; dependency</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="155">
            <span class="hits">4</span>
            

            

            <code class="ruby">              dependencies &lt;&lt; &quot;#{directory}/#{dependency}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def resolve_directories(wildcard_dependencies)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="161">
            <span class="hits">16</span>
            

            

            <code class="ruby">          return [] unless @view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">          wildcard_dependencies.flat_map { |query, templates|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="164">
            
            

            

            <code class="ruby">            @view_paths.find_all_with_query(query).map do |template|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="165">
            
            

            

            <code class="ruby">              &quot;#{File.dirname(query)}/#{File.basename(template).split(&#39;.&#39;).first}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="167">
            
            

            

            <code class="ruby">          }.sort</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="170">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def explicit_dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="171">
            <span class="hits">16</span>
            

            

            <code class="ruby">          dependencies = source.scan(EXPLICIT_DEPENDENCY).flatten.uniq</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="173">
            <span class="hits">16</span>
            

            

            <code class="ruby">          wildcards, explicits = dependencies.partition { |dependency| dependency.end_with?(&quot;*&quot;) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="175">
            <span class="hits">16</span>
            

            

            <code class="ruby">          (explicits + resolve_directories(wildcards)).uniq</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            <span class="hits">1</span>
            

            

            <code class="ruby">    register_tracker :erb, ERBTracker</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9d3357ec2ae786b50820eb3ac9c0eab9dbc08e2f">
  <div class="header">
    <h3>lib/action_view/digestor.rb</h3>
    <h4>
      <span class="red">
  38.46%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>65</b> relevant lines.
      <span class="green"><b>25</b> lines covered</span> and
      <span class="red"><b>40</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/dependency_tracker&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Digestor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @@digest_mutex = Mutex.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class &lt;&lt; self</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      # Supported options:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;name&lt;/tt&gt;         - Template name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;format&lt;/tt&gt;       - Template format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;finder&lt;/tt&gt;       - An instance of &lt;tt&gt;ActionView::LookupContext&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;dependencies&lt;/tt&gt; - An array of dependent views</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def digest(name:, format: nil, finder:, dependencies: nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">        if dependencies.nil? || dependencies.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">          cache_key = &quot;#{name}.#{format}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">          cache_key = [ name, format, dependencies ].flatten.compact.join(&quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">        # this is a correctly done double-checked locking idiom</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">        # (Concurrent::Map&#39;s lookups have volatile semantics)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">        finder.digest_cache[cache_key] || @@digest_mutex.synchronize do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">          finder.digest_cache.fetch(cache_key) do # re-check under lock</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">            partial = name.include?(&quot;/_&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">            root = tree(name, finder, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">            dependencies.each do |injected_dep|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">              root.children &lt;&lt; Injected.new(injected_dep, nil, nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">            end if dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">            finder.digest_cache[cache_key] = root.digest(finder)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def logger</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">        ActionView::Base.logger || NullLogger</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # Create a dependency tree for template named +name+.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def tree(name, finder, partial = false, seen = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">        logical_name = name.gsub(%r|/_|, &quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">        interpolated = name.include?(&quot;#&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        if !interpolated &amp;&amp; (template = find_template(finder, logical_name, [], partial, []))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">          if node = seen[template.identifier] # handle cycles in the tree</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">            node</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">            node = seen[template.identifier] = Node.create(name, logical_name, template, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">            deps = DependencyTracker.find_dependencies(name, template, finder.view_paths)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">            deps.uniq { |n| n.gsub(%r|/_|, &quot;/&quot;) }.each do |dep_file|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">              node.children &lt;&lt; tree(dep_file, finder, true, seen)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">            node</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">          unless interpolated # Dynamic template partial names can never be tracked</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">            logger.error &quot;  Couldn&#39;t find template for digesting: #{name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">          seen[name] ||= Missing.new(name, logical_name, nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def find_template(finder, name, prefixes, partial, keys)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">          finder.disable_cache do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">            finder.find_all(name, prefixes, partial, keys).first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Node</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :name, :logical_name, :template, :children</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.create(name, logical_name, template, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">        klass = partial ? Partial : Node</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">        klass.new(name, logical_name, template, [])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(name, logical_name, template, children = [])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">        @name         = name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="85">
            
            

            

            <code class="ruby">        @logical_name = logical_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">        @template     = template</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">        @children     = children</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def digest(finder, stack = [])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        ActiveSupport::Digest.hexdigest(&quot;#{template.source}-#{dependency_digest(finder, stack)}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def dependency_digest(finder, stack)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">        children.map do |node|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">          if stack.include?(node)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">            false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">            finder.digest_cache[node.name] ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">                                                 stack.push node</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">                                                 node.digest(finder, stack).tap { stack.pop }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">                                               end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        end.join(&quot;-&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def to_dep_map</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="108">
            
            

            

            <code class="ruby">        children.any? ? { name =&gt; children.map(&amp;:to_dep_map) } : name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Partial &lt; Node; end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Missing &lt; Node</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def digest(finder, _ = []) &quot;&quot; end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Injected &lt; Node</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def digest(finder, _ = []) name end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class NullLogger</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.debug(_); end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.error(_); end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fbf6cc21c5ee3c45ba1b52efea677f5baced4ffb">
  <div class="header">
    <h3>lib/action_view/gem_version.rb</h3>
    <h4>
      <span class="yellow">
  88.89%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # Returns the version of the currently loaded Action View as a &lt;tt&gt;Gem::Version&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.gem_version</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="6">
            
            

            

            <code class="ruby">    Gem::Version.new VERSION::STRING</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module VERSION</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    MAJOR = 6</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    MINOR = 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    TINY  = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    PRE   = &quot;alpha&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    STRING = [MAJOR, MINOR, TINY, PRE].compact.join(&quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="90a7aa83eee3262b19ee0684c7bbe59e64c9f136">
  <div class="header">
    <h3>lib/action_view/helpers.rb</h3>
    <h4>
      <span class="green">
  96.43%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>56</b> relevant lines.
      <span class="green"><b>54</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/benchmarkable&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Autoload</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :ActiveModelHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :AssetTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :AssetUrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :AtomFeedHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :CacheHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :CaptureHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :ControllerHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :CspHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :CsrfHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :DateHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :DebugHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :FormHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :FormOptionsHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :FormTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :JavaScriptHelper, &quot;action_view/helpers/javascript_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :NumberHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :OutputSafetyHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :RenderingHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :SanitizeHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :TextHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :TranslationHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :UrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">    autoload :Tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.eager_load!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="35">
            
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">      Tags.eager_load!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActiveSupport::Benchmarkable</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActiveModelHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include AssetTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include AssetUrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include AtomFeedHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include CacheHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include CaptureHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ControllerHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include CspHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include CsrfHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include DateHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include DebugHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include FormHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include FormOptionsHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include FormTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include JavaScriptHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include NumberHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include OutputSafetyHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include RenderingHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include SanitizeHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include TextHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include TranslationHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include UrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c5a2d32e8b9b2dd541c875b93be02f4ae7f20cc7">
  <div class="header">
    <h3>lib/action_view/helpers/active_model_helper.rb</h3>
    <h4>
      <span class="red">
  55.56%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>27</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>12</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/enumerable&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # = Active Model Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ActiveModelHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ActiveModelInstanceTag</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">        @active_model_object ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">          object = super</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">          object.respond_to?(:to_model) ? object.to_model : object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def content_tag(type, options, *)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">        select_markup_helper?(type) ? super : error_wrapping(super)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def tag(type, options, *)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">        tag_generate_errors?(options) ? error_wrapping(super) : super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def error_wrapping(html_tag)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">        if object_has_errors?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">          Base.field_error_proc.call(html_tag, self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">          html_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def error_message</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">        object.errors[@method_name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def object_has_errors?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">          object.respond_to?(:errors) &amp;&amp; object.errors.respond_to?(:[]) &amp;&amp; error_message.present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def select_markup_helper?(type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">          [&quot;optgroup&quot;, &quot;option&quot;].include?(type)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def tag_generate_errors?(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">          options[&quot;type&quot;] != &quot;hidden&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6019ed663916426b15438692baf240562391e50a">
  <div class="header">
    <h3>lib/action_view/helpers/asset_tag_helper.rb</h3>
    <h4>
      <span class="red">
  22.41%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>116</b> relevant lines.
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>90</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/array/extract_options&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/hash/keys&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/object/inclusion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/asset_url_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # = Action View Asset Tag Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # This module provides methods for generating HTML that links views to assets such</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # as images, JavaScripts, stylesheets, and feeds. These methods do not verify</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # the assets exist before linking to them:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    #   image_tag(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;img src=&quot;/assets/rails.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    #   stylesheet_link_tag(&quot;application&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;link href=&quot;/assets/application.css?body=1&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module AssetTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include AssetUrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      # Returns an HTML script tag for each of the +sources+ provided.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      # Sources may be paths to JavaScript files. Relative paths are assumed to be relative</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # to &lt;tt&gt;assets/javascripts&lt;/tt&gt;, full paths are assumed to be relative to the document</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # root. Relative paths are idiomatic, use absolute paths only when needed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      # When passing paths, the &quot;.js&quot; extension is optional. If you do not want &quot;.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      # appended to the path &lt;tt&gt;extname: false&lt;/tt&gt; can be set on the options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      # You can modify the HTML attributes of the script tag by passing a hash as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # last argument.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      # When the Asset Pipeline is enabled, you can pass the name of your manifest as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # source, and include other JavaScript or CoffeeScript files inside the manifest.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # If the server supports Early Hints header links for these assets will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      # automatically pushed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      # When the last parameter is a hash you can add HTML attributes using that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      # parameter. The following options are supported:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:extname&lt;/tt&gt;  - Append an extension to the generated URL unless the extension</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #   already exists. This only applies for relative URLs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:protocol&lt;/tt&gt;  - Sets the protocol of the generated URL. This option only</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #   applies when a relative URL and +host+ options are provided.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:host&lt;/tt&gt;  - When a relative URL is provided the host is added to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #   that path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:skip_pipeline&lt;/tt&gt;  - This option is used to bypass the asset pipeline</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      #   when it is set to true.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:nonce&lt;/tt&gt;  - When set to true, adds an automatic nonce value if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   you have Content Security Policy enabled.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;xmlhr&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;/assets/xmlhr.debug-1284139606.js&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;xmlhr&quot;, host: &quot;localhost&quot;, protocol: &quot;https&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;https://localhost/assets/xmlhr.debug-1284139606.js&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;template.jst&quot;, extname: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;/assets/template.debug-1284139606.jst&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;xmlhr.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;/assets/xmlhr.debug-1284139606.js&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;common.javascript&quot;, &quot;/elsewhere/cools&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;/assets/common.javascript.debug-1284139606.js&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #   #    &lt;script src=&quot;/elsewhere/cools.debug-1284139606.js&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;http://www.example.com/xmlhr&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;http://www.example.com/xmlhr&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;http://www.example.com/xmlhr.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;http://www.example.com/xmlhr.js&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #   javascript_include_tag &quot;http://www.example.com/xmlhr.js&quot;, nonce: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;script src=&quot;http://www.example.com/xmlhr.js&quot; nonce=&quot;...&quot;&gt;&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def javascript_include_tag(*sources)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">        options = sources.extract_options!.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">        path_options = options.extract!(&quot;protocol&quot;, &quot;extname&quot;, &quot;host&quot;, &quot;skip_pipeline&quot;).symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">        preload_links = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        sources_tags = sources.uniq.map { |source|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">          href = path_to_javascript(source, path_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">          preload_links &lt;&lt; &quot;&lt;#{href}&gt;; rel=preload; as=script&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="94">
            
            

            

            <code class="ruby">          tag_options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">            &quot;src&quot; =&gt; href</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">          }.merge!(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">          if tag_options[&quot;nonce&quot;] == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">            tag_options[&quot;nonce&quot;] = content_security_policy_nonce</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">          content_tag(&quot;script&quot;, &quot;&quot;, tag_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">        }.join(&quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">        send_preload_links_header(preload_links)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">        sources_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      # Returns a stylesheet link tag for the sources specified as arguments. If</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      # you don&#39;t specify an extension, &lt;tt&gt;.css&lt;/tt&gt; will be appended automatically.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      # You can modify the link attributes by passing a hash as the last argument.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      # For historical reasons, the &#39;media&#39; attribute will always be present and defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      # to &quot;screen&quot;, so you must explicitly set it to &quot;all&quot; for the stylesheet(s) to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      # apply to all media types.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      # If the server supports Early Hints header links for these assets will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      # automatically pushed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #   stylesheet_link_tag &quot;style&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #   stylesheet_link_tag &quot;style.css&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #   stylesheet_link_tag &quot;http://www.example.com/style.css&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;http://www.example.com/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #   stylesheet_link_tag &quot;style&quot;, media: &quot;all&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/style.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #   stylesheet_link_tag &quot;style&quot;, media: &quot;print&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/style.css&quot; media=&quot;print&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #   stylesheet_link_tag &quot;random.styles&quot;, &quot;/css/stylish&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/random.styles&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #   #    &lt;link href=&quot;/css/stylish.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def stylesheet_link_tag(*sources)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">        options = sources.extract_options!.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="138">
            
            

            

            <code class="ruby">        path_options = options.extract!(&quot;protocol&quot;, &quot;host&quot;, &quot;skip_pipeline&quot;).symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="139">
            
            

            

            <code class="ruby">        preload_links = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">        sources_tags = sources.uniq.map { |source|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">          href = path_to_stylesheet(source, path_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">          preload_links &lt;&lt; &quot;&lt;#{href}&gt;; rel=preload; as=style&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="144">
            
            

            

            <code class="ruby">          tag_options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">            &quot;rel&quot; =&gt; &quot;stylesheet&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">            &quot;media&quot; =&gt; &quot;screen&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">            &quot;href&quot; =&gt; href</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">          }.merge!(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="149">
            
            

            

            <code class="ruby">          tag(:link, tag_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">        }.join(&quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">        send_preload_links_header(preload_links)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">        sources_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      # Returns a link tag that browsers and feed readers can use to auto-detect</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      # an RSS, Atom, or JSON feed. The +type+ can be &lt;tt&gt;:rss&lt;/tt&gt; (default),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:atom&lt;/tt&gt;, or &lt;tt&gt;:json&lt;/tt&gt;. Control the link options in url_for format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # using the +url_options+. You can modify the LINK tag itself in +tag_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:rel&lt;/tt&gt;  - Specify the relation of this link, defaults to &quot;alternate&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:type&lt;/tt&gt;  - Override the auto-generated mime type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:title&lt;/tt&gt;  - Specify the title of the link, defaults to the +type+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://www.currenthost.com/controller/action&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag(:atom)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;ATOM&quot; href=&quot;http://www.currenthost.com/controller/action&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag(:json)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/json&quot; title=&quot;JSON&quot; href=&quot;http://www.currenthost.com/controller/action&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag(:rss, {action: &quot;feed&quot;})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://www.currenthost.com/controller/feed&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag(:rss, {action: &quot;feed&quot;}, {title: &quot;My RSS&quot;})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;My RSS&quot; href=&quot;http://www.currenthost.com/controller/feed&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag(:rss, {controller: &quot;news&quot;, action: &quot;feed&quot;})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://www.currenthost.com/news/feed&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      #   auto_discovery_link_tag(:rss, &quot;http://www.example.com/feed.rss&quot;, {title: &quot;Example RSS&quot;})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;Example RSS&quot; href=&quot;http://www.example.com/feed.rss&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def auto_discovery_link_tag(type = :rss, url_options = {}, tag_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">        if !(type == :rss || type == :atom || type == :json) &amp;&amp; tag_options[:type].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="186">
            
            

            

            <code class="ruby">          raise ArgumentError.new(&quot;You should pass :type tag_option key explicitly, because you have passed #{type} type other than :rss, :atom, or :json.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">        tag(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">          &quot;link&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">          &quot;rel&quot;   =&gt; tag_options[:rel] || &quot;alternate&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">          &quot;type&quot;  =&gt; tag_options[:type] || Template::Types[type].to_s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">          &quot;title&quot; =&gt; tag_options[:title] || type.to_s.upcase,</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="194">
            
            

            

            <code class="ruby">          &quot;href&quot;  =&gt; url_options.is_a?(Hash) ? url_for(url_options.merge(only_path: false)) : url_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      # Returns a link tag for a favicon managed by the asset pipeline.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      # If a page has no link like the one generated by this helper, browsers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      # ask for &lt;tt&gt;/favicon.ico&lt;/tt&gt; automatically, and cache the file if the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      # request succeeds. If the favicon changes it is hard to get it updated.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      # To have better control applications may let the asset pipeline manage</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      # their favicon storing the file under &lt;tt&gt;app/assets/images&lt;/tt&gt;, and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      # using this helper to generate its corresponding link tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # The helper gets the name of the favicon file as first argument, which</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # defaults to &quot;favicon.ico&quot;, and also supports +:rel+ and +:type+ options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      # to override their defaults, &quot;shortcut icon&quot; and &quot;image/x-icon&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      # respectively:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      #   favicon_link_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/favicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      #   favicon_link_tag &#39;myicon.ico&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/myicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      # Mobile Safari looks for a different link tag, pointing to an image that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      # will be used if you add the page to the home screen of an iOS device.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      # The following call would generate such a tag:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      #   favicon_link_tag &#39;mb-icon.png&#39;, rel: &#39;apple-touch-icon&#39;, type: &#39;image/png&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link href=&quot;/assets/mb-icon.png&quot; rel=&quot;apple-touch-icon&quot; type=&quot;image/png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="225">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def favicon_link_tag(source = &quot;favicon.ico&quot;, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="226">
            
            

            

            <code class="ruby">        tag(&quot;link&quot;, {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">          rel: &quot;shortcut icon&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">          type: &quot;image/x-icon&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">          href: path_to_image(source, skip_pipeline: options.delete(:skip_pipeline))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">        }.merge!(options.symbolize_keys))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      # Returns a link tag that browsers can use to preload the +source+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      # The +source+ can be the path of a resource managed by asset pipeline,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      # a full path, or an URI.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:type&lt;/tt&gt;  - Override the auto-generated mime type, defaults to the mime type for +source+ extension.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:as&lt;/tt&gt;  - Override the auto-generated value for as attribute, calculated using +source+ extension and mime type.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:crossorigin&lt;/tt&gt;  - Specify the crossorigin attribute, required to load cross-origin resources.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:nopush&lt;/tt&gt;  - Specify if the use of server push is not desired for the resource. Defaults to +false+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #   preload_link_tag(&quot;custom_theme.css&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;/assets/custom_theme.css&quot; as=&quot;style&quot; type=&quot;text/css&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #   preload_link_tag(&quot;/videos/video.webm&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;/videos/video.mp4&quot; as=&quot;video&quot; type=&quot;video/webm&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      #   preload_link_tag(post_path(format: :json), as: &quot;fetch&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;/posts.json&quot; as=&quot;fetch&quot; type=&quot;application/json&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      #   preload_link_tag(&quot;worker.js&quot;, as: &quot;worker&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;/assets/worker.js&quot; as=&quot;worker&quot; type=&quot;text/javascript&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      #   preload_link_tag(&quot;//example.com/font.woff2&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;//example.com/font.woff2&quot; as=&quot;font&quot; type=&quot;font/woff2&quot; crossorigin=&quot;anonymous&quot;/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      #   preload_link_tag(&quot;//example.com/font.woff2&quot;, crossorigin: &quot;use-credentials&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;//example.com/font.woff2&quot; as=&quot;font&quot; type=&quot;font/woff2&quot; crossorigin=&quot;use-credentials&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      #   preload_link_tag(&quot;/media/audio.ogg&quot;, nopush: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;link rel=&quot;preload&quot; href=&quot;/media/audio.ogg&quot; as=&quot;audio&quot; type=&quot;audio/ogg&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="267">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def preload_link_tag(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="268">
            
            

            

            <code class="ruby">        href = asset_path(source, skip_pipeline: options.delete(:skip_pipeline))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="269">
            
            

            

            <code class="ruby">        extname = File.extname(source).downcase.delete(&quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="270">
            
            

            

            <code class="ruby">        mime_type = options.delete(:type) || Template::Types[extname]&amp;.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="271">
            
            

            

            <code class="ruby">        as_type = options.delete(:as) || resolve_link_as(extname, mime_type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="272">
            
            

            

            <code class="ruby">        crossorigin = options.delete(:crossorigin)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="273">
            
            

            

            <code class="ruby">        crossorigin = &quot;anonymous&quot; if crossorigin == true || (crossorigin.blank? &amp;&amp; as_type == &quot;font&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="274">
            
            

            

            <code class="ruby">        nopush = options.delete(:nopush) || false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="276">
            
            

            

            <code class="ruby">        link_tag = tag.link(**{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">          rel: &quot;preload&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">          href: href,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">          as: as_type,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">          type: mime_type,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">          crossorigin: crossorigin</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">        }.merge!(options.symbolize_keys))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">        preload_link = &quot;&lt;#{href}&gt;; rel=preload; as=#{as_type}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">        preload_link += &quot;; type=#{mime_type}&quot; if mime_type</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">        preload_link += &quot;; crossorigin=#{crossorigin}&quot; if crossorigin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="287">
            
            

            

            <code class="ruby">        preload_link += &quot;; nopush&quot; if nopush</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="289">
            
            

            

            <code class="ruby">        send_preload_links_header([preload_link])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="291">
            
            

            

            <code class="ruby">        link_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      # Returns an HTML image tag for the +source+. The +source+ can be a full</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      # path, a file, or an Active Storage attachment.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      # You can add HTML attributes using the +options+. The +options+ supports</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      # additional keys for convenience and conformance:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:size&lt;/tt&gt; - Supplied as &quot;{Width}x{Height}&quot; or &quot;{Number}&quot;, so &quot;30x45&quot; becomes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      #   width=&quot;30&quot; and height=&quot;45&quot;, and &quot;50&quot; becomes width=&quot;50&quot; and height=&quot;50&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;:size&lt;/tt&gt; will be ignored if the value is not in the correct format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:srcset&lt;/tt&gt; - If supplied as a hash or array of &lt;tt&gt;[source, descriptor]&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      #   pairs, each image path will be expanded before the list is formatted as a string.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      # Assets (images that are part of your app):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      #   image_tag(&quot;icon&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/assets/icon&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #   image_tag(&quot;icon.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/assets/icon.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      #   image_tag(&quot;icon.png&quot;, size: &quot;16x10&quot;, alt: &quot;Edit Entry&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/assets/icon.png&quot; width=&quot;16&quot; height=&quot;10&quot; alt=&quot;Edit Entry&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #   image_tag(&quot;/icons/icon.gif&quot;, size: &quot;16&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/icons/icon.gif&quot; width=&quot;16&quot; height=&quot;16&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      #   image_tag(&quot;/icons/icon.gif&quot;, height: &#39;32&#39;, width: &#39;32&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img height=&quot;32&quot; src=&quot;/icons/icon.gif&quot; width=&quot;32&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      #   image_tag(&quot;/icons/icon.gif&quot;, class: &quot;menu_icon&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img class=&quot;menu_icon&quot; src=&quot;/icons/icon.gif&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      #   image_tag(&quot;/icons/icon.gif&quot;, data: { title: &#39;Rails Application&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img data-title=&quot;Rails Application&quot; src=&quot;/icons/icon.gif&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      #   image_tag(&quot;icon.png&quot;, srcset: { &quot;icon_2x.png&quot; =&gt; &quot;2x&quot;, &quot;icon_4x.png&quot; =&gt; &quot;4x&quot; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/assets/icon.png&quot; srcset=&quot;/assets/icon_2x.png 2x, /assets/icon_4x.png 4x&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      #   image_tag(&quot;pic.jpg&quot;, srcset: [[&quot;pic_1024.jpg&quot;, &quot;1024w&quot;], [&quot;pic_1980.jpg&quot;, &quot;1980w&quot;]], sizes: &quot;100vw&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/assets/pic.jpg&quot; srcset=&quot;/assets/pic_1024.jpg 1024w, /assets/pic_1980.jpg 1980w&quot; sizes=&quot;100vw&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      # Active Storage blobs (images that are uploaded by the users of your app):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #   image_tag(user.avatar)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/rails/active_storage/blobs/.../tiger.jpg&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      #   image_tag(user.avatar.variant(resize_to_limit: [100, 100]))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;/rails/active_storage/representations/.../tiger.jpg&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      #   image_tag(user.avatar.variant(resize_to_limit: [100, 100]), size: &#39;100&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img width=&quot;100&quot; height=&quot;100&quot; src=&quot;/rails/active_storage/representations/.../tiger.jpg&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="339">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def image_tag(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="340">
            
            

            

            <code class="ruby">        options = options.symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="341">
            
            

            

            <code class="ruby">        check_for_image_tag_errors(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="342">
            
            

            

            <code class="ruby">        skip_pipeline = options.delete(:skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="344">
            
            

            

            <code class="ruby">        options[:src] = resolve_image_source(source, skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="346">
            
            

            

            <code class="ruby">        if options[:srcset] &amp;&amp; !options[:srcset].is_a?(String)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="347">
            
            

            

            <code class="ruby">          options[:srcset] = options[:srcset].map do |src_path, size|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="348">
            
            

            

            <code class="ruby">            src_path = path_to_image(src_path, skip_pipeline: skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="349">
            
            

            

            <code class="ruby">            &quot;#{src_path} #{size}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">          end.join(&quot;, &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="353">
            
            

            

            <code class="ruby">        options[:width], options[:height] = extract_dimensions(options.delete(:size)) if options[:size]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="354">
            
            

            

            <code class="ruby">        tag(&quot;img&quot;, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">      # Returns an HTML video tag for the +sources+. If +sources+ is a string,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">      # a single video tag will be returned. If +sources+ is an array, a video</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">      # tag with nested source tags for each source will be returned. The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">      # +sources+ can be full paths or files that exist in your public videos</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">      # directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      # When the last parameter is a hash you can add HTML attributes using that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      # parameter. The following options are supported:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:poster&lt;/tt&gt; - Set an image (like a screenshot) to be shown</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      #   before the video loads. The path is calculated like the +src+ of +image_tag+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:size&lt;/tt&gt; - Supplied as &quot;{Width}x{Height}&quot; or &quot;{Number}&quot;, so &quot;30x45&quot; becomes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #   width=&quot;30&quot; and height=&quot;45&quot;, and &quot;50&quot; becomes width=&quot;50&quot; and height=&quot;50&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;:size&lt;/tt&gt; will be ignored if the value is not in the correct format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:poster_skip_pipeline&lt;/tt&gt; will bypass the asset pipeline when using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      #   the &lt;tt&gt;:poster&lt;/tt&gt; option instead using an asset in the public folder.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      #   video_tag(&quot;trailer&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video src=&quot;/videos/trailer&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      #   video_tag(&quot;trailer.ogg&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video src=&quot;/videos/trailer.ogg&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      #   video_tag(&quot;trailer.ogg&quot;, controls: true, preload: &#39;none&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video preload=&quot;none&quot; controls=&quot;controls&quot; src=&quot;/videos/trailer.ogg&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      #   video_tag(&quot;trailer.m4v&quot;, size: &quot;16x10&quot;, poster: &quot;screenshot.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video src=&quot;/videos/trailer.m4v&quot; width=&quot;16&quot; height=&quot;10&quot; poster=&quot;/assets/screenshot.png&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      #   video_tag(&quot;trailer.m4v&quot;, size: &quot;16x10&quot;, poster: &quot;screenshot.png&quot;, poster_skip_pipeline: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video src=&quot;/videos/trailer.m4v&quot; width=&quot;16&quot; height=&quot;10&quot; poster=&quot;screenshot.png&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      #   video_tag(&quot;/trailers/hd.avi&quot;, size: &quot;16x16&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video src=&quot;/trailers/hd.avi&quot; width=&quot;16&quot; height=&quot;16&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #   video_tag(&quot;/trailers/hd.avi&quot;, size: &quot;16&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video height=&quot;16&quot; src=&quot;/trailers/hd.avi&quot; width=&quot;16&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      #   video_tag(&quot;/trailers/hd.avi&quot;, height: &#39;32&#39;, width: &#39;32&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video height=&quot;32&quot; src=&quot;/trailers/hd.avi&quot; width=&quot;32&quot;&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      #   video_tag(&quot;trailer.ogg&quot;, &quot;trailer.flv&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video&gt;&lt;source src=&quot;/videos/trailer.ogg&quot; /&gt;&lt;source src=&quot;/videos/trailer.flv&quot; /&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #   video_tag([&quot;trailer.ogg&quot;, &quot;trailer.flv&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video&gt;&lt;source src=&quot;/videos/trailer.ogg&quot; /&gt;&lt;source src=&quot;/videos/trailer.flv&quot; /&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #   video_tag([&quot;trailer.ogg&quot;, &quot;trailer.flv&quot;], size: &quot;160x120&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;video height=&quot;120&quot; width=&quot;160&quot;&gt;&lt;source src=&quot;/videos/trailer.ogg&quot; /&gt;&lt;source src=&quot;/videos/trailer.flv&quot; /&gt;&lt;/video&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="400">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def video_tag(*sources)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="401">
            
            

            

            <code class="ruby">        options = sources.extract_options!.symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="402">
            
            

            

            <code class="ruby">        public_poster_folder = options.delete(:poster_skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="403">
            
            

            

            <code class="ruby">        sources &lt;&lt; options</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="404">
            
            

            

            <code class="ruby">        multiple_sources_tag_builder(&quot;video&quot;, sources) do |tag_options|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="405">
            
            

            

            <code class="ruby">          tag_options[:poster] = path_to_image(tag_options[:poster], skip_pipeline: public_poster_folder) if tag_options[:poster]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="406">
            
            

            

            <code class="ruby">          tag_options[:width], tag_options[:height] = extract_dimensions(tag_options.delete(:size)) if tag_options[:size]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">      # Returns an HTML audio tag for the +sources+. If +sources+ is a string,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">      # a single audio tag will be returned. If +sources+ is an array, an audio</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">      # tag with nested source tags for each source will be returned. The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      # +sources+ can be full paths or files that exist in your public audios</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      # directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">      # When the last parameter is a hash you can add HTML attributes using that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      # parameter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">      #   audio_tag(&quot;sound&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;audio src=&quot;/audios/sound&quot;&gt;&lt;/audio&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      #   audio_tag(&quot;sound.wav&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;audio src=&quot;/audios/sound.wav&quot;&gt;&lt;/audio&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      #   audio_tag(&quot;sound.wav&quot;, autoplay: true, controls: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;audio autoplay=&quot;autoplay&quot; controls=&quot;controls&quot; src=&quot;/audios/sound.wav&quot;&gt;&lt;/audio&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      #   audio_tag(&quot;sound.wav&quot;, &quot;sound.mid&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;audio&gt;&lt;source src=&quot;/audios/sound.wav&quot; /&gt;&lt;source src=&quot;/audios/sound.mid&quot; /&gt;&lt;/audio&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="427">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def audio_tag(*sources)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="428">
            
            

            

            <code class="ruby">        multiple_sources_tag_builder(&quot;audio&quot;, sources)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="431">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="432">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def multiple_sources_tag_builder(type, sources)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="433">
            
            

            

            <code class="ruby">          options       = sources.extract_options!.symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="434">
            
            

            

            <code class="ruby">          skip_pipeline = options.delete(:skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="435">
            
            

            

            <code class="ruby">          sources.flatten!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="437">
            
            

            

            <code class="ruby">          yield options if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="439">
            
            

            

            <code class="ruby">          if sources.size &gt; 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="440">
            
            

            

            <code class="ruby">            content_tag(type, options) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="441">
            
            

            

            <code class="ruby">              safe_join sources.map { |source| tag(&quot;source&quot;, src: send(&quot;path_to_#{type}&quot;, source, skip_pipeline: skip_pipeline)) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="444">
            
            

            

            <code class="ruby">            options[:src] = send(&quot;path_to_#{type}&quot;, sources.first, skip_pipeline: skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="445">
            
            

            

            <code class="ruby">            content_tag(type, nil, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="449">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def resolve_image_source(source, skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="450">
            
            

            

            <code class="ruby">          if source.is_a?(Symbol) || source.is_a?(String)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="451">
            
            

            

            <code class="ruby">            path_to_image(source, skip_pipeline: skip_pipeline)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="453">
            
            

            

            <code class="ruby">            polymorphic_url(source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">        rescue NoMethodError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="456">
            
            

            

            <code class="ruby">          raise ArgumentError, &quot;Can&#39;t resolve image into URL: #{e}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="459">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def extract_dimensions(size)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="460">
            
            

            

            <code class="ruby">          size = size.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="461">
            
            

            

            <code class="ruby">          if /\A\d+x\d+\z/.match?(size)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="462">
            
            

            

            <code class="ruby">            size.split(&quot;x&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="463">
            
            

            

            <code class="ruby">          elsif /\A\d+\z/.match?(size)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="464">
            
            

            

            <code class="ruby">            [size, size]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="468">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def check_for_image_tag_errors(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="469">
            
            

            

            <code class="ruby">          if options[:size] &amp;&amp; (options[:height] || options[:width])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="470">
            
            

            

            <code class="ruby">            raise ArgumentError, &quot;Cannot pass a :size option with a :height or :width option&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="474">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def resolve_link_as(extname, mime_type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="475">
            
            

            

            <code class="ruby">          if extname == &quot;js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="476">
            
            

            

            <code class="ruby">            &quot;script&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="477">
            
            

            

            <code class="ruby">          elsif extname == &quot;css&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="478">
            
            

            

            <code class="ruby">            &quot;style&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="479">
            
            

            

            <code class="ruby">          elsif extname == &quot;vtt&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="480">
            
            

            

            <code class="ruby">            &quot;track&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="481">
            
            

            

            <code class="ruby">          elsif (type = mime_type.to_s.split(&quot;/&quot;)[0]) &amp;&amp; type.in?(%w(audio video font))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="482">
            
            

            

            <code class="ruby">            type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="486">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def send_preload_links_header(preload_links)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="487">
            
            

            

            <code class="ruby">          if respond_to?(:request) &amp;&amp; request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="488">
            
            

            

            <code class="ruby">            request.send_early_hints(&quot;Link&quot; =&gt; preload_links.join(&quot;\n&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="491">
            
            

            

            <code class="ruby">          if respond_to?(:response) &amp;&amp; response</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="492">
            
            

            

            <code class="ruby">            response.headers[&quot;Link&quot;] = [response.headers[&quot;Link&quot;].presence, *preload_links].compact.join(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8eab58fa3555ec422520a3237ec004d6aed75772">
  <div class="header">
    <h3>lib/action_view/helpers/asset_url_helper.rb</h3>
    <h4>
      <span class="red">
  41.05%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>95</b> relevant lines.
      <span class="green"><b>39</b> lines covered</span> and
      <span class="red"><b>56</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;zlib&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # = Action View Asset URL Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    # This module provides methods for generating asset paths and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # URLs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    #   image_path(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    #   # =&gt; &quot;/assets/rails.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    #   image_url(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    #   # =&gt; &quot;http://www.example.com/assets/rails.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    # === Using asset hosts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    # By default, Rails links to these assets on the current host in the public</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    # folder, but you can direct Rails to link to assets from a dedicated asset</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    # server by setting &lt;tt&gt;ActionController::Base.asset_host&lt;/tt&gt; in the application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    # configuration, typically in &lt;tt&gt;config/environments/production.rb&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    # For example, you&#39;d define &lt;tt&gt;assets.example.com&lt;/tt&gt; to be your asset</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    # host this way, inside the &lt;tt&gt;configure&lt;/tt&gt; block of your environment-specific</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # configuration files or &lt;tt&gt;config/application.rb&lt;/tt&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    #   config.action_controller.asset_host = &quot;assets.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    # Helpers take that into account:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    #   image_tag(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;img src=&quot;http://assets.example.com/assets/rails.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    #   stylesheet_link_tag(&quot;application&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;link href=&quot;http://assets.example.com/assets/application.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    # Browsers open a limited number of simultaneous connections to a single</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    # host. The exact number varies by browser and version. This limit may cause</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    # some asset downloads to wait for previous assets to finish before they can</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    # begin. You can use the &lt;tt&gt;%d&lt;/tt&gt; wildcard in the +asset_host+ to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    # distribute the requests over four hosts. For example,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    # &lt;tt&gt;assets%d.example.com&lt;/tt&gt; will spread the asset requests over</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    # &quot;assets0.example.com&quot;, ..., &quot;assets3.example.com&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    #   image_tag(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;img src=&quot;http://assets0.example.com/assets/rails.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    #   stylesheet_link_tag(&quot;application&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;link href=&quot;http://assets2.example.com/assets/application.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    # This may improve the asset loading performance of your application.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    # It is also possible the combination of additional connection overhead</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    # (DNS, SSL) and the overall browser connection limits may result in this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    # solution being slower. You should be sure to measure your actual</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    # performance across targeted browsers both before and after this change.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    # To implement the corresponding hosts you can either set up four actual</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    # hosts or use wildcard DNS to CNAME the wildcard to a single asset host.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    # You can read more about setting up your DNS CNAME records from your ISP.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    # Note: This is purely a browser performance optimization and is not meant</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    # for server load balancing. See https://www.die.net/musings/page_load_time/</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    # for background and https://www.browserscope.org/?category=network for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    # connection limit data.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">    # Alternatively, you can exert more control over the asset host by setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    # +asset_host+ to a proc like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    #   ActionController::Base.asset_host = Proc.new { |source|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    #     &quot;http://assets#{Digest::MD5.hexdigest(source).to_i(16) % 2 + 1}.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    #   image_tag(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;img src=&quot;http://assets1.example.com/assets/rails.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    #   stylesheet_link_tag(&quot;application&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;link href=&quot;http://assets2.example.com/assets/application.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    # The example above generates &quot;http://assets1.example.com&quot; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">    # &quot;http://assets2.example.com&quot;. This option is useful for example if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    # you need fewer/more than four hosts, custom host names, etc.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    # As you see the proc takes a +source+ parameter. That&#39;s a string with the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">    # absolute path of the asset, for example &quot;/assets/rails.png&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    #    ActionController::Base.asset_host = Proc.new { |source|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    #      if source.end_with?(&#39;.css&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    #        &quot;http://stylesheets.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    #      else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    #        &quot;http://assets.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    #      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    #    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    #   image_tag(&quot;rails.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;img src=&quot;http://assets.example.com/assets/rails.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">    #   stylesheet_link_tag(&quot;application&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    #   # =&gt; &lt;link href=&quot;http://stylesheets.example.com/assets/application.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">    # Alternatively you may ask for a second parameter +request+. That one is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    # particularly useful for serving assets from an SSL-protected page. The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">    # example proc below disables asset hosting for HTTPS connections, while</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">    # still sending assets for plain HTTP requests from asset hosts. If you don&#39;t</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    # have SSL certificates for each of the asset hosts this technique allows you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">    # to avoid warnings in the client about mixed media.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    # Note that the +request+ parameter might not be supplied, e.g. when the assets</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">    # are precompiled with the command `bin/rails assets:precompile`. Make sure to use a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">    # +Proc+ instead of a lambda, since a +Proc+ allows missing parameters and sets them</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">    # to +nil+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">    #   config.action_controller.asset_host = Proc.new { |source, request|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">    #     if request &amp;&amp; request.ssl?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    #       &quot;#{request.protocol}#{request.host_with_port}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    #     else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    #       &quot;#{request.protocol}assets.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">    # You can also implement a custom asset host object that responds to +call+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">    # and takes either one or two parameters just like the proc.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">    #   config.action_controller.asset_host = AssetHostingWithMinimumSsl.new(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    #     &quot;http://asset%d.example.com&quot;, &quot;https://asset1.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">    #   )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module AssetUrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">      URI_REGEXP = %r{^[-a-z]+://|^(?:cid|data):|^//}i</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      # This is the entry point for all assets.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      # When using the asset pipeline (i.e. sprockets and sprockets-rails), the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      # behavior is &quot;enhanced&quot;. You can bypass the asset pipeline by passing in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      # &lt;tt&gt;skip_pipeline: true&lt;/tt&gt; to the options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      # All other asset *_path helpers delegate through this method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      # === With the asset pipeline</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # All options passed to +asset_path+ will be passed to +compute_asset_path+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      # which is implemented by sprockets-rails.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #   asset_path(&quot;application.js&quot;) # =&gt; &quot;/assets/application-60aa4fdc5cea14baf5400fba1abf4f2a46a5166bad4772b1effe341570f07de9.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      #   asset_path(&#39;application.js&#39;, host: &#39;example.com&#39;) # =&gt; &quot;//example.com/assets/application.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      #   asset_path(&quot;application.js&quot;, host: &#39;example.com&#39;, protocol: &#39;https&#39;) # =&gt; &quot;https://example.com/assets/application.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      # === Without the asset pipeline (&lt;tt&gt;skip_pipeline: true&lt;/tt&gt;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      # Accepts a &lt;tt&gt;type&lt;/tt&gt; option that can specify the asset&#39;s extension. No error</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      # checking is done to verify the source passed into +asset_path+ is valid</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      # and that the file exists on disk.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      #   asset_path(&quot;application.js&quot;, skip_pipeline: true)                 # =&gt; &quot;application.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      #   asset_path(&quot;filedoesnotexist.png&quot;, skip_pipeline: true)           # =&gt; &quot;filedoesnotexist.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      #   asset_path(&quot;application&quot;, type: :javascript, skip_pipeline: true) # =&gt; &quot;/javascripts/application.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #   asset_path(&quot;application&quot;, type: :stylesheet, skip_pipeline: true) # =&gt; &quot;/stylesheets/application.css&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      # === Options applying to all assets</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      # Below lists scenarios that apply to +asset_path+ whether or not you&#39;re</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      # using the asset pipeline.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      # - All fully qualified URLs are returned immediately. This bypasses the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      #   asset pipeline and all other behavior described.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      #     asset_path(&quot;http://www.example.com/js/xmlhr.js&quot;) # =&gt; &quot;http://www.example.com/js/xmlhr.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # - All assets that begin with a forward slash are assumed to be full</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #   URLs and will not be expanded. This will bypass the asset pipeline.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #     asset_path(&quot;/foo.png&quot;) # =&gt; &quot;/foo.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      # - All blank strings will be returned immediately. This bypasses the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      #   asset pipeline and all other behavior described.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      #     asset_path(&quot;&quot;) # =&gt; &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      # - If &lt;tt&gt;config.relative_url_root&lt;/tt&gt; is specified, all assets will have that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #   root prepended.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #     Rails.application.config.relative_url_root = &quot;bar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      #     asset_path(&quot;foo.js&quot;, skip_pipeline: true) # =&gt; &quot;bar/foo.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      # - A different asset host can be specified via &lt;tt&gt;config.action_controller.asset_host&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      #   this is commonly used in conjunction with a CDN.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #     Rails.application.config.action_controller.asset_host = &quot;assets.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #     asset_path(&quot;foo.js&quot;, skip_pipeline: true) # =&gt; &quot;http://assets.example.com/foo.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      # - An extension name can be specified manually with &lt;tt&gt;extname&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #     asset_path(&quot;foo&quot;, skip_pipeline: true, extname: &quot;.js&quot;)     # =&gt; &quot;/foo.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #     asset_path(&quot;foo.css&quot;, skip_pipeline: true, extname: &quot;.js&quot;) # =&gt; &quot;/foo.css.js&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def asset_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">        raise ArgumentError, &quot;nil is not a valid asset source&quot; if source.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">        source = source.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="190">
            
            

            

            <code class="ruby">        return &quot;&quot; if source.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="191">
            
            

            

            <code class="ruby">        return source if URI_REGEXP.match?(source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="193">
            
            

            

            <code class="ruby">        tail, source = source[/([\?#].+)$/], source.sub(/([\?#].+)$/, &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="195">
            
            

            

            <code class="ruby">        if extname = compute_asset_extname(source, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="196">
            
            

            

            <code class="ruby">          source = &quot;#{source}#{extname}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="199">
            
            

            

            <code class="ruby">        if source[0] != ?/</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="200">
            
            

            

            <code class="ruby">          if options[:skip_pipeline]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="201">
            
            

            

            <code class="ruby">            source = public_compute_asset_path(source, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="203">
            
            

            

            <code class="ruby">            source = compute_asset_path(source, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="207">
            
            

            

            <code class="ruby">        relative_url_root = defined?(config.relative_url_root) &amp;&amp; config.relative_url_root</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="208">
            
            

            

            <code class="ruby">        if relative_url_root</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="209">
            
            

            

            <code class="ruby">          source = File.join(relative_url_root, source) unless source.start_with?(&quot;#{relative_url_root}/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="212">
            
            

            

            <code class="ruby">        if host = compute_asset_host(source, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="213">
            
            

            

            <code class="ruby">          source = File.join(host, source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="216">
            
            

            

            <code class="ruby">        &quot;#{source}#{tail}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="218">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_asset, :asset_path # aliased to avoid conflicts with an asset_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      # Computes the full URL to an asset in the public directory. This</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      # will use +asset_path+ internally, so most of their behaviors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      # will be the same. If :host options is set, it overwrites global</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      # All other options provided are forwarded to +asset_path+ call.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #   asset_url &quot;application.js&quot;                                 # =&gt; http://example.com/assets/application.js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      #   asset_url &quot;application.js&quot;, host: &quot;http://cdn.example.com&quot; # =&gt; http://cdn.example.com/assets/application.js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="230">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def asset_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="231">
            
            

            

            <code class="ruby">        path_to_asset(source, options.merge(protocol: :request))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="233">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_asset, :asset_url # aliased to avoid conflicts with an asset_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">      ASSET_EXTENSIONS = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">        javascript: &quot;.js&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">        stylesheet: &quot;.css&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # Compute extname to append to asset path. Returns +nil+ if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      # nothing should be added.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def compute_asset_extname(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="243">
            
            

            

            <code class="ruby">        return if options[:extname] == false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="244">
            
            

            

            <code class="ruby">        extname = options[:extname] || ASSET_EXTENSIONS[options[:type]]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="245">
            
            

            

            <code class="ruby">        if extname &amp;&amp; File.extname(source) != extname</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="246">
            
            

            

            <code class="ruby">          extname</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">          nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      # Maps asset types to public directory.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="253">
            <span class="hits">1</span>
            

            

            <code class="ruby">      ASSET_PUBLIC_DIRECTORIES = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">        audio:      &quot;/audios&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">        font:       &quot;/fonts&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">        image:      &quot;/images&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">        javascript: &quot;/javascripts&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">        stylesheet: &quot;/stylesheets&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">        video:      &quot;/videos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      # Computes asset path to public directory. Plugins and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      # extensions can override this method to point to custom assets</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      # or generate digested paths or query strings.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="265">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def compute_asset_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="266">
            
            

            

            <code class="ruby">        dir = ASSET_PUBLIC_DIRECTORIES[options[:type]] || &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="267">
            
            

            

            <code class="ruby">        File.join(dir, source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="269">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :public_compute_asset_path :compute_asset_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      # Pick an asset host for this source. Returns +nil+ if no host is set,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      # the host if no wildcard is set, the host interpolated with the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      # numbers 0-3 if it contains &lt;tt&gt;%d&lt;/tt&gt; (the number is the source hash mod 4),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      # or the value returned from invoking call on an object responding to call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      # (proc or otherwise).</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="276">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def compute_asset_host(source = &quot;&quot;, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="277">
            
            

            

            <code class="ruby">        request = self.request if respond_to?(:request)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="278">
            
            

            

            <code class="ruby">        host = options[:host]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="279">
            
            

            

            <code class="ruby">        host ||= config.asset_host if defined? config.asset_host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="281">
            
            

            

            <code class="ruby">        if host</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="282">
            
            

            

            <code class="ruby">          if host.respond_to?(:call)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="283">
            
            

            

            <code class="ruby">            arity = host.respond_to?(:arity) ? host.arity : host.method(:call).arity</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">            args = [source]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">            args &lt;&lt; request if request &amp;&amp; (arity &gt; 1 || arity &lt; 0)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">            host = host.call(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="287">
            
            

            

            <code class="ruby">          elsif host.include?(&quot;%d&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="288">
            
            

            

            <code class="ruby">            host = host % (Zlib.crc32(source) % 4)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="292">
            
            

            

            <code class="ruby">        host ||= request.base_url if request &amp;&amp; options[:protocol] == :request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="293">
            
            

            

            <code class="ruby">        return unless host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="295">
            
            

            

            <code class="ruby">        if URI_REGEXP.match?(host)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="296">
            
            

            

            <code class="ruby">          host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="298">
            
            

            

            <code class="ruby">          protocol = options[:protocol] || config.default_asset_host_protocol || (request ? :request : :relative)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="299">
            
            

            

            <code class="ruby">          case protocol</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">          when :relative</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="301">
            
            

            

            <code class="ruby">            &quot;//#{host}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">          when :request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="303">
            
            

            

            <code class="ruby">            &quot;#{request.protocol}#{host}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="305">
            
            

            

            <code class="ruby">            &quot;#{protocol}://#{host}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      # Computes the path to a JavaScript asset in the public javascripts directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      # If the +source+ filename has no extension, .js will be appended (except for explicit URIs)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      # Full paths from the document root will be passed through.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      # Used internally by +javascript_include_tag+ to build the script path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      #   javascript_path &quot;xmlhr&quot;                              # =&gt; /assets/xmlhr.js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      #   javascript_path &quot;dir/xmlhr.js&quot;                       # =&gt; /assets/dir/xmlhr.js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      #   javascript_path &quot;/dir/xmlhr&quot;                         # =&gt; /dir/xmlhr.js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #   javascript_path &quot;http://www.example.com/js/xmlhr&quot;    # =&gt; http://www.example.com/js/xmlhr</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      #   javascript_path &quot;http://www.example.com/js/xmlhr.js&quot; # =&gt; http://www.example.com/js/xmlhr.js</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="320">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def javascript_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="321">
            
            

            

            <code class="ruby">        path_to_asset(source, { type: :javascript }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="323">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_javascript, :javascript_path # aliased to avoid conflicts with a javascript_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      # Computes the full URL to a JavaScript asset in the public javascripts directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      # This will use +javascript_path+ internally, so most of their behaviors will be the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      # Since +javascript_url+ is based on +asset_url+ method you can set :host options. If :host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      # options is set, it overwrites global +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #   javascript_url &quot;js/xmlhr.js&quot;, host: &quot;http://stage.example.com&quot; # =&gt; http://stage.example.com/assets/js/xmlhr.js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="332">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def javascript_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="333">
            
            

            

            <code class="ruby">        url_to_asset(source, { type: :javascript }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="335">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_javascript, :javascript_url # aliased to avoid conflicts with a javascript_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      # Computes the path to a stylesheet asset in the public stylesheets directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      # If the +source+ filename has no extension, .css will be appended (except for explicit URIs).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      # Full paths from the document root will be passed through.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      # Used internally by +stylesheet_link_tag+ to build the stylesheet path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #   stylesheet_path &quot;style&quot;                                  # =&gt; /assets/style.css</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #   stylesheet_path &quot;dir/style.css&quot;                          # =&gt; /assets/dir/style.css</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      #   stylesheet_path &quot;/dir/style.css&quot;                         # =&gt; /dir/style.css</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      #   stylesheet_path &quot;http://www.example.com/css/style&quot;       # =&gt; http://www.example.com/css/style</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      #   stylesheet_path &quot;http://www.example.com/css/style.css&quot;   # =&gt; http://www.example.com/css/style.css</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="347">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def stylesheet_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="348">
            
            

            

            <code class="ruby">        path_to_asset(source, { type: :stylesheet }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="350">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_stylesheet, :stylesheet_path # aliased to avoid conflicts with a stylesheet_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      # Computes the full URL to a stylesheet asset in the public stylesheets directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      # This will use +stylesheet_path+ internally, so most of their behaviors will be the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">      # Since +stylesheet_url+ is based on +asset_url+ method you can set :host options. If :host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      # options is set, it overwrites global +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">      #   stylesheet_url &quot;css/style.css&quot;, host: &quot;http://stage.example.com&quot; # =&gt; http://stage.example.com/assets/css/style.css</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="359">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def stylesheet_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="360">
            
            

            

            <code class="ruby">        url_to_asset(source, { type: :stylesheet }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="362">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_stylesheet, :stylesheet_url # aliased to avoid conflicts with a stylesheet_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      # Computes the path to an image asset.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      # Full paths from the document root will be passed through.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      # Used internally by +image_tag+ to build the image path:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      #   image_path(&quot;edit&quot;)                                         # =&gt; &quot;/assets/edit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      #   image_path(&quot;edit.png&quot;)                                     # =&gt; &quot;/assets/edit.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      #   image_path(&quot;icons/edit.png&quot;)                               # =&gt; &quot;/assets/icons/edit.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #   image_path(&quot;/icons/edit.png&quot;)                              # =&gt; &quot;/icons/edit.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #   image_path(&quot;http://www.example.com/img/edit.png&quot;)          # =&gt; &quot;http://www.example.com/img/edit.png&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      # If you have images as application resources this method may conflict with their named routes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      # The alias +path_to_image+ is provided to avoid that. Rails uses the alias internally, and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      # plugin authors are encouraged to do so.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="377">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def image_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="378">
            
            

            

            <code class="ruby">        path_to_asset(source, { type: :image }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="380">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_image, :image_path # aliased to avoid conflicts with an image_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      # Computes the full URL to an image asset.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      # This will use +image_path+ internally, so most of their behaviors will be the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      # Since +image_url+ is based on +asset_url+ method you can set :host options. If :host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      # options is set, it overwrites global +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #   image_url &quot;edit.png&quot;, host: &quot;http://stage.example.com&quot; # =&gt; http://stage.example.com/assets/edit.png</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="389">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def image_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="390">
            
            

            

            <code class="ruby">        url_to_asset(source, { type: :image }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="392">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_image, :image_url # aliased to avoid conflicts with an image_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      # Computes the path to a video asset in the public videos directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      # Full paths from the document root will be passed through.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      # Used internally by +video_tag+ to build the video path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #   video_path(&quot;hd&quot;)                                            # =&gt; /videos/hd</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #   video_path(&quot;hd.avi&quot;)                                        # =&gt; /videos/hd.avi</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #   video_path(&quot;trailers/hd.avi&quot;)                               # =&gt; /videos/trailers/hd.avi</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      #   video_path(&quot;/trailers/hd.avi&quot;)                              # =&gt; /trailers/hd.avi</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">      #   video_path(&quot;http://www.example.com/vid/hd.avi&quot;)             # =&gt; http://www.example.com/vid/hd.avi</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="403">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def video_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="404">
            
            

            

            <code class="ruby">        path_to_asset(source, { type: :video }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="406">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_video, :video_path # aliased to avoid conflicts with a video_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby">      # Computes the full URL to a video asset in the public videos directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">      # This will use +video_path+ internally, so most of their behaviors will be the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">      # Since +video_url+ is based on +asset_url+ method you can set :host options. If :host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">      # options is set, it overwrites global +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      #   video_url &quot;hd.avi&quot;, host: &quot;http://stage.example.com&quot; # =&gt; http://stage.example.com/videos/hd.avi</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="415">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def video_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="416">
            
            

            

            <code class="ruby">        url_to_asset(source, { type: :video }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="418">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_video, :video_url # aliased to avoid conflicts with a video_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      # Computes the path to an audio asset in the public audios directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      # Full paths from the document root will be passed through.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      # Used internally by +audio_tag+ to build the audio path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #   audio_path(&quot;horse&quot;)                                            # =&gt; /audios/horse</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      #   audio_path(&quot;horse.wav&quot;)                                        # =&gt; /audios/horse.wav</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      #   audio_path(&quot;sounds/horse.wav&quot;)                                 # =&gt; /audios/sounds/horse.wav</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      #   audio_path(&quot;/sounds/horse.wav&quot;)                                # =&gt; /sounds/horse.wav</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      #   audio_path(&quot;http://www.example.com/sounds/horse.wav&quot;)          # =&gt; http://www.example.com/sounds/horse.wav</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="429">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def audio_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="430">
            
            

            

            <code class="ruby">        path_to_asset(source, { type: :audio }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="432">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_audio, :audio_path # aliased to avoid conflicts with an audio_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">      # Computes the full URL to an audio asset in the public audios directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">      # This will use +audio_path+ internally, so most of their behaviors will be the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">      # Since +audio_url+ is based on +asset_url+ method you can set :host options. If :host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">      # options is set, it overwrites global +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">      #   audio_url &quot;horse.wav&quot;, host: &quot;http://stage.example.com&quot; # =&gt; http://stage.example.com/audios/horse.wav</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="441">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def audio_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="442">
            
            

            

            <code class="ruby">        url_to_asset(source, { type: :audio }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="444">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_audio, :audio_url # aliased to avoid conflicts with an audio_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            
            

            

            <code class="ruby">      # Computes the path to a font asset.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">      # Full paths from the document root will be passed through.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">      #   font_path(&quot;font&quot;)                                           # =&gt; /fonts/font</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby">      #   font_path(&quot;font.ttf&quot;)                                       # =&gt; /fonts/font.ttf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">      #   font_path(&quot;dir/font.ttf&quot;)                                   # =&gt; /fonts/dir/font.ttf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">      #   font_path(&quot;/dir/font.ttf&quot;)                                  # =&gt; /dir/font.ttf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">      #   font_path(&quot;http://www.example.com/dir/font.ttf&quot;)            # =&gt; http://www.example.com/dir/font.ttf</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="454">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def font_path(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="455">
            
            

            

            <code class="ruby">        path_to_asset(source, { type: :font }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="457">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :path_to_font, :font_path # aliased to avoid conflicts with a font_path named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">      # Computes the full URL to a font asset.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">      # This will use +font_path+ internally, so most of their behaviors will be the same.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">      # Since +font_url+ is based on +asset_url+ method you can set :host options. If :host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">      # options is set, it overwrites global +config.action_controller.asset_host+ setting.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">      #   font_url &quot;font.ttf&quot;, host: &quot;http://stage.example.com&quot; # =&gt; http://stage.example.com/fonts/font.ttf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="466">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def font_url(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="467">
            
            

            

            <code class="ruby">        url_to_asset(source, { type: :font }.merge!(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="469">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :url_to_font, :font_url # aliased to avoid conflicts with a font_url named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8365377c48eef2cac3ca45d8fa80f335c3137060">
  <div class="header">
    <h3>lib/action_view/helpers/atom_feed_helper.rb</h3>
    <h4>
      <span class="red">
  29.09%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>55</b> relevant lines.
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>39</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;set&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/symbol/starts_ends_with&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # = Action View Atom Feed Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module AtomFeedHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      # Adds easy defaults to writing Atom feeds with the Builder template engine (this does not work on ERB or any other</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # template languages).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      # Full usage example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      #   config/routes.rb:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #     Rails.application.routes.draw do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      #       resources :posts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      #       root to: &quot;posts#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #   app/controllers/posts_controller.rb:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      #     class PostsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      #       # GET /posts.html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      #       # GET /posts.atom</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      #       def index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #         @posts = Post.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #         respond_to do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      #           format.html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      #           format.atom</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      #         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #   app/views/posts/index.atom.builder:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      #     atom_feed do |feed|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #       feed.title(&quot;My great blog!&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      #       feed.updated(@posts[0].created_at) if @posts.length &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #       @posts.each do |post|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #         feed.entry(post) do |entry|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #           entry.title(post.title)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #           entry.content(post.body, type: &#39;html&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #           entry.author do |author|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #             author.name(&quot;DHH&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #           end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      # The options for atom_feed are:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:language&lt;/tt&gt;: Defaults to &quot;en-US&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:root_url&lt;/tt&gt;: The HTML alternative that this feed is doubling for. Defaults to / on the current host.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:url&lt;/tt&gt;: The URL for this feed. Defaults to the current URL.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:id&lt;/tt&gt;: The id for this feed. Defaults to &quot;tag:localhost,2005:/posts&quot;, in this case.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:schema_date&lt;/tt&gt;: The date at which the tag scheme for the feed was first used. A good default is the year you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #   created the feed. See http://feedvalidator.org/docs/error/InvalidTAG.html for more information. If not specified,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   2005 is used (as an &quot;I don&#39;t care&quot; value).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:instruct&lt;/tt&gt;: Hash of XML processing instructions in the form {target =&gt; {attribute =&gt; value, }} or {target =&gt; [{attribute =&gt; value, }, ]}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      # Other namespaces can be added to the root element:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #   app/views/posts/index.atom.builder:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #     atom_feed({&#39;xmlns:app&#39; =&gt; &#39;http://www.w3.org/2007/app&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #         &#39;xmlns:openSearch&#39; =&gt; &#39;http://a9.com/-/spec/opensearch/1.1/&#39;}) do |feed|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #       feed.title(&quot;My great blog!&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #       feed.updated((@posts.first.created_at))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #       feed.tag!(&#39;openSearch:totalResults&#39;, 10)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #       @posts.each do |post|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #         feed.entry(post) do |entry|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #           entry.title(post.title)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #           entry.content(post.body, type: &#39;html&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #           entry.tag!(&#39;app:edited&#39;, Time.now)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #           entry.author do |author|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #             author.name(&quot;DHH&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #           end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      # The Atom spec defines five elements (content rights title subtitle</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      # summary) which may directly contain xhtml content if type: &#39;xhtml&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # is specified as an attribute. If so, this helper will take care of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      # the enclosing div and xhtml namespace declaration. Example usage:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      #    entry.summary type: &#39;xhtml&#39; do |xhtml|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #      xhtml.p pluralize(order.line_items.count, &quot;line item&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #      xhtml.p &quot;Shipped to #{order.address}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #      xhtml.p &quot;Paid by #{order.pay_type}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      # &lt;tt&gt;atom_feed&lt;/tt&gt; yields an +AtomFeedBuilder+ instance. Nested elements yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      # an +AtomBuilder+ instance.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def atom_feed(options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">        if options[:schema_date]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">          options[:schema_date] = options[:schema_date].strftime(&quot;%Y-%m-%d&quot;) if options[:schema_date].respond_to?(:strftime)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">          options[:schema_date] = &quot;2005&quot; # The Atom spec copyright date</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="106">
            
            

            

            <code class="ruby">        xml = options.delete(:xml) || eval(&quot;xml&quot;, block.binding)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">        xml.instruct!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="108">
            
            

            

            <code class="ruby">        if options[:instruct]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">          options[:instruct].each do |target, attrs|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">            if attrs.respond_to?(:keys)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="111">
            
            

            

            <code class="ruby">              xml.instruct!(target, attrs)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="112">
            
            

            

            <code class="ruby">            elsif attrs.respond_to?(:each)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">              attrs.each { |attr_group| xml.instruct!(target, attr_group) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="118">
            
            

            

            <code class="ruby">        feed_opts = { &quot;xml:lang&quot; =&gt; options[:language] || &quot;en-US&quot;, &quot;xmlns&quot; =&gt; &quot;http://www.w3.org/2005/Atom&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="119">
            
            

            

            <code class="ruby">        feed_opts.merge!(options).select! { |k, _| k.start_with?(&quot;xml&quot;) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="121">
            
            

            

            <code class="ruby">        xml.feed(feed_opts) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="122">
            
            

            

            <code class="ruby">          xml.id(options[:id] || &quot;tag:#{request.host},#{options[:schema_date]}:#{request.fullpath.split(&quot;.&quot;)[0]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">          xml.link(rel: &quot;alternate&quot;, type: &quot;text/html&quot;, href: options[:root_url] || (request.protocol + request.host_with_port))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="124">
            
            

            

            <code class="ruby">          xml.link(rel: &quot;self&quot;, type: &quot;application/atom+xml&quot;, href: options[:url] || request.url)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="126">
            
            

            

            <code class="ruby">          yield AtomFeedBuilder.new(xml, self, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class AtomBuilder #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">        XHTML_TAG_NAMES = %w(content rights title subtitle summary).to_set</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(xml)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="134">
            
            

            

            <code class="ruby">          @xml = xml</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="137">
            <span class="hits">1</span>
            

            

            <code class="ruby">        private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">          # Delegate to xml builder, first wrapping the element in an xhtml</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">          # namespaced div element if the method and arguments indicate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">          # that an xhtml_block? is desired.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="141">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def method_missing(method, *arguments, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">            if xhtml_block?(method, arguments)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">              @xml.__send__(method, *arguments) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="144">
            
            

            

            <code class="ruby">                @xml.div(xmlns: &quot;http://www.w3.org/1999/xhtml&quot;) do |xhtml|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="145">
            
            

            

            <code class="ruby">                  block.call(xhtml)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="149">
            
            

            

            <code class="ruby">              @xml.__send__(method, *arguments, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">          # True if the method name matches one of the five elements defined</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">          # in the Atom spec as potentially containing XHTML content and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">          # if type: &#39;xhtml&#39; is, in fact, specified.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def xhtml_block?(method, arguments)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="157">
            
            

            

            <code class="ruby">            if XHTML_TAG_NAMES.include?(method.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="158">
            
            

            

            <code class="ruby">              last = arguments.last</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="159">
            
            

            

            <code class="ruby">              last.is_a?(Hash) &amp;&amp; last[:type].to_s == &quot;xhtml&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class AtomFeedBuilder &lt; AtomBuilder #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(xml, view, feed_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="166">
            
            

            

            <code class="ruby">          @xml, @view, @feed_options = xml, view, feed_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">        # Accepts a Date or Time object and inserts it in the proper format. If +nil+ is passed, current time in UTC is used.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="170">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def updated(date_or_time = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="171">
            
            

            

            <code class="ruby">          @xml.updated((date_or_time || Time.now.utc).xmlschema)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">        # Creates an entry tag for a specific record and prefills the id using class and id.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">        # Options:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">        # * &lt;tt&gt;:published&lt;/tt&gt;: Time first published. Defaults to the created_at attribute on the record if one such exists.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">        # * &lt;tt&gt;:updated&lt;/tt&gt;: Time of update. Defaults to the updated_at attribute on the record if one such exists.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">        # * &lt;tt&gt;:url&lt;/tt&gt;: The URL for this entry or +false+ or +nil+ for not having a link tag. Defaults to the +polymorphic_url+ for the record.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">        # * &lt;tt&gt;:id&lt;/tt&gt;: The ID for this entry. Defaults to &quot;tag:#{@view.request.host},#{@feed_options[:schema_date]}:#{record.class}/#{record.id}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">        # * &lt;tt&gt;:type&lt;/tt&gt;: The TYPE for this entry. Defaults to &quot;text/html&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="183">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def entry(record, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="184">
            
            

            

            <code class="ruby">          @xml.entry do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">            @xml.id(options[:id] || &quot;tag:#{@view.request.host},#{@feed_options[:schema_date]}:#{record.class}/#{record.id}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">            if options[:published] || (record.respond_to?(:created_at) &amp;&amp; record.created_at)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="188">
            
            

            

            <code class="ruby">              @xml.published((options[:published] || record.created_at).xmlschema)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="191">
            
            

            

            <code class="ruby">            if options[:updated] || (record.respond_to?(:updated_at) &amp;&amp; record.updated_at)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="192">
            
            

            

            <code class="ruby">              @xml.updated((options[:updated] || record.updated_at).xmlschema)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="195">
            
            

            

            <code class="ruby">            type = options.fetch(:type, &quot;text/html&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="197">
            
            

            

            <code class="ruby">            url = options.fetch(:url) { @view.polymorphic_url(record) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="198">
            
            

            

            <code class="ruby">            @xml.link(rel: &quot;alternate&quot;, type: type, href: url) if url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="200">
            
            

            

            <code class="ruby">            yield AtomBuilder.new(@xml)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="96e4bc6cf793e64aeaec36efe2605d3e39f4487f">
  <div class="header">
    <h3>lib/action_view/helpers/cache_helper.rb</h3>
    <h4>
      <span class="red">
  28.26%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>46</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>33</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View Cache Helper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module CacheHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">      # This helper exposes a method for caching fragments of a view</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      # rather than an entire action or page. This technique is useful</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">      # caching pieces like menus, lists of new topics, static HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      # fragments, and so on. This method takes a block that contains</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # the content you wish to cache.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      # The best way to use this is by doing recyclable key-based cache expiration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # on top of a cache store like Memcached or Redis that&#39;ll automatically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # kick out old entries.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # When using this method, you list the cache dependency as the name of the cache, like so:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      #   &lt;% cache project do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      #     &lt;b&gt;All the topics on this project&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #     &lt;%= render project.topics %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      # This approach will assume that when a new topic is added, you&#39;ll touch</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # the project. The cache key generated from this call will be something like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      #   views/template/action:7a1156131a6928cb0026877f8b749ac9/projects/123</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #         ^template path  ^template tree digest            ^class   ^id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # This cache key is stable, but it&#39;s combined with a cache version derived from the project</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # record. When the project updated_at is touched, the #cache_version changes, even</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      # if the key stays stable. This means that unlike a traditional key-based cache expiration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      # approach, you won&#39;t be generating cache trash, unused keys, simply because the dependent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      # record is updated.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # If your template cache depends on multiple sources (try to avoid this to keep things simple),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      # you can name all these dependencies as part of an array:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      #   &lt;% cache [ project, current_user ] do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #     &lt;b&gt;All the topics on this project&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #     &lt;%= render project.topics %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      # This will include both records as part of the cache key and updating either of them will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      # expire the cache.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      # ==== \Template digest</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      # The template digest that&#39;s added to the cache key is computed by taking an MD5 of the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      # contents of the entire template file. This ensures that your caches will automatically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      # expire when you change the template file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      # Note that the MD5 is taken of the entire template file, not just what&#39;s within the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      # cache do/end call. So it&#39;s possible that changing something outside of that call will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # still expire the cache.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      # Additionally, the digestor will automatically look through your template file for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      # explicit and implicit dependencies, and include those as part of the digest.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      # The digestor can be bypassed by passing skip_digest: true as an option to the cache call:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #   &lt;% cache project, skip_digest: true do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      #     &lt;b&gt;All the topics on this project&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #     &lt;%= render project.topics %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      # ==== Implicit dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      # Most template dependencies can be derived from calls to render in the template itself.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # Here are some examples of render calls that Cache Digests knows how to decode:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #   render partial: &quot;comments/comment&quot;, collection: commentable.comments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #   render &quot;comments/comments&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #   render &#39;comments/comments&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #   render(&#39;comments/comments&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #   render &quot;header&quot; translates to render(&quot;comments/header&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #   render(@topic)         translates to render(&quot;topics/topic&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   render(topics)         translates to render(&quot;topics/topic&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #   render(message.topics) translates to render(&quot;topics/topic&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      # It&#39;s not possible to derive all render calls like that, though.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      # Here are a few examples of things that can&#39;t be derived:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #   render group_of_attachments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      #   render @project.documents.where(published: true).order(&#39;created_at&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      # You will have to rewrite those to the explicit form:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #   render partial: &#39;attachments/attachment&#39;, collection: group_of_attachments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #   render partial: &#39;documents/document&#39;, collection: @project.documents.where(published: true).order(&#39;created_at&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      # === Explicit dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      # Sometimes you&#39;ll have template dependencies that can&#39;t be derived at all. This is typically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      # the case when you have template rendering that happens in helpers. Here&#39;s an example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      #   &lt;%= render_sortable_todolists @project.todolists %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      # You&#39;ll need to use a special comment format to call those out:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      #   &lt;%# Template Dependency: todolists/todolist %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      #   &lt;%= render_sortable_todolists @project.todolists %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      # In some cases, like a single table inheritance setup, you might have</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # a bunch of explicit dependencies. Instead of writing every template out,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      # you can use a wildcard to match any template in a directory:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      #   &lt;%# Template Dependency: events/* %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #   &lt;%= render_categorizable_events @person.events %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      # This marks every template in the directory as a dependency. To find those</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      # templates, the wildcard path must be absolutely defined from &lt;tt&gt;app/views&lt;/tt&gt; or paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      # otherwise added with +prepend_view_path+ or +append_view_path+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      # This way the wildcard for &lt;tt&gt;app/views/recordings/events&lt;/tt&gt; would be &lt;tt&gt;recordings/events/*&lt;/tt&gt; etc.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      # The pattern used to match explicit dependencies is &lt;tt&gt;/# Template Dependency: (\S+)/&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      # so it&#39;s important that you type it out just so.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      # You can only declare one template dependency per line.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      # === External dependencies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      # If you use a helper method, for example, inside a cached block and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      # you then update that helper, you&#39;ll have to bump the cache as well.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      # It doesn&#39;t really matter how you do it, but the MD5 of the template file</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      # must change. One recommendation is to simply be explicit in a comment, like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #   &lt;%# Helper Dependency Updated: May 6, 2012 at 6pm %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #   &lt;%= some_helper_method(person) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # Now all you have to do is change that timestamp when the helper method changes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      # === Collection Caching</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      # When rendering a collection of objects that each use the same partial, a &lt;tt&gt;:cached&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      # option can be passed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      # For collections rendered such:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      #   &lt;%= render partial: &#39;projects/project&#39;, collection: @projects, cached: true %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;cached: true&lt;/tt&gt; will make Action View&#39;s rendering read several templates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      # from cache at once instead of one call per template.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      # Templates in the collection not already cached are written to cache.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      # Works great alongside individual template fragment caching.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      # For instance if the template the collection renders is cached like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      #   # projects/_project.html.erb</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      #   &lt;% cache project do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      #     &lt;%# ... %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      # Any collection renders will find those cached templates when attempting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      # to read multiple templates at once.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      # If your collection cache depends on multiple sources (try to avoid this to keep things simple),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # you can name all these dependencies as part of a block that returns an array:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #   &lt;%= render partial: &#39;projects/project&#39;, collection: @projects, cached: -&gt; project { [ project, current_user ] } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      # This will include both records as part of the cache key and updating either of them will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      # expire the cache.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache(name = {}, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="167">
            
            

            

            <code class="ruby">        if controller.respond_to?(:perform_caching) &amp;&amp; controller.perform_caching</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="168">
            
            

            

            <code class="ruby">          name_options = options.slice(:skip_digest)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="169">
            
            

            

            <code class="ruby">          safe_concat(fragment_for(cache_fragment_name(name, **name_options), options, &amp;block))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="171">
            
            

            

            <code class="ruby">          yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">        nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      # Cache fragments of a view if +condition+ is true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #   &lt;% cache_if admin?, project do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #     &lt;b&gt;All the topics on this project&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #     &lt;%= render project.topics %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="183">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_if(condition, name = {}, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="184">
            
            

            

            <code class="ruby">        if condition</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">          cache(name, options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">          yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">        nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      # Cache fragments of a view unless +condition+ is true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      #   &lt;% cache_unless admin?, project do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      #     &lt;b&gt;All the topics on this project&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      #     &lt;%= render project.topics %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="199">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_unless(condition, name = {}, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="200">
            
            

            

            <code class="ruby">        cache_if !condition, name, options, &amp;block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      # This helper returns the name of a cache key for a given fragment cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      # call. By supplying &lt;tt&gt;skip_digest: true&lt;/tt&gt; to cache, the digestion of cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      # fragments can be manually bypassed. This is useful when cache fragments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      # cannot be manually expired unless you know the exact key which is the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      # case when using memcached.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="208">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_fragment_name(name = {}, skip_digest: nil, digest_path: nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="209">
            
            

            

            <code class="ruby">        if skip_digest</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="210">
            
            

            

            <code class="ruby">          name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="212">
            
            

            

            <code class="ruby">          fragment_name_with_digest(name, digest_path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="216">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def digest_path_from_template(template) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="217">
            
            

            

            <code class="ruby">        digest = Digestor.digest(name: template.virtual_path, format: template.format, finder: lookup_context, dependencies: view_cache_dependencies)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="219">
            
            

            

            <code class="ruby">        if digest.present?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="220">
            
            

            

            <code class="ruby">          &quot;#{template.virtual_path}:#{digest}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="222">
            
            

            

            <code class="ruby">          template.virtual_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="226">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="227">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fragment_name_with_digest(name, digest_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="228">
            
            

            

            <code class="ruby">        name = controller.url_for(name).split(&quot;://&quot;).last if name.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="230">
            
            

            

            <code class="ruby">        if @current_template&amp;.virtual_path || digest_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="231">
            
            

            

            <code class="ruby">          digest_path ||= digest_path_from_template(@current_template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="232">
            
            

            

            <code class="ruby">          [ digest_path, name ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="234">
            
            

            

            <code class="ruby">          name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="238">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fragment_for(name = {}, options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="239">
            
            

            

            <code class="ruby">        if content = read_fragment_for(name, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="240">
            
            

            

            <code class="ruby">          @view_renderer.cache_hits[@current_template&amp;.virtual_path] = :hit if defined?(@view_renderer)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="241">
            
            

            

            <code class="ruby">          content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="243">
            
            

            

            <code class="ruby">          @view_renderer.cache_hits[@current_template&amp;.virtual_path] = :miss if defined?(@view_renderer)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="244">
            
            

            

            <code class="ruby">          write_fragment_for(name, options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def read_fragment_for(name, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="249">
            
            

            

            <code class="ruby">        controller.read_fragment(name, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="252">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def write_fragment_for(name, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="253">
            
            

            

            <code class="ruby">        pos = output_buffer.length</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="254">
            
            

            

            <code class="ruby">        yield</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="255">
            
            

            

            <code class="ruby">        output_safe = output_buffer.html_safe?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="256">
            
            

            

            <code class="ruby">        fragment = output_buffer.slice!(pos..-1)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="257">
            
            

            

            <code class="ruby">        if output_safe</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="258">
            
            

            

            <code class="ruby">          self.output_buffer = output_buffer.class.new(output_buffer)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="260">
            
            

            

            <code class="ruby">        controller.write_fragment(name, fragment, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="519386e64b0478958e62e423f8a43583ad173522">
  <div class="header">
    <h3>lib/action_view/helpers/capture_helper.rb</h3>
    <h4>
      <span class="red">
  28.13%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>32</b> relevant lines.
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>23</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # = Action View Capture Helper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    # CaptureHelper exposes methods to let you extract generated markup which</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # can be used in other parts of a template or layout file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    # It provides a method to capture blocks into variables through capture and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # a way to capture a block of markup for use in a layout through {content_for}[rdoc-ref:ActionView::Helpers::CaptureHelper#content_for].</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module CaptureHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # The capture method extracts part of a template as a String object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # You can then use this object anywhere in your templates, layout, or helpers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # The capture method can be used in ERB templates...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      #   &lt;% @greeting = capture do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      #     Welcome to my shiny new web page!  The date and time is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #     &lt;%= Time.now %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      # ...and Builder (RXML) templates.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #   @timestamp = capture do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      #     &quot;The current timestamp is #{Time.now}.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # You can then use that variable anywhere else. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #   &lt;html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      #   &lt;head&gt;&lt;title&gt;&lt;%= @greeting %&gt;&lt;/title&gt;&lt;/head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #   &lt;body&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #   &lt;b&gt;&lt;%= @greeting %&gt;&lt;/b&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      #   &lt;/body&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # The return of capture is the string generated by the block. For Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #   @greeting # =&gt; &quot;Welcome to my shiny new web page! The date and time is 2018-09-06 11:09:16 -0500&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def capture(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">        value = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">        buffer = with_output_buffer { value = yield(*args) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        if (string = buffer.presence || value) &amp;&amp; string.is_a?(String)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">          ERB::Util.html_escape string</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      # Calling &lt;tt&gt;content_for&lt;/tt&gt; stores a block of markup in an identifier for later use.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      # In order to access this stored content in other templates, helper modules</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      # or the layout, you would pass the identifier as an argument to &lt;tt&gt;content_for&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # Note: &lt;tt&gt;yield&lt;/tt&gt; can still be used to retrieve the stored content, but calling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # &lt;tt&gt;yield&lt;/tt&gt; doesn&#39;t work in helper modules, while &lt;tt&gt;content_for&lt;/tt&gt; does.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   &lt;% content_for :not_authorized do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #     alert(&#39;You are not authorized to do that!&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      # You can then use &lt;tt&gt;content_for :not_authorized&lt;/tt&gt; anywhere in your templates.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #   &lt;%= content_for :not_authorized if current_user.nil? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      # This is equivalent to:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #   &lt;%= yield :not_authorized if current_user.nil? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # &lt;tt&gt;content_for&lt;/tt&gt;, however, can also be used in helper modules.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #   module StorageHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #     def stored_content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #       content_for(:storage) || &quot;Your storage is empty&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      # This helper works just like normal helpers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   &lt;%= stored_content %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      # You can also use the &lt;tt&gt;yield&lt;/tt&gt; syntax alongside an existing call to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      # &lt;tt&gt;yield&lt;/tt&gt; in a layout. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #   &lt;%# This is the layout %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #   &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      #   &lt;head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      #     &lt;title&gt;My Website&lt;/title&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      #     &lt;%= yield :script %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      #   &lt;/head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #   &lt;body&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #     &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #   &lt;/body&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      # And now, we&#39;ll create a view that has a &lt;tt&gt;content_for&lt;/tt&gt; call that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      # creates the &lt;tt&gt;script&lt;/tt&gt; identifier.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      #   &lt;%# This is our view %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #   Please login!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #   &lt;% content_for :script do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      #     &lt;script&gt;alert(&#39;You are not authorized to view this page!&#39;)&lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      # Then, in another view, you could to do something like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      #   &lt;%= link_to &#39;Logout&#39;, action: &#39;logout&#39;, remote: true %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      #   &lt;% content_for :script do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #     &lt;%= javascript_include_tag :defaults %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      # That will place +script+ tags for your default set of JavaScript files on the page;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      # this technique is useful if you&#39;ll only be using these scripts in a few views.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      # Note that &lt;tt&gt;content_for&lt;/tt&gt; concatenates (default) the blocks it is given for a particular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      # identifier in order. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      #   &lt;% content_for :navigation do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;%= link_to &#39;Home&#39;, action: &#39;index&#39; %&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #  And in another place:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      #   &lt;% content_for :navigation do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;%= link_to &#39;Login&#39;, action: &#39;login&#39; %&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      # Then, in another template or layout, this code would render both links in order:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      #   &lt;ul&gt;&lt;%= content_for :navigation %&gt;&lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      # If the flush parameter is +true+ &lt;tt&gt;content_for&lt;/tt&gt; replaces the blocks it is given. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      #   &lt;% content_for :navigation do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;%= link_to &#39;Home&#39;, action: &#39;index&#39; %&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      #   &lt;%#  Add some other content, or use a different template: %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      #   &lt;% content_for :navigation, flush: true do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;%= link_to &#39;Login&#39;, action: &#39;login&#39; %&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      # Then, in another template or layout, this code would render only the last link:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #   &lt;ul&gt;&lt;%= content_for :navigation %&gt;&lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      # Lastly, simple content can be passed as a parameter:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      #   &lt;% content_for :script, javascript_include_tag(:defaults) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      # WARNING: &lt;tt&gt;content_for&lt;/tt&gt; is ignored in caches. So you shouldn&#39;t use it for elements that will be fragment cached.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def content_for(name, content = nil, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="156">
            
            

            

            <code class="ruby">        if content || block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="157">
            
            

            

            <code class="ruby">          if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="158">
            
            

            

            <code class="ruby">            options = content if content</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="159">
            
            

            

            <code class="ruby">            content = capture(&amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="161">
            
            

            

            <code class="ruby">          if content</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="162">
            
            

            

            <code class="ruby">            options[:flush] ? @view_flow.set(name, content) : @view_flow.append(name, content)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">          nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="166">
            
            

            

            <code class="ruby">          @view_flow.get(name).presence</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      # The same as +content_for+ but when used with streaming flushes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      # straight back to the layout. In other words, if you want to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      # concatenate several times to the same buffer when rendering a given</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      # template, you should use +content_for+, if not, use +provide+ to tell</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      # the layout to stop looking for more contents.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def provide(name, content = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="176">
            
            

            

            <code class="ruby">        content = capture(&amp;block) if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">        result = @view_flow.append!(name, content) if content</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="178">
            
            

            

            <code class="ruby">        result unless content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      # &lt;tt&gt;content_for?&lt;/tt&gt; checks whether any content has been captured yet using &lt;tt&gt;content_for&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      # Useful to render parts of your layout differently based on what is in your views.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #   &lt;%# This is the layout %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #   &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      #   &lt;head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #     &lt;title&gt;My Website&lt;/title&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      #     &lt;%= yield :script %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #   &lt;/head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #   &lt;body class=&quot;&lt;%= content_for?(:right_col) ? &#39;two-column&#39; : &#39;one-column&#39; %&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      #     &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      #     &lt;%= yield :right_col %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      #   &lt;/body&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="195">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def content_for?(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="196">
            
            

            

            <code class="ruby">        @view_flow.get(name).present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      # Use an alternate output buffer for the duration of the block.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      # Defaults to a new empty string.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def with_output_buffer(buf = nil) #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="202">
            
            

            

            <code class="ruby">        unless buf</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="203">
            
            

            

            <code class="ruby">          buf = ActionView::OutputBuffer.new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="204">
            
            

            

            <code class="ruby">          if output_buffer &amp;&amp; output_buffer.respond_to?(:encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="205">
            
            

            

            <code class="ruby">            buf.force_encoding(output_buffer.encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="208">
            
            

            

            <code class="ruby">        self.output_buffer, old_buffer = buf, output_buffer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="209">
            
            

            

            <code class="ruby">        yield</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="210">
            
            

            

            <code class="ruby">        output_buffer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      ensure</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="212">
            
            

            

            <code class="ruby">        self.output_buffer = old_buffer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="566d117f84e380413937dd1e5a7e0cb61166ac49">
  <div class="header">
    <h3>lib/action_view/helpers/controller_helper.rb</h3>
    <h4>
      <span class="red">
  58.82%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>17</b> relevant lines.
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>7</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attr_internal&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">    # This module keeps all methods and behavior in ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    # that simply delegates to the controller.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ControllerHelper #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_internal :controller, :request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">      CONTROLLER_DELEGATES = [:request_forgery_protection_token, :params,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        :session, :cookies, :response, :headers, :flash, :action_name,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">        :controller_name, :controller_path]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delegate(*CONTROLLER_DELEGATES, to: :controller)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def assign_controller(controller)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">        if @_controller = controller</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">          @_request = controller.request if controller.respond_to?(:request)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">          @_config  = controller.config.inheritable_copy if controller.respond_to?(:config)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">          @_default_form_builder = controller.default_form_builder if controller.respond_to?(:default_form_builder)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def logger</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">        controller.logger if controller.respond_to?(:logger)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def respond_to?(method_name, include_private = false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">        return controller.respond_to?(method_name) if CONTROLLER_DELEGATES.include?(method_name.to_sym)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fdb035bf893bf87b32f8eb0c4e9b2e6ad4d1a369">
  <div class="header">
    <h3>lib/action_view/helpers/csp_helper.rb</h3>
    <h4>
      <span class="red">
  50.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>8</b> relevant lines.
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View CSP Helper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module CspHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">      # Returns a meta tag &quot;csp-nonce&quot; with the per-session nonce value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      # for allowing inline &lt;script&gt; tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      #   &lt;head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      #     &lt;%= csp_meta_tag %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      #   &lt;/head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # This is used by the Rails UJS helper to create dynamically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # loaded inline &lt;script&gt; elements.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def csp_meta_tag(**options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">        if content_security_policy?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">          options[:name] = &quot;csp-nonce&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">          options[:content] = content_security_policy_nonce</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">          tag(&quot;meta&quot;, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5dc11d5a65382fed95e623daed79fc36e417067c">
  <div class="header">
    <h3>lib/action_view/helpers/csrf_helper.rb</h3>
    <h4>
      <span class="red">
  71.43%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>7</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View CSRF Helper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module CsrfHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">      # Returns meta tags &quot;csrf-param&quot; and &quot;csrf-token&quot; with the name of the cross-site</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      # request forgery protection parameter and token, respectively.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      #   &lt;head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      #     &lt;%= csrf_meta_tags %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      #   &lt;/head&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # These are used to generate the dynamic forms that implement non-remote links with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:method&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # You don&#39;t need to use these tags for regular forms as they generate their own hidden fields.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      # For AJAX requests other than GETs, extract the &quot;csrf-token&quot; from the meta-tag and send as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      # &quot;X-CSRF-Token&quot; HTTP header. If you are using rails-ujs this happens automatically.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def csrf_meta_tags</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">        if defined?(protect_against_forgery?) &amp;&amp; protect_against_forgery?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">          [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">            tag(&quot;meta&quot;, name: &quot;csrf-param&quot;, content: request_forgery_protection_token),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">            tag(&quot;meta&quot;, name: &quot;csrf-token&quot;, content: form_authenticity_token)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">          ].join(&quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # For backwards compatibility.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias csrf_meta_tag csrf_meta_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="26f4f0e4a55061f7203c0db8f4144229cfaff341">
  <div class="header">
    <h3>lib/action_view/helpers/date_helper.rb</h3>
    <h4>
      <span class="red">
  23.05%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>308</b> relevant lines.
      <span class="green"><b>71</b> lines covered</span> and
      <span class="red"><b>237</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;date&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/array/extract_options&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/date/conversions&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/hash/slice&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/object/acts_like&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/object/with_options&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # = Action View Date Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    # The Date Helper primarily creates select/option tags for different kinds of dates and times or date and time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    # elements. All of the select-type methods share a number of common options that are as follows:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:prefix&lt;/tt&gt; - overwrites the default prefix of &quot;date&quot; used for the select names. So specifying &quot;birthday&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    #   would give \birthday[month] instead of \date[month] if passed to the &lt;tt&gt;select_month&lt;/tt&gt; method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:include_blank&lt;/tt&gt; - set to true if it should be possible to set an empty date.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:discard_type&lt;/tt&gt; - set to true if you want to discard the type part of the select name. If set to true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    #   the &lt;tt&gt;select_month&lt;/tt&gt; method would use simply &quot;date&quot; (which can be overwritten using &lt;tt&gt;:prefix&lt;/tt&gt;) instead</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    #   of \date[month].</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module DateHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">      MINUTES_IN_YEAR = 525600</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      MINUTES_IN_QUARTER_YEAR = 131400</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">      MINUTES_IN_THREE_QUARTERS_YEAR = 394200</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # Reports the approximate distance in time between two Time, Date or DateTime objects or integers as seconds.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # Pass &lt;tt&gt;include_seconds: true&lt;/tt&gt; if you want more detailed approximations when distance &lt; 1 min, 29 secs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # Distances are reported based on the following table:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      #   0 &lt;-&gt; 29 secs                                                             # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #   30 secs &lt;-&gt; 1 min, 29 secs                                                # =&gt; 1 minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #   1 min, 30 secs &lt;-&gt; 44 mins, 29 secs                                       # =&gt; [2..44] minutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      #   44 mins, 30 secs &lt;-&gt; 89 mins, 29 secs                                     # =&gt; about 1 hour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #   89 mins, 30 secs &lt;-&gt; 23 hrs, 59 mins, 29 secs                             # =&gt; about [2..24] hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      #   23 hrs, 59 mins, 30 secs &lt;-&gt; 41 hrs, 59 mins, 29 secs                     # =&gt; 1 day</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      #   41 hrs, 59 mins, 30 secs  &lt;-&gt; 29 days, 23 hrs, 59 mins, 29 secs           # =&gt; [2..29] days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #   29 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 44 days, 23 hrs, 59 mins, 29 secs   # =&gt; about 1 month</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #   44 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 59 days, 23 hrs, 59 mins, 29 secs   # =&gt; about 2 months</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #   59 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 1 yr minus 1 sec                    # =&gt; [2..12] months</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #   1 yr &lt;-&gt; 1 yr, 3 months                                                   # =&gt; about 1 year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #   1 yr, 3 months &lt;-&gt; 1 yr, 9 months                                         # =&gt; over 1 year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #   1 yr, 9 months &lt;-&gt; 2 yr minus 1 sec                                       # =&gt; almost 2 years</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #   2 yrs &lt;-&gt; max time or date                                                # =&gt; (same rules as 1 yr)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      # With &lt;tt&gt;include_seconds: true&lt;/tt&gt; and the difference &lt; 1 minute 29 seconds:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #   0-4   secs      # =&gt; less than 5 seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #   5-9   secs      # =&gt; less than 10 seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #   10-19 secs      # =&gt; less than 20 seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #   20-39 secs      # =&gt; half a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #   40-59 secs      # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #   60-89 secs      # =&gt; 1 minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      #   from_time = Time.now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 50.minutes)                                # =&gt; about 1 hour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, 50.minutes.from_now)                                   # =&gt; about 1 hour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 15.seconds)                                # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 15.seconds, include_seconds: true)         # =&gt; less than 20 seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, 3.years.from_now)                                      # =&gt; about 3 years</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 60.hours)                                  # =&gt; 3 days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 45.seconds, include_seconds: true)         # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time - 45.seconds, include_seconds: true)         # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, 76.seconds.from_now)                                   # =&gt; 1 minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 1.year + 3.days)                           # =&gt; about 1 year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 3.years + 6.months)                        # =&gt; over 3 years</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 4.years + 9.days + 30.minutes + 5.seconds) # =&gt; about 4 years</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #   to_time = Time.now + 6.years + 19.days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, to_time, include_seconds: true)                        # =&gt; about 6 years</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(to_time, from_time, include_seconds: true)                        # =&gt; about 6 years</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(Time.now, Time.now)                                               # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      # With the &lt;tt&gt;scope&lt;/tt&gt; option, you can define a custom scope for Rails</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      # to look up the translation.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      # For example you can define the following in your locale (e.g. en.yml).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   datetime:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #     distance_in_words:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #       short:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #         about_x_hours:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #           one: &#39;an hour&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #           other: &#39;%{count} hours&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # See https://github.com/svenfuchs/rails-i18n/blob/master/rails/locale/en.yml</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      # for more examples.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      # Which will then result in the following:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #   from_time = Time.now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 50.minutes, scope: &#39;datetime.distance_in_words.short&#39;) # =&gt; &quot;an hour&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #   distance_of_time_in_words(from_time, from_time + 3.hours, scope: &#39;datetime.distance_in_words.short&#39;)    # =&gt; &quot;3 hours&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def distance_of_time_in_words(from_time, to_time = 0, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">        options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">          scope: :&#39;datetime.distance_in_words&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">        }.merge!(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">        from_time = normalize_distance_of_time_argument_to_time(from_time)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">        to_time = normalize_distance_of_time_argument_to_time(to_time)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">        from_time, to_time = to_time, from_time if from_time &gt; to_time</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">        distance_in_minutes = ((to_time - from_time) / 60.0).round</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        distance_in_seconds = (to_time - from_time).round</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="106">
            
            

            

            <code class="ruby">        I18n.with_options locale: options[:locale], scope: options[:scope] do |locale|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">          case distance_in_minutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">          when 0..1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">            return distance_in_minutes == 0 ?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">                   locale.t(:less_than_x_minutes, count: 1) :</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="111">
            
            

            

            <code class="ruby">                   locale.t(:x_minutes, count: distance_in_minutes) unless options[:include_seconds]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">            case distance_in_seconds</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="114">
            
            

            

            <code class="ruby">            when 0..4   then locale.t :less_than_x_seconds, count: 5</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="115">
            
            

            

            <code class="ruby">            when 5..9   then locale.t :less_than_x_seconds, count: 10</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">            when 10..19 then locale.t :less_than_x_seconds, count: 20</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="117">
            
            

            

            <code class="ruby">            when 20..39 then locale.t :half_a_minute</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="118">
            
            

            

            <code class="ruby">            when 40..59 then locale.t :less_than_x_minutes, count: 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="119">
            
            

            

            <code class="ruby">            else             locale.t :x_minutes,           count: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="122">
            
            

            

            <code class="ruby">          when 2...45           then locale.t :x_minutes,      count: distance_in_minutes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">          when 45...90          then locale.t :about_x_hours,  count: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">            # 90 mins up to 24 hours</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="125">
            
            

            

            <code class="ruby">          when 90...1440        then locale.t :about_x_hours,  count: (distance_in_minutes.to_f / 60.0).round</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">            # 24 hours up to 42 hours</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="127">
            
            

            

            <code class="ruby">          when 1440...2520      then locale.t :x_days,         count: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">            # 42 hours up to 30 days</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="129">
            
            

            

            <code class="ruby">          when 2520...43200     then locale.t :x_days,         count: (distance_in_minutes.to_f / 1440.0).round</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">            # 30 days up to 60 days</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="131">
            
            

            

            <code class="ruby">          when 43200...86400    then locale.t :about_x_months, count: (distance_in_minutes.to_f / 43200.0).round</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">            # 60 days up to 365 days</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="133">
            
            

            

            <code class="ruby">          when 86400...525600   then locale.t :x_months,       count: (distance_in_minutes.to_f / 43200.0).round</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">            from_year = from_time.year</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">            from_year += 1 if from_time.month &gt;= 3</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">            to_year = to_time.year</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="138">
            
            

            

            <code class="ruby">            to_year -= 1 if to_time.month &lt; 3</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="139">
            
            

            

            <code class="ruby">            leap_years = (from_year &gt; to_year) ? 0 : (from_year..to_year).count { |x| Date.leap?(x) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="140">
            
            

            

            <code class="ruby">            minute_offset_for_leap_year = leap_years * 1440</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">            # Discount the leap year days when calculating year distance.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">            # e.g. if there are 20 leap year days between 2 dates having the same day</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">            # and month then the based on 365 days calculation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">            # the distance in years will come out to over 80 years when in written</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">            # English it would read better as about 80 years.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">            minutes_with_offset = distance_in_minutes - minute_offset_for_leap_year</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">            remainder                   = (minutes_with_offset % MINUTES_IN_YEAR)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">            distance_in_years           = (minutes_with_offset.div MINUTES_IN_YEAR)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="149">
            
            

            

            <code class="ruby">            if remainder &lt; MINUTES_IN_QUARTER_YEAR</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="150">
            
            

            

            <code class="ruby">              locale.t(:about_x_years,  count: distance_in_years)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="151">
            
            

            

            <code class="ruby">            elsif remainder &lt; MINUTES_IN_THREE_QUARTERS_YEAR</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">              locale.t(:over_x_years,   count: distance_in_years)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">              locale.t(:almost_x_years, count: distance_in_years + 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # Like &lt;tt&gt;distance_of_time_in_words&lt;/tt&gt;, but where &lt;tt&gt;to_time&lt;/tt&gt; is fixed to &lt;tt&gt;Time.now&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #   time_ago_in_words(3.minutes.from_now)                 # =&gt; 3 minutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #   time_ago_in_words(3.minutes.ago)                      # =&gt; 3 minutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #   time_ago_in_words(Time.now - 15.hours)                # =&gt; about 15 hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      #   time_ago_in_words(Time.now)                           # =&gt; less than a minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      #   time_ago_in_words(Time.now, include_seconds: true) # =&gt; less than 5 seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      #   from_time = Time.now - 3.days - 14.minutes - 25.seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #   time_ago_in_words(from_time)      # =&gt; 3 days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #   from_time = (3.days + 14.minutes + 25.seconds).ago</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      #   time_ago_in_words(from_time)      # =&gt; 3 days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      # Note that you cannot pass a &lt;tt&gt;Numeric&lt;/tt&gt; value to &lt;tt&gt;time_ago_in_words&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="176">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_ago_in_words(from_time, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">        distance_of_time_in_words(from_time, Time.now, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :distance_of_time_in_words_to_now, :time_ago_in_words</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      # Returns a set of select tags (one for year, month, and day) pre-selected for accessing a specified date-based</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      # attribute (identified by +method+) on an object assigned to the template (identified by +object+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:use_month_numbers&lt;/tt&gt; - Set to true if you want to use month numbers rather than month names (e.g.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #   &quot;2&quot; instead of &quot;February&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:use_two_digit_numbers&lt;/tt&gt; - Set to true if you want to display two digit month and day numbers (e.g.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #   &quot;02&quot; instead of &quot;February&quot; and &quot;08&quot; instead of &quot;8&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:use_short_month&lt;/tt&gt;   - Set to true if you want to use abbreviated month names instead of full</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      #   month names (e.g. &quot;Feb&quot; instead of &quot;February&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:add_month_numbers&lt;/tt&gt;  - Set to true if you want to use both month numbers and month names (e.g.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      #   &quot;2 - February&quot; instead of &quot;February&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:use_month_names&lt;/tt&gt;   - Set to an array with 12 month names if you want to customize month names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      #   Note: You can also use Rails&#39; i18n functionality for this.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:month_format_string&lt;/tt&gt; - Set to a format string. The string gets passed keys +:number+ (integer)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      #   and +:name+ (string). A format string would be something like &quot;%{name} (%&lt;number&gt;02d)&quot; for example.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      #   See &lt;tt&gt;Kernel.sprintf&lt;/tt&gt; for documentation on format sequences.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:date_separator&lt;/tt&gt;    - Specifies a string to separate the date fields. Default is &quot;&quot; (i.e. nothing).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:time_separator&lt;/tt&gt;    - Specifies a string to separate the time fields. Default is &quot; : &quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:datetime_separator&lt;/tt&gt;- Specifies a string to separate the date and time fields. Default is &quot; &amp;mdash; &quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:start_year&lt;/tt&gt;        - Set the start year for the year select. Default is &lt;tt&gt;Date.today.year - 5&lt;/tt&gt; if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      #   you are creating new record. While editing existing record, &lt;tt&gt;:start_year&lt;/tt&gt; defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      #   the current selected year minus 5.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:end_year&lt;/tt&gt;          - Set the end year for the year select. Default is &lt;tt&gt;Date.today.year + 5&lt;/tt&gt; if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      #   you are creating new record. While editing existing record, &lt;tt&gt;:end_year&lt;/tt&gt; defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      #   the current selected year plus 5.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:year_format&lt;/tt&gt;       - Set format of years for year select. Lambda should be passed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:discard_day&lt;/tt&gt;       - Set to true if you don&#39;t want to show a day select. This includes the day</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      #   as a hidden field instead of showing a select field. Also note that this implicitly sets the day to be the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      #   first of the given month in order to not create invalid dates like 31 February.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:discard_month&lt;/tt&gt;     - Set to true if you don&#39;t want to show a month select. This includes the month</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      #   as a hidden field instead of showing a select field. Also note that this implicitly sets :discard_day to true.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:discard_year&lt;/tt&gt;      - Set to true if you don&#39;t want to show a year select. This includes the year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      #   as a hidden field instead of showing a select field.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:order&lt;/tt&gt;             - Set to an array containing &lt;tt&gt;:day&lt;/tt&gt;, &lt;tt&gt;:month&lt;/tt&gt; and &lt;tt&gt;:year&lt;/tt&gt; to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      #   customize the order in which the select fields are shown. If you leave out any of the symbols, the respective</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      #   select will not be shown (like when you set &lt;tt&gt;discard_xxx: true&lt;/tt&gt;. Defaults to the order defined in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      #   the respective locale (e.g. [:year, :month, :day] in the en locale that ships with Rails).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:include_blank&lt;/tt&gt;     - Include a blank option in every select field so it&#39;s possible to set empty</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      #   dates.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:default&lt;/tt&gt;           - Set a default date if the affected date isn&#39;t set or is +nil+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:selected&lt;/tt&gt;          - Set a date that overrides the actual value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt;          - Set to true if you want show the select fields as disabled.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:prompt&lt;/tt&gt;            - Set to true (for a generic prompt), a prompt string or a hash of prompt strings</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      #   for &lt;tt&gt;:year&lt;/tt&gt;, &lt;tt&gt;:month&lt;/tt&gt;, &lt;tt&gt;:day&lt;/tt&gt;, &lt;tt&gt;:hour&lt;/tt&gt;, &lt;tt&gt;:minute&lt;/tt&gt; and &lt;tt&gt;:second&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #   Setting this option prepends a select option with a generic prompt  (Day, Month, Year, Hour, Minute, Seconds)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      #   or the given prompt string.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:with_css_classes&lt;/tt&gt;  - Set to true or a hash of strings. Use true if you want to assign generic styles for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      #   select tags. This automatically set classes &#39;year&#39;, &#39;month&#39;, &#39;day&#39;, &#39;hour&#39;, &#39;minute&#39; and &#39;second&#39;. A hash of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      #   strings for &lt;tt&gt;:year&lt;/tt&gt;, &lt;tt&gt;:month&lt;/tt&gt;, &lt;tt&gt;:day&lt;/tt&gt;, &lt;tt&gt;:hour&lt;/tt&gt;, &lt;tt&gt;:minute&lt;/tt&gt;, &lt;tt&gt;:second&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      #   will extend the select type with the given value. Use +html_options+ to modify every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:use_hidden&lt;/tt&gt;         - Set to true if you only want to generate hidden input tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      # If anything is passed in the +html_options+ hash it will be applied to every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      # NOTE: Discarded selects will default to 1. So if no month select is available, January will be assumed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #   # with the year in the year drop down box starting at 1995.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, start_year: 1995)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #   # with the year in the year drop down box starting at 1995, numbers used for months instead of words,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #   # and without a day select box.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, start_year: 1995, use_month_numbers: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #                                     discard_day: true, include_blank: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      #   # with two digit numbers used for months and days.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, use_two_digit_numbers: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #   # with the fields ordered as day, month, year rather than month, day, year.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, order: [:day, :month, :year])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the user variable, in the birthday attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      #   # lacking a year field.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #   date_select(&quot;user&quot;, &quot;birthday&quot;, order: [:month, :day])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      #   # which is initially set to the date 3 days from the current date</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, default: 3.days.from_now)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the article variable, in the written_on attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      #   # which is set in the form with today&#39;s date, regardless of the value in the Active Record object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, selected: Date.today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      #   # Generates a date select that when POSTed is stored in the credit_card variable, in the bill_due attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      #   # that will have a default day of 20.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      #   date_select(&quot;credit_card&quot;, &quot;bill_due&quot;, default: { day: 20 })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      #   # Generates a date select with custom prompts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, prompt: { day: &#39;Select day&#39;, month: &#39;Select month&#39;, year: &#39;Select year&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      #   # Generates a date select with custom year format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      #   date_select(&quot;article&quot;, &quot;written_on&quot;, year_format: -&gt;(year) { &quot;Heisei #{year - 1988}&quot; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      # The selects are prepared for multi-parameter assignment to an Active Record object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      # Note: If the day is not included as an option but the month is, the day will be set to the 1st to ensure that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">      # all month choices are valid.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="286">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def date_select(object_name, method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="287">
            
            

            

            <code class="ruby">        Tags::DateSelect.new(object_name, method, self, options, html_options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      # Returns a set of select tags (one for hour, minute and optionally second) pre-selected for accessing a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      # specified time-based attribute (identified by +method+) on an object assigned to the template (identified by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      # +object+). You can include the seconds with &lt;tt&gt;:include_seconds&lt;/tt&gt;. You can get hours in the AM/PM format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      # with &lt;tt&gt;:ampm&lt;/tt&gt; option.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      # This method will also generate 3 input hidden tags, for the actual year, month and day unless the option</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:ignore_date&lt;/tt&gt; is set to +true+. If you set the &lt;tt&gt;:ignore_date&lt;/tt&gt; to +true+, you must have a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      # +date_select+ on the same method within the form otherwise an exception will be raised.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      # If anything is passed in the html_options hash it will be applied to every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      #   # Creates a time select tag that, when POSTed, will be stored in the article variable in the sunrise attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      #   time_select(&quot;article&quot;, &quot;sunrise&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      #   # Creates a time select tag with a seconds field that, when POSTed, will be stored in the article variables in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      #   # the sunrise attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      #   time_select(&quot;article&quot;, &quot;start_time&quot;, include_seconds: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      #   # You can set the &lt;tt&gt;:minute_step&lt;/tt&gt; to 15 which will give you: 00, 15, 30, and 45.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      #   time_select &#39;game&#39;, &#39;game_time&#39;, { minute_step: 15 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      #   # Creates a time select tag with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for generic prompts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      #   time_select(&quot;article&quot;, &quot;written_on&quot;, prompt: { hour: &#39;Choose hour&#39;, minute: &#39;Choose minute&#39;, second: &#39;Choose seconds&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      #   time_select(&quot;article&quot;, &quot;written_on&quot;, prompt: { hour: true }) # generic prompt for hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #   time_select(&quot;article&quot;, &quot;written_on&quot;, prompt: true) # generic prompts for all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      #   # You can set :ampm option to true which will show the hours as: 12 PM, 01 AM .. 11 PM.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      #   time_select &#39;game&#39;, &#39;game_time&#39;, { ampm: true }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      # The selects are prepared for multi-parameter assignment to an Active Record object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      # Note: If the day is not included as an option but the month is, the day will be set to the 1st to ensure that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      # all month choices are valid.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="323">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_select(object_name, method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="324">
            
            

            

            <code class="ruby">        Tags::TimeSelect.new(object_name, method, self, options, html_options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      # Returns a set of select tags (one for year, month, day, hour, and minute) pre-selected for accessing a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      # specified datetime-based attribute (identified by +method+) on an object assigned to the template (identified</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      # by +object+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      # If anything is passed in the html_options hash it will be applied to every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that, when POSTed, will be stored in the article variable in the written_on</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      #   # attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      #   # Generates a datetime select with a year select that starts at 1995 that, when POSTed, will be stored in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #   # article variable in the written_on attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;, start_year: 1995)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      #   # Generates a datetime select with a default value of 3 days from the current time that, when POSTed, will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #   # be stored in the trip variable in the departing attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;trip&quot;, &quot;departing&quot;, default: 3.days.from_now)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      #   # Generate a datetime select with hours in the AM/PM format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;, ampm: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that discards the type that, when POSTed, will be stored in the article variable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      #   # as the written_on attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;, discard_type: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      #   # Generates a datetime select with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for generic prompts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;, prompt: { day: &#39;Choose day&#39;, month: &#39;Choose month&#39;, year: &#39;Choose year&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;, prompt: { hour: true }) # generic prompt for hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      #   datetime_select(&quot;article&quot;, &quot;written_on&quot;, prompt: true) # generic prompts for all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">      # The selects are prepared for multi-parameter assignment to an Active Record object.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="358">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def datetime_select(object_name, method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="359">
            
            

            

            <code class="ruby">        Tags::DatetimeSelect.new(object_name, method, self, options, html_options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">      # Returns a set of HTML select-tags (one for year, month, day, hour, minute, and second) pre-selected with the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">      # +datetime+. It&#39;s also possible to explicitly set the order of the tags using the &lt;tt&gt;:order&lt;/tt&gt; option with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      # an array of symbols &lt;tt&gt;:year&lt;/tt&gt;, &lt;tt&gt;:month&lt;/tt&gt; and &lt;tt&gt;:day&lt;/tt&gt; in the desired order. If you do not</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      # supply a Symbol, it will be appended onto the &lt;tt&gt;:order&lt;/tt&gt; passed in. You can also add</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:date_separator&lt;/tt&gt;, &lt;tt&gt;:datetime_separator&lt;/tt&gt; and &lt;tt&gt;:time_separator&lt;/tt&gt; keys to the +options+ to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      # control visual display of the elements.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      # If anything is passed in the html_options hash it will be applied to every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #   my_date_time = Time.now + 4.days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that defaults to the datetime in my_date_time (four days after today).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that defaults to today (no specified datetime)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #   select_datetime()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that defaults to the datetime in my_date_time (four days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      #   # with the fields ordered year, month, day rather than month, day, year.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, order: [:year, :month, :day])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that defaults to the datetime in my_date_time (four days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      #   # with a &#39;/&#39; between each date field.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, date_separator: &#39;/&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that defaults to the datetime in my_date_time (four days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      #   # with a date fields separated by &#39;/&#39;, time fields separated by &#39;&#39; and the date and time fields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      #   # separated by a comma (&#39;,&#39;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, date_separator: &#39;/&#39;, time_separator: &#39;&#39;, datetime_separator: &#39;,&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that discards the type of the field and defaults to the datetime in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      #   # my_date_time (four days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, discard_type: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #   # Generate a datetime field with hours in the AM/PM format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, ampm: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #   # Generates a datetime select that defaults to the datetime in my_date_time (four days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #   # prefixed with &#39;payday&#39; rather than &#39;date&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, prefix: &#39;payday&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">      #   # Generates a datetime select with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for generic prompts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, prompt: { day: &#39;Choose day&#39;, month: &#39;Choose month&#39;, year: &#39;Choose year&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, prompt: { hour: true }) # generic prompt for hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">      #   select_datetime(my_date_time, prompt: true) # generic prompts for all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_datetime(datetime = Time.current, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="408">
            
            

            

            <code class="ruby">        DateTimeSelector.new(datetime, options, html_options).select_datetime</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">      # Returns a set of HTML select-tags (one for year, month, and day) pre-selected with the +date+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">      # It&#39;s possible to explicitly set the order of the tags using the &lt;tt&gt;:order&lt;/tt&gt; option with an array of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      # symbols &lt;tt&gt;:year&lt;/tt&gt;, &lt;tt&gt;:month&lt;/tt&gt; and &lt;tt&gt;:day&lt;/tt&gt; in the desired order.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      # If the array passed to the &lt;tt&gt;:order&lt;/tt&gt; option does not contain all the three symbols, all tags will be hidden.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">      # If anything is passed in the html_options hash it will be applied to every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">      #   my_date = Time.now + 6.days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      #   # Generates a date select that defaults to the date in my_date (six days after today).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      #   select_date(my_date)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      #   # Generates a date select that defaults to today (no specified date).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #   select_date()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      #   # Generates a date select that defaults to the date in my_date (six days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      #   # with the fields ordered year, month, day rather than month, day, year.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      #   select_date(my_date, order: [:year, :month, :day])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">      #   # Generates a date select that discards the type of the field and defaults to the date in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">      #   # my_date (six days after today).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">      #   select_date(my_date, discard_type: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">      #   # Generates a date select that defaults to the date in my_date,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">      #   # which has fields separated by &#39;/&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">      #   select_date(my_date, date_separator: &#39;/&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">      #   # Generates a date select that defaults to the datetime in my_date (six days after today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">      #   # prefixed with &#39;payday&#39; rather than &#39;date&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">      #   select_date(my_date, prefix: &#39;payday&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            
            

            

            <code class="ruby">      #   # Generates a date select with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for generic prompts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">      #   select_date(my_date, prompt: { day: &#39;Choose day&#39;, month: &#39;Choose month&#39;, year: &#39;Choose year&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">      #   select_date(my_date, prompt: { hour: true }) # generic prompt for hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby">      #   select_date(my_date, prompt: true) # generic prompts for all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_date(date = Date.current, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="447">
            
            

            

            <code class="ruby">        DateTimeSelector.new(date, options, html_options).select_date</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby">      # Returns a set of HTML select-tags (one for hour and minute).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">      # You can set &lt;tt&gt;:time_separator&lt;/tt&gt; key to format the output, and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">      # the &lt;tt&gt;:include_seconds&lt;/tt&gt; option to include an input for seconds.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">      # If anything is passed in the html_options hash it will be applied to every select tag in the set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">      #   my_time = Time.now + 5.days + 7.hours + 3.minutes + 14.seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">      #   # Generates a time select that defaults to the time in my_time.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">      #   select_time(my_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">      #   # Generates a time select that defaults to the current time (no specified time).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">      #   select_time()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">      #   # Generates a time select that defaults to the time in my_time,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">      #   # which has fields separated by &#39;:&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">      #   select_time(my_time, time_separator: &#39;:&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">      #   # Generates a time select that defaults to the time in my_time,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">      #   # that also includes an input for seconds.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">      #   select_time(my_time, include_seconds: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">      #   # Generates a time select that defaults to the time in my_time, that has fields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">      #   # separated by &#39;:&#39; and includes an input for seconds.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">      #   select_time(my_time, time_separator: &#39;:&#39;, include_seconds: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">      #   # Generate a time select field with hours in the AM/PM format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">      #   select_time(my_time, ampm: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">      #   # Generates a time select field with hours that range from 2 to 14</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">      #   select_time(my_time, start_hour: 2, end_hour: 14)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby">      #   # Generates a time select with a custom prompt. Use &lt;tt&gt;:prompt&lt;/tt&gt; to true for generic prompts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">      #   select_time(my_time, prompt: { day: &#39;Choose day&#39;, month: &#39;Choose month&#39;, year: &#39;Choose year&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">      #   select_time(my_time, prompt: { hour: true }) # generic prompt for hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">      #   select_time(my_time, prompt: true) # generic prompts for all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="486">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_time(datetime = Time.current, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="487">
            
            

            

            <code class="ruby">        DateTimeSelector.new(datetime, options, html_options).select_time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">      # Returns a select tag with options for each of the seconds 0 through 59 with the current second selected.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;datetime&lt;/tt&gt; can be either a +Time+ or +DateTime+ object or an integer.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">      # Override the field name using the &lt;tt&gt;:field_name&lt;/tt&gt; option, &#39;second&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">      #   my_time = Time.now + 16.seconds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">      #   # Generates a select field for seconds that defaults to the seconds for the time in my_time.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">      #   select_second(my_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">      #   # Generates a select field for seconds that defaults to the number given.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">      #   select_second(33)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">      #   # Generates a select field for seconds that defaults to the seconds for the time in my_time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">      #   # that is named &#39;interval&#39; rather than &#39;second&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">      #   select_second(my_time, field_name: &#39;interval&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">      #   # Generates a select field for seconds with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">      #   # generic prompt.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">      #   select_second(14, prompt: &#39;Choose seconds&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="509">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_second(datetime, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="510">
            
            

            

            <code class="ruby">        DateTimeSelector.new(datetime, options, html_options).select_second</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">      # Returns a select tag with options for each of the minutes 0 through 59 with the current minute selected.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            
            

            

            <code class="ruby">      # Also can return a select tag with options by &lt;tt&gt;minute_step&lt;/tt&gt; from 0 through 59 with the 00 minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">      # selected. The &lt;tt&gt;datetime&lt;/tt&gt; can be either a +Time+ or +DateTime+ object or an integer.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby">      # Override the field name using the &lt;tt&gt;:field_name&lt;/tt&gt; option, &#39;minute&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby">      #   my_time = Time.now + 10.minutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">      #   # Generates a select field for minutes that defaults to the minutes for the time in my_time.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">      #   select_minute(my_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">      #   # Generates a select field for minutes that defaults to the number given.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">      #   select_minute(14)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            
            

            

            <code class="ruby">      #   # Generates a select field for minutes that defaults to the minutes for the time in my_time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            
            

            

            <code class="ruby">      #   # that is named &#39;moment&#39; rather than &#39;minute&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">      #   select_minute(my_time, field_name: &#39;moment&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">      #   # Generates a select field for minutes with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby">      #   # generic prompt.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            
            

            

            <code class="ruby">      #   select_minute(14, prompt: &#39;Choose minutes&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="533">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_minute(datetime, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="534">
            
            

            

            <code class="ruby">        DateTimeSelector.new(datetime, options, html_options).select_minute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            
            

            

            <code class="ruby">      # Returns a select tag with options for each of the hours 0 through 23 with the current hour selected.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;datetime&lt;/tt&gt; can be either a +Time+ or +DateTime+ object or an integer.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby">      # Override the field name using the &lt;tt&gt;:field_name&lt;/tt&gt; option, &#39;hour&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            
            

            

            <code class="ruby">      #   my_time = Time.now + 6.hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            
            

            

            <code class="ruby">      #   # Generates a select field for hours that defaults to the hour for the time in my_time.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="544">
            
            

            

            <code class="ruby">      #   select_hour(my_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            
            

            

            <code class="ruby">      #   # Generates a select field for hours that defaults to the number given.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby">      #   select_hour(13)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="549">
            
            

            

            <code class="ruby">      #   # Generates a select field for hours that defaults to the hour for the time in my_time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby">      #   # that is named &#39;stride&#39; rather than &#39;hour&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            
            

            

            <code class="ruby">      #   select_hour(my_time, field_name: &#39;stride&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="553">
            
            

            

            <code class="ruby">      #   # Generates a select field for hours with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            
            

            

            <code class="ruby">      #   # generic prompt.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby">      #   select_hour(13, prompt: &#39;Choose hour&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="557">
            
            

            

            <code class="ruby">      #   # Generate a select field for hours in the AM/PM format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            
            

            

            <code class="ruby">      #   select_hour(my_time, ampm: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby">      #   # Generates a select field that includes options for hours from 2 to 14.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            
            

            

            <code class="ruby">      #   select_hour(my_time, start_hour: 2, end_hour: 14)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="562">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_hour(datetime, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="563">
            
            

            

            <code class="ruby">        DateTimeSelector.new(datetime, options, html_options).select_hour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">      # Returns a select tag with options for each of the days 1 through 31 with the current day selected.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="567">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;date&lt;/tt&gt; can also be substituted for a day number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">      # If you want to display days with a leading zero set the &lt;tt&gt;:use_two_digit_numbers&lt;/tt&gt; key in +options+ to true.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="569">
            
            

            

            <code class="ruby">      # Override the field name using the &lt;tt&gt;:field_name&lt;/tt&gt; option, &#39;day&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">      #   my_date = Time.now + 2.days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">      #   # Generates a select field for days that defaults to the day for the date in my_date.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">      #   select_day(my_date)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="575">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            
            

            

            <code class="ruby">      #   # Generates a select field for days that defaults to the number given.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            
            

            

            <code class="ruby">      #   select_day(5)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="578">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="579">
            
            

            

            <code class="ruby">      #   # Generates a select field for days that defaults to the number given, but displays it with two digits.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            
            

            

            <code class="ruby">      #   select_day(5, use_two_digit_numbers: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="582">
            
            

            

            <code class="ruby">      #   # Generates a select field for days that defaults to the day for the date in my_date</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="583">
            
            

            

            <code class="ruby">      #   # that is named &#39;due&#39; rather than &#39;day&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            
            

            

            <code class="ruby">      #   select_day(my_date, field_name: &#39;due&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="586">
            
            

            

            <code class="ruby">      #   # Generates a select field for days with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">      #   # generic prompt.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            
            

            

            <code class="ruby">      #   select_day(5, prompt: &#39;Choose day&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="589">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_day(date, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="590">
            
            

            

            <code class="ruby">        DateTimeSelector.new(date, options, html_options).select_day</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            
            

            

            <code class="ruby">      # Returns a select tag with options for each of the months January through December with the current month</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby">      # selected. The month names are presented as keys (what&#39;s shown to the user) and the month numbers (1-12) are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            
            

            

            <code class="ruby">      # used as values (what&#39;s submitted to the server). It&#39;s also possible to use month numbers for the presentation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">      # instead of names -- set the &lt;tt&gt;:use_month_numbers&lt;/tt&gt; key in +options+ to true for this to happen. If you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            
            

            

            <code class="ruby">      # want both numbers and names, set the &lt;tt&gt;:add_month_numbers&lt;/tt&gt; key in +options+ to true. If you would prefer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">      # to show month names as abbreviations, set the &lt;tt&gt;:use_short_month&lt;/tt&gt; key in +options+ to true. If you want</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            
            

            

            <code class="ruby">      # to use your own month names, set the &lt;tt&gt;:use_month_names&lt;/tt&gt; key in +options+ to an array of 12 month names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            
            

            

            <code class="ruby">      # If you want to display months with a leading zero set the &lt;tt&gt;:use_two_digit_numbers&lt;/tt&gt; key in +options+ to true.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">      # Override the field name using the &lt;tt&gt;:field_name&lt;/tt&gt; option, &#39;month&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">      #   # will use keys like &quot;January&quot;, &quot;March&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">      #   select_month(Date.today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="607">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby">      #   # is named &quot;start&quot; rather than &quot;month&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby">      #   select_month(Date.today, field_name: &#39;start&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">      #   # will use keys like &quot;1&quot;, &quot;3&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            
            

            

            <code class="ruby">      #   select_month(Date.today, use_month_numbers: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="615">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="616">
            
            

            

            <code class="ruby">      #   # will use keys like &quot;1 - January&quot;, &quot;3 - March&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">      #   select_month(Date.today, add_month_numbers: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="618">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            
            

            

            <code class="ruby">      #   # will use keys like &quot;Jan&quot;, &quot;Mar&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            
            

            

            <code class="ruby">      #   select_month(Date.today, use_short_month: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="622">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">      #   # will use keys like &quot;Januar&quot;, &quot;Marts.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">      #   select_month(Date.today, use_month_names: %w(Januar Februar Marts ...))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            
            

            

            <code class="ruby">      #   # Generates a select field for months that defaults to the current month that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            
            

            

            <code class="ruby">      #   # will use keys with two digit numbers like &quot;01&quot;, &quot;03&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">      #   select_month(Date.today, use_two_digit_numbers: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">      #   # Generates a select field for months with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby">      #   # generic prompt.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            
            

            

            <code class="ruby">      #   select_month(14, prompt: &#39;Choose month&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="634">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_month(date, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="635">
            
            

            

            <code class="ruby">        DateTimeSelector.new(date, options, html_options).select_month</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            
            

            

            <code class="ruby">      # Returns a select tag with options for each of the five years on each side of the current, which is selected.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">      # The five year radius can be changed using the &lt;tt&gt;:start_year&lt;/tt&gt; and &lt;tt&gt;:end_year&lt;/tt&gt; keys in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby">      # +options+. Both ascending and descending year lists are supported by making &lt;tt&gt;:start_year&lt;/tt&gt; less than or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby">      # greater than &lt;tt&gt;:end_year&lt;/tt&gt;. The &lt;tt&gt;date&lt;/tt&gt; can also be substituted for a year given as a number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="642">
            
            

            

            <code class="ruby">      # Override the field name using the &lt;tt&gt;:field_name&lt;/tt&gt; option, &#39;year&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            
            

            

            <code class="ruby">      #   # Generates a select field for years that defaults to the current year that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            
            

            

            <code class="ruby">      #   # has ascending year values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="646">
            
            

            

            <code class="ruby">      #   select_year(Date.today, start_year: 1992, end_year: 2007)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="648">
            
            

            

            <code class="ruby">      #   # Generates a select field for years that defaults to the current year that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="649">
            
            

            

            <code class="ruby">      #   # is named &#39;birth&#39; rather than &#39;year&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="650">
            
            

            

            <code class="ruby">      #   select_year(Date.today, field_name: &#39;birth&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="651">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            
            

            

            <code class="ruby">      #   # Generates a select field for years that defaults to the current year that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">      #   # has descending year values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="654">
            
            

            

            <code class="ruby">      #   select_year(Date.today, start_year: 2005, end_year: 1900)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="656">
            
            

            

            <code class="ruby">      #   # Generates a select field for years that defaults to the year 2006 that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            
            

            

            <code class="ruby">      #   # has ascending year values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="658">
            
            

            

            <code class="ruby">      #   select_year(2006, start_year: 2000, end_year: 2010)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="659">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            
            

            

            <code class="ruby">      #   # Generates a select field for years with a custom prompt. Use &lt;tt&gt;prompt: true&lt;/tt&gt; for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby">      #   # generic prompt.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            
            

            

            <code class="ruby">      #   select_year(14, prompt: &#39;Choose year&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="663">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_year(date, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="664">
            
            

            

            <code class="ruby">        DateTimeSelector.new(date, options, html_options).select_year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="667">
            
            

            

            <code class="ruby">      # Returns an HTML time tag for the given date or time.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="668">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            
            

            

            <code class="ruby">      #   time_tag Date.today  # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="670">
            
            

            

            <code class="ruby">      #     &lt;time datetime=&quot;2010-11-04&quot;&gt;November 04, 2010&lt;/time&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="671">
            
            

            

            <code class="ruby">      #   time_tag Time.now  # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="672">
            
            

            

            <code class="ruby">      #     &lt;time datetime=&quot;2010-11-04T17:55:45+01:00&quot;&gt;November 04, 2010 17:55&lt;/time&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            
            

            

            <code class="ruby">      #   time_tag Date.yesterday, &#39;Yesterday&#39;  # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="674">
            
            

            

            <code class="ruby">      #     &lt;time datetime=&quot;2010-11-03&quot;&gt;Yesterday&lt;/time&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            
            

            

            <code class="ruby">      #   time_tag Date.today, datetime: Date.today.strftime(&#39;%G-W%V&#39;) # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            
            

            

            <code class="ruby">      #     &lt;time datetime=&quot;2010-W44&quot;&gt;November 04, 2010&lt;/time&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="678">
            
            

            

            <code class="ruby">      #   &lt;%= time_tag Time.now do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">      #     &lt;span&gt;Right now&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;time datetime=&quot;2010-11-04T17:55:45+01:00&quot;&gt;&lt;span&gt;Right now&lt;/span&gt;&lt;/time&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="682">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_tag(date_or_time, *args, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="683">
            
            

            

            <code class="ruby">        options  = args.extract_options!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="684">
            
            

            

            <code class="ruby">        format   = options.delete(:format) || :long</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="685">
            
            

            

            <code class="ruby">        content  = args.first || I18n.l(date_or_time, format: format)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="687">
            
            

            

            <code class="ruby">        content_tag(&quot;time&quot;, content, options.reverse_merge(datetime: date_or_time.iso8601), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="690">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="691">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def normalize_distance_of_time_argument_to_time(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="692">
            
            

            

            <code class="ruby">          if value.is_a?(Numeric)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="693">
            
            

            

            <code class="ruby">            Time.at(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="694">
            
            

            

            <code class="ruby">          elsif value.respond_to?(:to_time)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="695">
            
            

            

            <code class="ruby">            value.to_time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="696">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="697">
            
            

            

            <code class="ruby">            raise ArgumentError, &quot;#{value.inspect} can&#39;t be converted to a Time value&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="698">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="700">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="701">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="702">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class DateTimeSelector #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="703">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionView::Helpers::TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="705">
            <span class="hits">1</span>
            

            

            <code class="ruby">      DEFAULT_PREFIX = &quot;date&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="706">
            <span class="hits">1</span>
            

            

            <code class="ruby">      POSITION = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            
            

            

            <code class="ruby">        year: 1, month: 2, day: 3, hour: 4, minute: 5, second: 6</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            
            

            

            <code class="ruby">      }.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="710">
            <span class="hits">1</span>
            

            

            <code class="ruby">      AMPM_TRANSLATION = Hash[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            
            

            

            <code class="ruby">        [[0, &quot;12 AM&quot;], [1, &quot;01 AM&quot;], [2, &quot;02 AM&quot;], [3, &quot;03 AM&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">         [4, &quot;04 AM&quot;], [5, &quot;05 AM&quot;], [6, &quot;06 AM&quot;], [7, &quot;07 AM&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby">         [8, &quot;08 AM&quot;], [9, &quot;09 AM&quot;], [10, &quot;10 AM&quot;], [11, &quot;11 AM&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="714">
            
            

            

            <code class="ruby">         [12, &quot;12 PM&quot;], [13, &quot;01 PM&quot;], [14, &quot;02 PM&quot;], [15, &quot;03 PM&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="715">
            
            

            

            <code class="ruby">         [16, &quot;04 PM&quot;], [17, &quot;05 PM&quot;], [18, &quot;06 PM&quot;], [19, &quot;07 PM&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="716">
            
            

            

            <code class="ruby">         [20, &quot;08 PM&quot;], [21, &quot;09 PM&quot;], [22, &quot;10 PM&quot;], [23, &quot;11 PM&quot;]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            
            

            

            <code class="ruby">      ].freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="719">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(datetime, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="720">
            
            

            

            <code class="ruby">        @options      = options.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="721">
            
            

            

            <code class="ruby">        @html_options = html_options.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="722">
            
            

            

            <code class="ruby">        @datetime     = datetime</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="723">
            
            

            

            <code class="ruby">        @options[:datetime_separator] ||= &quot; &amp;mdash; &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="724">
            
            

            

            <code class="ruby">        @options[:time_separator]     ||= &quot; : &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="727">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_datetime</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="728">
            
            

            

            <code class="ruby">        order = date_order.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="729">
            
            

            

            <code class="ruby">        order -= [:hour, :minute, :second]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="730">
            
            

            

            <code class="ruby">        @options[:discard_year]   ||= true unless order.include?(:year)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="731">
            
            

            

            <code class="ruby">        @options[:discard_month]  ||= true unless order.include?(:month)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="732">
            
            

            

            <code class="ruby">        @options[:discard_day]    ||= true if @options[:discard_month] || !order.include?(:day)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="733">
            
            

            

            <code class="ruby">        @options[:discard_minute] ||= true if @options[:discard_hour]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="734">
            
            

            

            <code class="ruby">        @options[:discard_second] ||= true unless @options[:include_seconds] &amp;&amp; !@options[:discard_minute]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="736">
            
            

            

            <code class="ruby">        set_day_if_discarded</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="738">
            
            

            

            <code class="ruby">        if @options[:tag] &amp;&amp; @options[:ignore_date]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="739">
            
            

            

            <code class="ruby">          select_time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="741">
            
            

            

            <code class="ruby">          [:day, :month, :year].each { |o| order.unshift(o) unless order.include?(o) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="742">
            
            

            

            <code class="ruby">          order += [:hour, :minute, :second] unless @options[:discard_hour]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="743">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="744">
            
            

            

            <code class="ruby">          build_selects_from_types(order)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="747">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="748">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_date</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="749">
            
            

            

            <code class="ruby">        order = date_order.dup</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="750">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="751">
            
            

            

            <code class="ruby">        @options[:discard_hour]     = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="752">
            
            

            

            <code class="ruby">        @options[:discard_minute]   = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="753">
            
            

            

            <code class="ruby">        @options[:discard_second]   = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="754">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="755">
            
            

            

            <code class="ruby">        @options[:discard_year]   ||= true unless order.include?(:year)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="756">
            
            

            

            <code class="ruby">        @options[:discard_month]  ||= true unless order.include?(:month)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="757">
            
            

            

            <code class="ruby">        @options[:discard_day]    ||= true if @options[:discard_month] || !order.include?(:day)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="758">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="759">
            
            

            

            <code class="ruby">        set_day_if_discarded</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="760">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="761">
            
            

            

            <code class="ruby">        [:day, :month, :year].each { |o| order.unshift(o) unless order.include?(o) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="762">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="763">
            
            

            

            <code class="ruby">        build_selects_from_types(order)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="766">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_time</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="767">
            
            

            

            <code class="ruby">        order = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="768">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="769">
            
            

            

            <code class="ruby">        @options[:discard_month]    = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="770">
            
            

            

            <code class="ruby">        @options[:discard_year]     = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="771">
            
            

            

            <code class="ruby">        @options[:discard_day]      = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="772">
            
            

            

            <code class="ruby">        @options[:discard_second] ||= true unless @options[:include_seconds]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="773">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="774">
            
            

            

            <code class="ruby">        order += [:year, :month, :day] unless @options[:ignore_date]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="775">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="776">
            
            

            

            <code class="ruby">        order += [:hour, :minute]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="777">
            
            

            

            <code class="ruby">        order &lt;&lt; :second if @options[:include_seconds]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="778">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="779">
            
            

            

            <code class="ruby">        build_selects_from_types(order)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="780">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="781">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="782">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_second</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="783">
            
            

            

            <code class="ruby">        if @options[:use_hidden] || @options[:discard_second]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="784">
            
            

            

            <code class="ruby">          build_hidden(:second, sec) if @options[:include_seconds]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="785">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="786">
            
            

            

            <code class="ruby">          build_options_and_select(:second, sec)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="787">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="788">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="789">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="790">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_minute</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="791">
            
            

            

            <code class="ruby">        if @options[:use_hidden] || @options[:discard_minute]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="792">
            
            

            

            <code class="ruby">          build_hidden(:minute, min)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="793">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="794">
            
            

            

            <code class="ruby">          build_options_and_select(:minute, min, step: @options[:minute_step])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="795">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="796">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="797">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="798">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_hour</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="799">
            
            

            

            <code class="ruby">        if @options[:use_hidden] || @options[:discard_hour]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="800">
            
            

            

            <code class="ruby">          build_hidden(:hour, hour)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="801">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="802">
            
            

            

            <code class="ruby">          options         = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="803">
            
            

            

            <code class="ruby">          options[:ampm]  = @options[:ampm] || false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="804">
            
            

            

            <code class="ruby">          options[:start] = @options[:start_hour] || 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="805">
            
            

            

            <code class="ruby">          options[:end]   = @options[:end_hour] || 23</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="806">
            
            

            

            <code class="ruby">          build_options_and_select(:hour, hour, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="807">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="808">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="809">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="810">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_day</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="811">
            
            

            

            <code class="ruby">        if @options[:use_hidden] || @options[:discard_day]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="812">
            
            

            

            <code class="ruby">          build_hidden(:day, day || 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="813">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="814">
            
            

            

            <code class="ruby">          build_options_and_select(:day, day, start: 1, end: 31, leading_zeros: false, use_two_digit_numbers: @options[:use_two_digit_numbers])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="815">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="816">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="817">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="818">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_month</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="819">
            
            

            

            <code class="ruby">        if @options[:use_hidden] || @options[:discard_month]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="820">
            
            

            

            <code class="ruby">          build_hidden(:month, month || 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="821">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="822">
            
            

            

            <code class="ruby">          month_options = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="823">
            
            

            

            <code class="ruby">          1.upto(12) do |month_number|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="824">
            
            

            

            <code class="ruby">            options = { value: month_number }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="825">
            
            

            

            <code class="ruby">            options[:selected] = &quot;selected&quot; if month == month_number</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="826">
            
            

            

            <code class="ruby">            month_options &lt;&lt; content_tag(&quot;option&quot;, month_name(month_number), options) + &quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="827">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="828">
            
            

            

            <code class="ruby">          build_select(:month, month_options.join)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="829">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="830">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="831">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="832">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_year</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="833">
            
            

            

            <code class="ruby">        if !year || @datetime == 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="834">
            
            

            

            <code class="ruby">          val = &quot;1&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="835">
            
            

            

            <code class="ruby">          middle_year = Date.today.year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="836">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="837">
            
            

            

            <code class="ruby">          val = middle_year = year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="838">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="839">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="840">
            
            

            

            <code class="ruby">        if @options[:use_hidden] || @options[:discard_year]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="841">
            
            

            

            <code class="ruby">          build_hidden(:year, val)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="842">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="843">
            
            

            

            <code class="ruby">          options                     = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="844">
            
            

            

            <code class="ruby">          options[:start]             = @options[:start_year] || middle_year - 5</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="845">
            
            

            

            <code class="ruby">          options[:end]               = @options[:end_year] || middle_year + 5</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="846">
            
            

            

            <code class="ruby">          options[:step]              = options[:start] &lt; options[:end] ? 1 : -1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="847">
            
            

            

            <code class="ruby">          options[:leading_zeros]     = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="848">
            
            

            

            <code class="ruby">          options[:max_years_allowed] = @options[:max_years_allowed] || 1000</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="849">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="850">
            
            

            

            <code class="ruby">          if (options[:end] - options[:start]).abs &gt; options[:max_years_allowed]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="851">
            
            

            

            <code class="ruby">            raise ArgumentError, &quot;There are too many years options to be built. Are you sure you haven&#39;t mistyped something? You can provide the :max_years_allowed parameter.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="853">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="854">
            
            

            

            <code class="ruby">          build_select(:year, build_year_options(val, options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="855">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="856">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="857">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="858">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="859">
            <span class="hits">1</span>
            

            

            <code class="ruby">        %w( sec min hour day month year ).each do |method|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="860">
            <span class="hits">6</span>
            

            

            <code class="ruby">          define_method(method) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="861">
            
            

            

            <code class="ruby">            case @datetime</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="862">
            
            

            

            <code class="ruby">            when Hash then @datetime[method.to_sym]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="863">
            
            

            

            <code class="ruby">            when Numeric then @datetime</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="864">
            
            

            

            <code class="ruby">            when nil then nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="865">
            
            

            

            <code class="ruby">            else @datetime.send(method)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="866">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="867">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="868">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="869">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="870">
            
            

            

            <code class="ruby">        # If the day is hidden, the day should be set to the 1st so all month and year choices are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="871">
            
            

            

            <code class="ruby">        # valid. Otherwise, February 31st or February 29th, 2011 can be selected, which are invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="872">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def set_day_if_discarded</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="873">
            
            

            

            <code class="ruby">          if @datetime &amp;&amp; @options[:discard_day]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="874">
            
            

            

            <code class="ruby">            @datetime = @datetime.change(day: 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="875">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="876">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="877">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="878">
            
            

            

            <code class="ruby">        # Returns translated month names, but also ensures that a custom month</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="879">
            
            

            

            <code class="ruby">        # name array has a leading +nil+ element.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="880">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def month_names</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="881">
            
            

            

            <code class="ruby">          @month_names ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="882">
            
            

            

            <code class="ruby">            month_names = @options[:use_month_names] || translated_month_names</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="883">
            
            

            

            <code class="ruby">            month_names.unshift(nil) if month_names.size &lt; 13</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="884">
            
            

            

            <code class="ruby">            month_names</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="885">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="886">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="887">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="888">
            
            

            

            <code class="ruby">        # Returns translated month names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="889">
            
            

            

            <code class="ruby">        #  =&gt; [nil, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="890">
            
            

            

            <code class="ruby">        #           &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="891">
            
            

            

            <code class="ruby">        #           &quot;August&quot;, &quot;September&quot;, &quot;October&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="892">
            
            

            

            <code class="ruby">        #           &quot;November&quot;, &quot;December&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="893">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="894">
            
            

            

            <code class="ruby">        # If &lt;tt&gt;:use_short_month&lt;/tt&gt; option is set</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="895">
            
            

            

            <code class="ruby">        #  =&gt; [nil, &quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="896">
            
            

            

            <code class="ruby">        #           &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="897">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def translated_month_names</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="898">
            
            

            

            <code class="ruby">          key = @options[:use_short_month] ? :&#39;date.abbr_month_names&#39; : :&#39;date.month_names&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="899">
            
            

            

            <code class="ruby">          I18n.translate(key, locale: @options[:locale])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="900">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="901">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="902">
            
            

            

            <code class="ruby">        # Looks up month names by number (1-based):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="903">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="904">
            
            

            

            <code class="ruby">        #   month_name(1) # =&gt; &quot;January&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="905">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="906">
            
            

            

            <code class="ruby">        # If the &lt;tt&gt;:use_month_numbers&lt;/tt&gt; option is passed:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="907">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="908">
            
            

            

            <code class="ruby">        #   month_name(1) # =&gt; 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="909">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="910">
            
            

            

            <code class="ruby">        # If the &lt;tt&gt;:use_two_month_numbers&lt;/tt&gt; option is passed:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="911">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="912">
            
            

            

            <code class="ruby">        #   month_name(1) # =&gt; &#39;01&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="913">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="914">
            
            

            

            <code class="ruby">        # If the &lt;tt&gt;:add_month_numbers&lt;/tt&gt; option is passed:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="915">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="916">
            
            

            

            <code class="ruby">        #   month_name(1) # =&gt; &quot;1 - January&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="917">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="918">
            
            

            

            <code class="ruby">        # If the &lt;tt&gt;:month_format_string&lt;/tt&gt; option is passed:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="919">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="920">
            
            

            

            <code class="ruby">        #   month_name(1) # =&gt; &quot;January (01)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="921">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="922">
            
            

            

            <code class="ruby">        # depending on the format string.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="923">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def month_name(number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="924">
            
            

            

            <code class="ruby">          if @options[:use_month_numbers]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="925">
            
            

            

            <code class="ruby">            number</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="926">
            
            

            

            <code class="ruby">          elsif @options[:use_two_digit_numbers]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="927">
            
            

            

            <code class="ruby">            &quot;%02d&quot; % number</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="928">
            
            

            

            <code class="ruby">          elsif @options[:add_month_numbers]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="929">
            
            

            

            <code class="ruby">            &quot;#{number} - #{month_names[number]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="930">
            
            

            

            <code class="ruby">          elsif format_string = @options[:month_format_string]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="931">
            
            

            

            <code class="ruby">            format_string % { number: number, name: month_names[number] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="932">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="933">
            
            

            

            <code class="ruby">            month_names[number]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="934">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="935">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="936">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="937">
            
            

            

            <code class="ruby">        # Looks up year names by number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="938">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="939">
            
            

            

            <code class="ruby">        #   year_name(1998) # =&gt; 1998</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="940">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="941">
            
            

            

            <code class="ruby">        # If the &lt;tt&gt;:year_format&lt;/tt&gt; option is passed:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="942">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="943">
            
            

            

            <code class="ruby">        #   year_name(1998) # =&gt; &quot;Heisei 10&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="944">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def year_name(number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="945">
            
            

            

            <code class="ruby">          if year_format_lambda = @options[:year_format]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="946">
            
            

            

            <code class="ruby">            year_format_lambda.call(number)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="947">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="948">
            
            

            

            <code class="ruby">            number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="949">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="950">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="951">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="952">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def date_order</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="953">
            
            

            

            <code class="ruby">          @date_order ||= @options[:order] || translated_date_order</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="954">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="955">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="956">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def translated_date_order</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="957">
            
            

            

            <code class="ruby">          date_order = I18n.translate(:&#39;date.order&#39;, locale: @options[:locale], default: [])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="958">
            
            

            

            <code class="ruby">          date_order = date_order.map(&amp;:to_sym)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="959">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="960">
            
            

            

            <code class="ruby">          forbidden_elements = date_order - [:year, :month, :day]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="961">
            
            

            

            <code class="ruby">          if forbidden_elements.any?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="962">
            
            

            

            <code class="ruby">            raise StandardError,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="963">
            
            

            

            <code class="ruby">              &quot;#{@options[:locale]}.date.order only accepts :year, :month and :day&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="964">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="965">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="966">
            
            

            

            <code class="ruby">          date_order</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="967">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="968">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="969">
            
            

            

            <code class="ruby">        # Build full select tag from date type and options.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="970">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_options_and_select(type, selected, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="971">
            
            

            

            <code class="ruby">          build_select(type, build_options(selected, options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="972">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="973">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="974">
            
            

            

            <code class="ruby">        # Build select option HTML from date value and options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="975">
            
            

            

            <code class="ruby">        #  build_options(15, start: 1, end: 31)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="976">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="977">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="978">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="979">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="980">
            
            

            

            <code class="ruby">        # If &lt;tt&gt;use_two_digit_numbers: true&lt;/tt&gt; option is passed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="981">
            
            

            

            <code class="ruby">        #  build_options(15, start: 1, end: 31, use_two_digit_numbers: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="982">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;option value=&quot;1&quot;&gt;01&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="983">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;2&quot;&gt;02&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="984">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;3&quot;&gt;03&lt;/option&gt;...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="985">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="986">
            
            

            

            <code class="ruby">        # If &lt;tt&gt;:step&lt;/tt&gt; options is passed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="987">
            
            

            

            <code class="ruby">        #  build_options(15, start: 1, end: 31, step: 2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="988">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="989">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="990">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;5&quot;&gt;5&lt;/option&gt;...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="991">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_options(selected, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="992">
            
            

            

            <code class="ruby">          options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="993">
            
            

            

            <code class="ruby">            leading_zeros: true, ampm: false, use_two_digit_numbers: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="994">
            
            

            

            <code class="ruby">          }.merge!(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="995">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="996">
            
            

            

            <code class="ruby">          start         = options.delete(:start) || 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="997">
            
            

            

            <code class="ruby">          stop          = options.delete(:end) || 59</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="998">
            
            

            

            <code class="ruby">          step          = options.delete(:step) || 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="999">
            
            

            

            <code class="ruby">          leading_zeros = options.delete(:leading_zeros)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1000">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1001">
            
            

            

            <code class="ruby">          select_options = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1002">
            
            

            

            <code class="ruby">          start.step(stop, step) do |i|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1003">
            
            

            

            <code class="ruby">            value = leading_zeros ? sprintf(&quot;%02d&quot;, i) : i</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1004">
            
            

            

            <code class="ruby">            tag_options = { value: value }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1005">
            
            

            

            <code class="ruby">            tag_options[:selected] = &quot;selected&quot; if selected == i</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1006">
            
            

            

            <code class="ruby">            text = options[:use_two_digit_numbers] ? sprintf(&quot;%02d&quot;, i) : value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1007">
            
            

            

            <code class="ruby">            text = options[:ampm] ? AMPM_TRANSLATION[i] : text</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1008">
            
            

            

            <code class="ruby">            select_options &lt;&lt; content_tag(&quot;option&quot;, text, tag_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1009">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1010">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1011">
            
            

            

            <code class="ruby">          (select_options.join(&quot;\n&quot;) + &quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1012">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1013">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1014">
            
            

            

            <code class="ruby">        # Build select option HTML for year.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1015">
            
            

            

            <code class="ruby">        # If &lt;tt&gt;year_format&lt;/tt&gt; option is not passed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1016">
            
            

            

            <code class="ruby">        #  build_year_options(1998, start: 1998, end: 2000)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1017">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;option value=&quot;1998&quot; selected=&quot;selected&quot;&gt;1998&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1018">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;1999&quot;&gt;1999&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1019">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;2000&quot;&gt;2000&lt;/option&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1020">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1021">
            
            

            

            <code class="ruby">        # If &lt;tt&gt;year_format&lt;/tt&gt; option is passed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1022">
            
            

            

            <code class="ruby">        #  build_year_options(1998, start: 1998, end: 2000, year_format: -&gt;year { &quot;Heisei #{ year - 1988 }&quot; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1023">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;option value=&quot;1998&quot; selected=&quot;selected&quot;&gt;Heisei 10&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1024">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;1999&quot;&gt;Heisei 11&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1025">
            
            

            

            <code class="ruby">        #      &lt;option value=&quot;2000&quot;&gt;Heisei 12&lt;/option&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1026">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_year_options(selected, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1027">
            
            

            

            <code class="ruby">          start = options.delete(:start)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1028">
            
            

            

            <code class="ruby">          stop = options.delete(:end)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1029">
            
            

            

            <code class="ruby">          step = options.delete(:step)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1030">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1031">
            
            

            

            <code class="ruby">          select_options = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1032">
            
            

            

            <code class="ruby">          start.step(stop, step) do |value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1033">
            
            

            

            <code class="ruby">            tag_options = { value: value }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1034">
            
            

            

            <code class="ruby">            tag_options[:selected] = &quot;selected&quot; if selected == value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1035">
            
            

            

            <code class="ruby">            text = year_name(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1036">
            
            

            

            <code class="ruby">            select_options &lt;&lt; content_tag(&quot;option&quot;, text, tag_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1037">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1038">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1039">
            
            

            

            <code class="ruby">          (select_options.join(&quot;\n&quot;) + &quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1040">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1041">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1042">
            
            

            

            <code class="ruby">        # Builds select tag from date type and HTML select options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1043">
            
            

            

            <code class="ruby">        #  build_select(:month, &quot;&lt;option value=&quot;1&quot;&gt;January&lt;/option&gt;...&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1044">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;select id=&quot;post_written_on_2i&quot; name=&quot;post[written_on(2i)]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1045">
            
            

            

            <code class="ruby">        #        &lt;option value=&quot;1&quot;&gt;January&lt;/option&gt;...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1046">
            
            

            

            <code class="ruby">        #      &lt;/select&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1047">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_select(type, select_options_as_html)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1048">
            
            

            

            <code class="ruby">          select_options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1049">
            
            

            

            <code class="ruby">            id: input_id_from_type(type),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1050">
            
            

            

            <code class="ruby">            name: input_name_from_type(type)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1051">
            
            

            

            <code class="ruby">          }.merge!(@html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1052">
            
            

            

            <code class="ruby">          select_options[:disabled] = &quot;disabled&quot; if @options[:disabled]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1053">
            
            

            

            <code class="ruby">          select_options[:class] = css_class_attribute(type, select_options[:class], @options[:with_css_classes]) if @options[:with_css_classes]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1054">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1055">
            
            

            

            <code class="ruby">          select_html = +&quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1056">
            
            

            

            <code class="ruby">          select_html &lt;&lt; content_tag(&quot;option&quot;, &quot;&quot;, value: &quot;&quot;, label: &quot; &quot;) + &quot;\n&quot; if @options[:include_blank]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1057">
            
            

            

            <code class="ruby">          select_html &lt;&lt; prompt_option_tag(type, @options[:prompt]) + &quot;\n&quot; if @options[:prompt]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1058">
            
            

            

            <code class="ruby">          select_html &lt;&lt; select_options_as_html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1059">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1060">
            
            

            

            <code class="ruby">          (content_tag(&quot;select&quot;, select_html.html_safe, select_options) + &quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1061">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1062">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1063">
            
            

            

            <code class="ruby">        # Builds the css class value for the select element</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1064">
            
            

            

            <code class="ruby">        #  css_class_attribute(:year, &#39;date optional&#39;, { year: &#39;my-year&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1065">
            
            

            

            <code class="ruby">        #  =&gt; &quot;date optional my-year&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1066">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def css_class_attribute(type, html_options_class, options) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1067">
            
            

            

            <code class="ruby">          css_class = \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1068">
            
            

            

            <code class="ruby">            case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1069">
            
            

            

            <code class="ruby">            when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1070">
            
            

            

            <code class="ruby">              options[type.to_sym]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1071">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1072">
            
            

            

            <code class="ruby">              type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1073">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1074">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1075">
            
            

            

            <code class="ruby">          [html_options_class, css_class].compact.join(&quot; &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1076">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1077">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1078">
            
            

            

            <code class="ruby">        # Builds a prompt option tag with supplied options or from default options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1079">
            
            

            

            <code class="ruby">        #  prompt_option_tag(:month, prompt: &#39;Select month&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1080">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;option value=&quot;&quot;&gt;Select month&lt;/option&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1081">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def prompt_option_tag(type, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1082">
            
            

            

            <code class="ruby">          prompt = \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1083">
            
            

            

            <code class="ruby">            case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1084">
            
            

            

            <code class="ruby">            when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1085">
            
            

            

            <code class="ruby">              default_options = { year: false, month: false, day: false, hour: false, minute: false, second: false }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1086">
            
            

            

            <code class="ruby">              default_options.merge!(options)[type.to_sym]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1087">
            
            

            

            <code class="ruby">            when String</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1088">
            
            

            

            <code class="ruby">              options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1089">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1090">
            
            

            

            <code class="ruby">              I18n.translate(:&quot;datetime.prompts.#{type}&quot;, locale: @options[:locale])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1091">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1092">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1093">
            
            

            

            <code class="ruby">          prompt ? content_tag(&quot;option&quot;, prompt, value: &quot;&quot;) : &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1094">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1095">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1096">
            
            

            

            <code class="ruby">        # Builds hidden input tag for date part and value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1097">
            
            

            

            <code class="ruby">        #  build_hidden(:year, 2008)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1098">
            
            

            

            <code class="ruby">        #  =&gt; &quot;&lt;input id=&quot;post_written_on_1i&quot; name=&quot;post[written_on(1i)]&quot; type=&quot;hidden&quot; value=&quot;2008&quot; /&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1099">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_hidden(type, value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1100">
            
            

            

            <code class="ruby">          select_options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1101">
            
            

            

            <code class="ruby">            type: &quot;hidden&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1102">
            
            

            

            <code class="ruby">            id: input_id_from_type(type),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1103">
            
            

            

            <code class="ruby">            name: input_name_from_type(type),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1104">
            
            

            

            <code class="ruby">            value: value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1105">
            
            

            

            <code class="ruby">          }.merge!(@html_options.slice(:disabled))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1106">
            
            

            

            <code class="ruby">          select_options[:disabled] = &quot;disabled&quot; if @options[:disabled]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1107">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1108">
            
            

            

            <code class="ruby">          tag(:input, select_options) + &quot;\n&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1109">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1110">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1111">
            
            

            

            <code class="ruby">        # Returns the name attribute for the input tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1112">
            
            

            

            <code class="ruby">        #  =&gt; post[written_on(1i)]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1113">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def input_name_from_type(type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1114">
            
            

            

            <code class="ruby">          prefix = @options[:prefix] || ActionView::Helpers::DateTimeSelector::DEFAULT_PREFIX</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1115">
            
            

            

            <code class="ruby">          prefix += &quot;[#{@options[:index]}]&quot; if @options.has_key?(:index)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1116">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1117">
            
            

            

            <code class="ruby">          field_name = @options[:field_name] || type.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1118">
            
            

            

            <code class="ruby">          if @options[:include_position]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1119">
            
            

            

            <code class="ruby">            field_name += &quot;(#{ActionView::Helpers::DateTimeSelector::POSITION[type]}i)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1120">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1122">
            
            

            

            <code class="ruby">          @options[:discard_type] ? prefix : &quot;#{prefix}[#{field_name}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1123">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1124">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1125">
            
            

            

            <code class="ruby">        # Returns the id attribute for the input tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1126">
            
            

            

            <code class="ruby">        #  =&gt; &quot;post_written_on_1i&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1127">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def input_id_from_type(type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1128">
            
            

            

            <code class="ruby">          id = input_name_from_type(type).gsub(/([\[\(])|(\]\[)/, &quot;_&quot;).gsub(/[\]\)]/, &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1129">
            
            

            

            <code class="ruby">          id = @options[:namespace] + &quot;_&quot; + id if @options[:namespace]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1131">
            
            

            

            <code class="ruby">          id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1132">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1133">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1134">
            
            

            

            <code class="ruby">        # Given an ordering of datetime components, create the selection HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1135">
            
            

            

            <code class="ruby">        # and join them with their appropriate separators.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1136">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_selects_from_types(order)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1137">
            
            

            

            <code class="ruby">          select = +&quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1138">
            
            

            

            <code class="ruby">          first_visible = order.find { |type| !@options[:&quot;discard_#{type}&quot;] }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1139">
            
            

            

            <code class="ruby">          order.reverse_each do |type|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1140">
            
            

            

            <code class="ruby">            separator = separator(type) unless type == first_visible # don&#39;t add before first visible field</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1141">
            
            

            

            <code class="ruby">            select.insert(0, separator.to_s + send(&quot;select_#{type}&quot;).to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1142">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1143">
            
            

            

            <code class="ruby">          select.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1144">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1146">
            
            

            

            <code class="ruby">        # Returns the separator for a given datetime component.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1147">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def separator(type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1148">
            
            

            

            <code class="ruby">          return &quot;&quot; if @options[:use_hidden]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1149">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1150">
            
            

            

            <code class="ruby">          case type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1151">
            
            

            

            <code class="ruby">          when :year, :month, :day</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1152">
            
            

            

            <code class="ruby">            @options[:&quot;discard_#{type}&quot;] ? &quot;&quot; : @options[:date_separator]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1153">
            
            

            

            <code class="ruby">          when :hour</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1154">
            
            

            

            <code class="ruby">            (@options[:discard_year] &amp;&amp; @options[:discard_day]) ? &quot;&quot; : @options[:datetime_separator]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1155">
            
            

            

            <code class="ruby">          when :minute, :second</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1156">
            
            

            

            <code class="ruby">            @options[:&quot;discard_#{type}&quot;] ? &quot;&quot; : @options[:time_separator]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1157">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1158">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1159">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1160">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1161">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class FormBuilder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1162">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::DateHelper#date_select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1163">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1164">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1165">
            
            

            

            <code class="ruby">      #     &lt;%= f.date_select :birth_date %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1166">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1167">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1168">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1169">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1170">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def date_select(method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1171">
            
            

            

            <code class="ruby">        @template.date_select(@object_name, method, objectify_options(options), html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1172">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1173">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1174">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::DateHelper#time_select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1175">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1176">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @race do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1177">
            
            

            

            <code class="ruby">      #     &lt;%= f.time_select :average_lap %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1178">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1179">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1180">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1181">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1182">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_select(method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1183">
            
            

            

            <code class="ruby">        @template.time_select(@object_name, method, objectify_options(options), html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1184">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1186">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::DateHelper#datetime_select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1187">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1188">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1189">
            
            

            

            <code class="ruby">      #     &lt;%= f.datetime_select :last_request_at %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1190">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1191">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1192">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1193">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1194">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def datetime_select(method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1195">
            
            

            

            <code class="ruby">        @template.datetime_select(@object_name, method, objectify_options(options), html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1196">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1197">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1198">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1199">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c7a88069372650446ec08be0a92b5ce6ae55b98f">
  <div class="header">
    <h3>lib/action_view/helpers/debug_helper.rb</h3>
    <h4>
      <span class="red">
  55.56%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View Debug Helper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # Provides a set of methods for making it easier to debug Rails objects.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module DebugHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # Returns a YAML representation of +object+ wrapped with &lt;pre&gt; and &lt;/pre&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      # If the object cannot be converted to YAML using +to_yaml+, +inspect+ will be called instead.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      # Useful for inspecting an object at the time of rendering.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      #   @user = User.new({ username: &#39;testing&#39;, password: &#39;xyz&#39;, age: 42})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #   debug(@user)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      #   # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      #   &lt;pre class=&#39;debug_dump&#39;&gt;--- !ruby/object:User</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      #   attributes:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      #     updated_at:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #     username: testing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      #     age: 42</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      #     password: xyz</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      #     created_at:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      #   &lt;/pre&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def debug(object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">        Marshal.dump(object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        object = ERB::Util.html_escape(object.to_yaml)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">        content_tag(:pre, object, class: &quot;debug_dump&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      rescue # errors from Marshal or YAML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">        # Object couldn&#39;t be dumped, perhaps because of singleton methods -- this is the fallback</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">        content_tag(:code, object.inspect, class: &quot;debug_dump&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f087469875134abee27411169ed64656ada29a76">
  <div class="header">
    <h3>lib/action_view/helpers/form_helper.rb</h3>
    <h4>
      <span class="red">
  31.21%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>282</b> relevant lines.
      <span class="green"><b>88</b> lines covered</span> and
      <span class="red"><b>194</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;cgi&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/date_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/form_tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/active_model_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/model_naming&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/record_identifier&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/hash/slice&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/inflections&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/symbol/starts_ends_with&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # = Action View Form Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    # Form helpers are designed to make working with resources much easier</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    # compared to using vanilla HTML.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    # Typically, a form designed to create or update a resource reflects the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    # identity of the resource in several ways: (i) the URL that the form is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    # sent to (the form element&#39;s +action+ attribute) should result in a request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # being routed to the appropriate controller action (with the appropriate &lt;tt&gt;:id&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    # parameter in the case of an existing resource), (ii) input fields should</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    # be named in such a way that in the controller their values appear in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    # appropriate places within the +params+ hash, and (iii) for an existing record,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    # when the form is initially displayed, input fields corresponding to attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    # of the resource should show the current values of those attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    # In Rails, this is usually achieved by creating the form using +form_for+ and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    # a number of related helper methods. +form_for+ generates an appropriate &lt;tt&gt;form&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    # tag and yields a form builder object that knows the model the form is about.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    # Input fields are created by calling methods defined on the form builder, which</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    # means they are able to generate the appropriate names and default values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    # corresponding to the model attributes, as well as convenient IDs, etc.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    # Conventions in the generated field names allow controllers to receive form data</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    # nicely structured in +params+ with no effort on your side.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    # For example, to create a new person you typically set up a new instance of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    # +Person+ in the &lt;tt&gt;PeopleController#new&lt;/tt&gt; action, &lt;tt&gt;@person&lt;/tt&gt;, and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    # in the view template pass that object to +form_for+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    #   &lt;%= form_for @person do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    #     &lt;%= f.label :first_name %&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">    #     &lt;%= f.text_field :first_name %&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    #     &lt;%= f.label :last_name %&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    #     &lt;%= f.text_field :last_name %&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    # The HTML generated for this would be (modulus formatting):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    #   &lt;form action=&quot;/people&quot; class=&quot;new_person&quot; id=&quot;new_person&quot; method=&quot;post&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    #     &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;NrOp5bsjoLRuK8IW5+dQEYjKGUJDe7TQoZVvq95Wteg=&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    #     &lt;label for=&quot;person_first_name&quot;&gt;First name&lt;/label&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    #     &lt;input id=&quot;person_first_name&quot; name=&quot;person[first_name]&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    #     &lt;label for=&quot;person_last_name&quot;&gt;Last name&lt;/label&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">    #     &lt;input id=&quot;person_last_name&quot; name=&quot;person[last_name]&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    #     &lt;input name=&quot;commit&quot; type=&quot;submit&quot; value=&quot;Create Person&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    # As you see, the HTML reflects knowledge about the resource in several spots,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    # like the path the form should be submitted to, or the names of the input fields.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    # In particular, thanks to the conventions followed in the generated field names, the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    # controller gets a nested hash &lt;tt&gt;params[:person]&lt;/tt&gt; with the person attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    # set in the form. That hash is ready to be passed to &lt;tt&gt;Person.new&lt;/tt&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    #   @person = Person.new(params[:person])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">    #   if @person.save</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    #     # success</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    #   else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    #     # error handling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">    #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    # Interestingly, the exact same view code in the previous example can be used to edit</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    # a person. If &lt;tt&gt;@person&lt;/tt&gt; is an existing record with name &quot;John Smith&quot; and ID 256,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    # the code above as is would yield instead:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    #   &lt;form action=&quot;/people/256&quot; class=&quot;edit_person&quot; id=&quot;edit_person_256&quot; method=&quot;post&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    #     &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;patch&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    #     &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;NrOp5bsjoLRuK8IW5+dQEYjKGUJDe7TQoZVvq95Wteg=&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    #     &lt;label for=&quot;person_first_name&quot;&gt;First name&lt;/label&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    #     &lt;input id=&quot;person_first_name&quot; name=&quot;person[first_name]&quot; type=&quot;text&quot; value=&quot;John&quot; /&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    #     &lt;label for=&quot;person_last_name&quot;&gt;Last name&lt;/label&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    #     &lt;input id=&quot;person_last_name&quot; name=&quot;person[last_name]&quot; type=&quot;text&quot; value=&quot;Smith&quot; /&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    #     &lt;input name=&quot;commit&quot; type=&quot;submit&quot; value=&quot;Update Person&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">    #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    # Note that the endpoint, default values, and submit button label are tailored for &lt;tt&gt;@person&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">    # That works that way because the involved helpers know whether the resource is a new record or not,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    # and generate HTML accordingly.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">    # The controller would receive the form data again in &lt;tt&gt;params[:person]&lt;/tt&gt;, ready to be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">    # passed to &lt;tt&gt;Person#update&lt;/tt&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">    #   if @person.update(params[:person])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">    #     # success</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    #   else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    #     # error handling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">    # That&#39;s how you typically work with resources.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module FormHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include FormTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include UrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ModelNaming</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include RecordIdentifier</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_internal :default_form_builder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      # Creates a form that allows the user to create or update the attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      # of a specific model object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      # The method can be used in several slightly different ways, depending on</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      # how much you wish to rely on Rails to infer automatically from the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      # how the form should be constructed. For a generic model object, a form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      # can be created by passing +form_for+ a string or symbol representing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      # the object we are concerned with:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #   &lt;%= form_for :person do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      #     First name: &lt;%= f.text_field :first_name %&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #     Last name : &lt;%= f.text_field :last_name %&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      #     Biography : &lt;%= f.text_area :biography %&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #     Admin?    : &lt;%= f.check_box :admin %&gt;&lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      # The variable +f+ yielded to the block is a FormBuilder object that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      # incorporates the knowledge about the model object represented by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:person&lt;/tt&gt; passed to +form_for+. Methods defined on the FormBuilder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      # are used to generate fields bound to this model. Thus, for example,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      #   &lt;%= f.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      # will get expanded to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #   &lt;%= text_field :person, :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      # which results in an HTML &lt;tt&gt;&lt;input&gt;&lt;/tt&gt; tag whose +name+ attribute is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      # &lt;tt&gt;person[first_name]&lt;/tt&gt;. This means that when the form is submitted,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      # the value entered by the user will be available in the controller as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      # &lt;tt&gt;params[:person][:first_name]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      # For fields generated in this way using the FormBuilder,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      # if &lt;tt&gt;:person&lt;/tt&gt; also happens to be the name of an instance variable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      # &lt;tt&gt;@person&lt;/tt&gt;, the default value of the field shown when the form is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      # initially displayed (e.g. in the situation where you are editing an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      # existing record) will be the value of the corresponding attribute of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # &lt;tt&gt;@person&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      # The rightmost argument to +form_for+ is an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      # optional hash of options -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:url&lt;/tt&gt; - The URL the form is to be submitted to. This may be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      #   represented in the same way as values passed to +url_for+ or +link_to+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      #   So for example you may use a named route directly. When the model is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      #   represented by a string or symbol, as in the example above, if the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;:url&lt;/tt&gt; option is not specified, by default the form will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #   sent back to the current URL (We will describe below an alternative</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #   resource-oriented usage of +form_for+ in which the URL does not need</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      #   to be specified explicitly).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:namespace&lt;/tt&gt; - A namespace for your form to ensure uniqueness of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      #   id attributes on form elements. The namespace attribute will be prefixed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      #   with underscore on the generated HTML id.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:method&lt;/tt&gt; - The method to use when submitting the form, usually</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      #   either &quot;get&quot; or &quot;post&quot;. If &quot;patch&quot;, &quot;put&quot;, &quot;delete&quot;, or another verb</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #   is used, a hidden input with name &lt;tt&gt;_method&lt;/tt&gt; is added to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #   simulate the verb over post.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:authenticity_token&lt;/tt&gt; - Authenticity token to use in the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #   Use only if you need to pass custom authenticity token string, or to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      #   not add authenticity_token field at all (by passing &lt;tt&gt;false&lt;/tt&gt;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #   Remote forms may omit the embedded authenticity token by setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;config.action_view.embed_authenticity_token_in_remote_forms = false&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #   This is helpful when you&#39;re fragment-caching the form. Remote forms</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      #   get the authenticity token from the &lt;tt&gt;meta&lt;/tt&gt; tag, so embedding is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #   unnecessary unless you support browsers without JavaScript.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:remote&lt;/tt&gt; - If set to true, will allow the Unobtrusive</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #   JavaScript drivers to control the submit behavior. By default this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #   behavior is an ajax submit.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:enforce_utf8&lt;/tt&gt; - If set to false, a hidden input with name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      #   utf8 is not output.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:html&lt;/tt&gt; - Optional HTML attributes for the form tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      # Also note that +form_for+ doesn&#39;t create an exclusive scope. It&#39;s still</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      # possible to use both the stand-alone FormHelper methods and methods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      # from FormTagHelper. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      #   &lt;%= form_for :person do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      #     First name: &lt;%= f.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      #     Last name : &lt;%= f.text_field :last_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      #     Biography : &lt;%= text_area :person, :biography %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      #     Admin?    : &lt;%= check_box_tag &quot;person[admin]&quot;, &quot;1&quot;, @person.company.admin? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      # This also works for the methods in FormOptionsHelper and DateHelper that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # are designed to work with an object as base, like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # FormOptionsHelper#collection_select and DateHelper#datetime_select.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      # === #form_for with a model object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      # In the examples above, the object to be created or edited was</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      # represented by a symbol passed to +form_for+, and we noted that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      # a string can also be used equivalently. It is also possible, however,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      # to pass a model object itself to +form_for+. For example, if &lt;tt&gt;@post&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      # is an existing record you wish to edit, you can create the form using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # This behaves in almost the same way as outlined previously, with a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      # couple of small exceptions. First, the prefix used to name the input</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      # elements within the form (hence the key that denotes them in the +params+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      # hash) is actually derived from the object&#39;s _class_, e.g. &lt;tt&gt;params[:post]&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      # if the object&#39;s class is +Post+. However, this can be overwritten using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # the &lt;tt&gt;:as&lt;/tt&gt; option, e.g. -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(@person, as: :client) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      # would result in &lt;tt&gt;params[:client]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      # Secondly, the field values shown when the form is initially displayed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      # are taken from the attributes of the object passed to +form_for+,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      # regardless of whether the object is an instance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      # variable. So, for example, if we had a _local_ variable +post+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # representing an existing record,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      #   &lt;%= form_for post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      # would produce a form with fields whose initial state reflect the current</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      # values of the attributes of +post+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      # === Resource-oriented style</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      # In the examples just shown, although not indicated explicitly, we still</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      # need to use the &lt;tt&gt;:url&lt;/tt&gt; option in order to specify where the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      # form is going to be sent. However, further simplification is possible</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      # if the record passed to +form_for+ is a _resource_, i.e. it corresponds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      # to a set of RESTful routes, e.g. defined using the +resources+ method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      # in &lt;tt&gt;config/routes.rb&lt;/tt&gt;. In this case Rails will simply infer the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      # appropriate URL from the record itself. For example,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      # is then equivalent to something like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post, as: :post, url: post_path(@post), method: :patch, html: { class: &quot;edit_post&quot;, id: &quot;edit_post_45&quot; } do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      # And for a new record</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(Post.new) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      # is equivalent to something like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post, as: :post, url: posts_path, html: { class: &quot;new_post&quot;, id: &quot;new_post&quot; } do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      # However you can still overwrite individual conventions, such as:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(@post, url: super_posts_path) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      # You can also set the answer format, like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(@post, format: :json) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      # For namespaced routes, like +admin_post_url+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      #   &lt;%= form_for([:admin, @post]) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #    ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      # If your resource has associations defined, for example, you want to add comments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      # to the document given that the routes are set correctly:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      #   &lt;%= form_for([@document, @comment]) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      #    ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      # Where &lt;tt&gt;@document = Document.find(params[:id])&lt;/tt&gt; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      # &lt;tt&gt;@comment = Comment.new&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      # === Setting the method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      # You can force the form to use the full array of HTTP verbs by setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      #    method: (:get|:post|:patch|:put|:delete)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      # in the options hash. If the verb is not GET or POST, which are natively</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      # supported by HTML forms, the form will be set to POST and a hidden input</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      # called _method will carry the intended verb for the server to interpret.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      # === Unobtrusive JavaScript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      # Specifying:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">      #    remote: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      # in the options hash creates a form that will allow the unobtrusive JavaScript drivers to modify its</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      # behavior. The expected default behavior is an XMLHttpRequest in the background instead of the regular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      # POST arrangement, but ultimately the behavior is the choice of the JavaScript driver implementor.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      # Even though it&#39;s using JavaScript to serialize the form elements, the form submission will work just like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      # a regular submission as viewed by the receiving side (all elements available in &lt;tt&gt;params&lt;/tt&gt;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      # Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(@post, remote: true) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      # The HTML generated for this would be:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      #   &lt;form action=&#39;http://www.example.com&#39; method=&#39;post&#39; data-remote=&#39;true&#39;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      #     &lt;input name=&#39;_method&#39; type=&#39;hidden&#39; value=&#39;patch&#39; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      # === Setting HTML options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      # You can set data attributes directly by passing in a data hash, but all other HTML options must be wrapped in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      # the HTML key. Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(@post, data: { behavior: &quot;autosave&quot; }, html: { name: &quot;go&quot; }) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      # The HTML generated for this would be:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      #   &lt;form action=&#39;http://www.example.com&#39; method=&#39;post&#39; data-behavior=&#39;autosave&#39; name=&#39;go&#39;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">      #     &lt;input name=&#39;_method&#39; type=&#39;hidden&#39; value=&#39;patch&#39; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">      # === Removing hidden model id&#39;s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">      # The form_for method automatically includes the model id as a hidden field in the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">      # This is used to maintain the correlation between the form data and its associated model.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      # Some ORM systems do not use IDs on nested models so in this case you want to be able</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      # to disable the hidden id.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      # In the following example the Post model has many Comments stored within it in a NoSQL database,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      # thus there is no primary key for comments.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      # Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #   &lt;%= form_for(@post) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      #     &lt;%= f.fields_for(:comments, include_id: false) do |cf| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      #       ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      # === Customized form builders</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      # You can also build forms using a customized FormBuilder class. Subclass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      # FormBuilder and override or define some more helpers, then use your</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      # custom builder. For example, let&#39;s say you made a helper to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      # automatically add labels to form inputs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person, url: { action: &quot;create&quot; }, builder: LabellingFormBuilder do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      #     &lt;%= f.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #     &lt;%= f.text_field :last_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      #     &lt;%= f.text_area :biography %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      #     &lt;%= f.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      # In this case, if you use this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #   &lt;%= render f %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      # The rendered template is &lt;tt&gt;people/_labelling_form&lt;/tt&gt; and the local</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      # variable referencing the form builder is called</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      # &lt;tt&gt;labelling_form&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      # The custom FormBuilder class is automatically merged with the options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">      # of a nested fields_for call, unless it&#39;s explicitly set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">      # In many cases you will want to wrap the above in another helper, so you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">      # could do something like the following:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">      #   def labelled_form_for(record_or_name_or_array, *args, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby">      #     options = args.extract_options!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">      #     form_for(record_or_name_or_array, *(args &lt;&lt; options.merge(builder: LabellingFormBuilder)), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">      # If you don&#39;t need to attach a form to a model instance, then check out</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      # FormTagHelper#form_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      # === Form to external resources</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      # When you build forms to external resources sometimes you need to set an authenticity token or just render a form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">      # without it, for example when you submit data to a payment gateway number and types of fields could be limited.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      # To set an authenticity token you need to pass an &lt;tt&gt;:authenticity_token&lt;/tt&gt; parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @invoice, url: external_url, authenticity_token: &#39;external_token&#39; do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      # If you don&#39;t want to an authenticity token field be rendered at all just pass &lt;tt&gt;false&lt;/tt&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @invoice, url: external_url, authenticity_token: false do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="431">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def form_for(record, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="432">
            
            

            

            <code class="ruby">        raise ArgumentError, &quot;Missing block&quot; unless block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="433">
            
            

            

            <code class="ruby">        html_options = options[:html] ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="435">
            
            

            

            <code class="ruby">        case record</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">        when String, Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="437">
            
            

            

            <code class="ruby">          object_name = record</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="438">
            
            

            

            <code class="ruby">          object      = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="440">
            
            

            

            <code class="ruby">          object      = record.is_a?(Array) ? record.last : record</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="441">
            
            

            

            <code class="ruby">          raise ArgumentError, &quot;First argument in form cannot contain nil or be empty&quot; unless object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="442">
            
            

            

            <code class="ruby">          object_name = options[:as] || model_name_from_record_or_class(object).param_key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="443">
            
            

            

            <code class="ruby">          apply_form_for_options!(record, object, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="446">
            
            

            

            <code class="ruby">        html_options[:data]   = options.delete(:data)   if options.has_key?(:data)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="447">
            
            

            

            <code class="ruby">        html_options[:remote] = options.delete(:remote) if options.has_key?(:remote)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="448">
            
            

            

            <code class="ruby">        html_options[:method] = options.delete(:method) if options.has_key?(:method)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="449">
            
            

            

            <code class="ruby">        html_options[:enforce_utf8] = options.delete(:enforce_utf8) if options.has_key?(:enforce_utf8)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="450">
            
            

            

            <code class="ruby">        html_options[:authenticity_token] = options.delete(:authenticity_token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="452">
            
            

            

            <code class="ruby">        builder = instantiate_builder(object_name, object, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="453">
            
            

            

            <code class="ruby">        output  = capture(builder, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="454">
            
            

            

            <code class="ruby">        html_options[:multipart] ||= builder.multipart?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="456">
            
            

            

            <code class="ruby">        html_options = html_options_for_form(options[:url] || {}, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="457">
            
            

            

            <code class="ruby">        form_tag_with_body(html_options, output)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="460">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def apply_form_for_options!(record, object, options) #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="461">
            
            

            

            <code class="ruby">        object = convert_to_model(object)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="463">
            
            

            

            <code class="ruby">        as = options[:as]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="464">
            
            

            

            <code class="ruby">        namespace = options[:namespace]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="465">
            
            

            

            <code class="ruby">        action, method = object.respond_to?(:persisted?) &amp;&amp; object.persisted? ? [:edit, :patch] : [:new, :post]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="466">
            
            

            

            <code class="ruby">        options[:html].reverse_merge!(</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="467">
            
            

            

            <code class="ruby">          class:  as ? &quot;#{action}_#{as}&quot; : dom_class(object, action),</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="468">
            
            

            

            <code class="ruby">          id:     (as ? [namespace, action, as] : [namespace, dom_id(object, action)]).compact.join(&quot;_&quot;).presence,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">          method: method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="472">
            
            

            

            <code class="ruby">        options[:url] ||= if options.key?(:format)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="473">
            
            

            

            <code class="ruby">          polymorphic_path(record, format: options.delete(:format))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="475">
            
            

            

            <code class="ruby">          polymorphic_path(record, {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="478">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private :apply_form_for_options!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="480">
            <span class="hits">1</span>
            

            

            <code class="ruby">      mattr_accessor :form_with_generates_remote_forms, default: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="482">
            <span class="hits">1</span>
            

            

            <code class="ruby">      mattr_accessor :form_with_generates_ids, default: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">      # Creates a form tag based on mixing URLs, scopes, or models.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            
            

            

            <code class="ruby">      #   # Using just a URL:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            
            

            

            <code class="ruby">      #   &lt;%= form_with url: posts_path do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">      #   # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">      #   &lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">      #   # Adding a scope prefixes the input field names:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">      #   &lt;%= form_with scope: :post, url: posts_path do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">      #   # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">      #   &lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;text&quot; name=&quot;post[title]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">      #   # Using a model infers both the URL and scope:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: Post.new do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">      #   # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">      #   &lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;text&quot; name=&quot;post[title]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">      #   # An existing model makes an update form and fills out field values:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: Post.first do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            
            

            

            <code class="ruby">      #   # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby">      #   &lt;form action=&quot;/posts/1&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;patch&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;text&quot; name=&quot;post[title]&quot; value=&quot;&lt;the title of the post&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">      #   # Though the fields don&#39;t have to correspond to model attributes:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: Cat.new do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :cats_dont_have_gills %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :but_in_forms_they_can %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">      #   # =&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">      #   &lt;form action=&quot;/cats&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;text&quot; name=&quot;cat[cats_dont_have_gills]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby">      #     &lt;input type=&quot;text&quot; name=&quot;cat[but_in_forms_they_can]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            
            

            

            <code class="ruby">      # The parameters in the forms are accessible in controllers according to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            
            

            

            <code class="ruby">      # their name nesting. So inputs named +title+ and &lt;tt&gt;post[title]&lt;/tt&gt; are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby">      # accessible as &lt;tt&gt;params[:title]&lt;/tt&gt; and &lt;tt&gt;params[:post][:title]&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            
            

            

            <code class="ruby">      # respectively.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby">      # By default +form_with+ attaches the &lt;tt&gt;data-remote&lt;/tt&gt; attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            
            

            

            <code class="ruby">      # submitting the form via an XMLHTTPRequest in the background if an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            
            

            

            <code class="ruby">      # Unobtrusive JavaScript driver, like rails-ujs, is used. See the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:local&lt;/tt&gt; option for more.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="544">
            
            

            

            <code class="ruby">      # For ease of comparison the examples above left out the submit button,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby">      # as well as the auto generated hidden fields that enable UTF-8 support</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            
            

            

            <code class="ruby">      # and adds an authenticity token needed for cross site request forgery</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby">      # protection.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="549">
            
            

            

            <code class="ruby">      # === Resource-oriented style</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            
            

            

            <code class="ruby">      # In many of the examples just shown, the +:model+ passed to +form_with+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            
            

            

            <code class="ruby">      # is a _resource_. It corresponds to a set of RESTful routes, most likely</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="553">
            
            

            

            <code class="ruby">      # defined via +resources+ in &lt;tt&gt;config/routes.rb&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby">      # So when passing such a model record, Rails infers the URL and method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="557">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @post do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            
            

            

            <code class="ruby">      # is then equivalent to something like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            
            

            

            <code class="ruby">      #   &lt;%= form_with scope: :post, url: post_path(@post), method: :patch do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="567">
            
            

            

            <code class="ruby">      # And for a new record</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="569">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: Post.new do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">      # is equivalent to something like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="575">
            
            

            

            <code class="ruby">      #   &lt;%= form_with scope: :post, url: posts_path do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="578">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="579">
            
            

            

            <code class="ruby">      # ==== +form_with+ options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:url&lt;/tt&gt; - The URL the form submits to. Akin to values passed to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="582">
            
            

            

            <code class="ruby">      #   +url_for+ or +link_to+. For example, you may use a named route</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="583">
            
            

            

            <code class="ruby">      #   directly. When a &lt;tt&gt;:scope&lt;/tt&gt; is passed without a &lt;tt&gt;:url&lt;/tt&gt; the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            
            

            

            <code class="ruby">      #   form just submits to the current URL.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:method&lt;/tt&gt; - The method to use when submitting the form, usually</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="586">
            
            

            

            <code class="ruby">      #   either &quot;get&quot; or &quot;post&quot;. If &quot;patch&quot;, &quot;put&quot;, &quot;delete&quot;, or another verb</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">      #   is used, a hidden input named &lt;tt&gt;_method&lt;/tt&gt; is added to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            
            

            

            <code class="ruby">      #   simulate the verb over post.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="589">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:format&lt;/tt&gt; - The format of the route the form submits to.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="590">
            
            

            

            <code class="ruby">      #   Useful when submitting to another resource type, like &lt;tt&gt;:json&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby">      #   Skipped if a &lt;tt&gt;:url&lt;/tt&gt; is passed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:scope&lt;/tt&gt; - The scope to prefix input field names with and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            
            

            

            <code class="ruby">      #   thereby how the submitted parameters are grouped in controllers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:namespace&lt;/tt&gt; - A namespace for your form to ensure uniqueness of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            
            

            

            <code class="ruby">      #   id attributes on form elements. The namespace attribute will be prefixed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">      #   with underscore on the generated HTML id.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:model&lt;/tt&gt; - A model object to infer the &lt;tt&gt;:url&lt;/tt&gt; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;:scope&lt;/tt&gt; by, plus fill out input field values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            
            

            

            <code class="ruby">      #   So if a +title+ attribute is set to &quot;Ahoy!&quot; then a +title+ input</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            
            

            

            <code class="ruby">      #   field&#39;s value would be &quot;Ahoy!&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">      #   If the model is a new record a create form is generated, if an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">      #   existing record, however, an update form is generated.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">      #   Pass &lt;tt&gt;:scope&lt;/tt&gt; or &lt;tt&gt;:url&lt;/tt&gt; to override the defaults.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">      #   E.g. turn &lt;tt&gt;params[:post]&lt;/tt&gt; into &lt;tt&gt;params[:article]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:authenticity_token&lt;/tt&gt; - Authenticity token to use in the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            
            

            

            <code class="ruby">      #   Override with a custom authenticity token or pass &lt;tt&gt;false&lt;/tt&gt; to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="607">
            
            

            

            <code class="ruby">      #   skip the authenticity token field altogether.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby">      #   Useful when submitting to an external resource like a payment gateway</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby">      #   that might limit the valid fields.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            
            

            

            <code class="ruby">      #   Remote forms may omit the embedded authenticity token by setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;config.action_view.embed_authenticity_token_in_remote_forms = false&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">      #   This is helpful when fragment-caching the form. Remote forms</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            
            

            

            <code class="ruby">      #   get the authenticity token from the &lt;tt&gt;meta&lt;/tt&gt; tag, so embedding is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            
            

            

            <code class="ruby">      #   unnecessary unless you support browsers without JavaScript.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="615">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:local&lt;/tt&gt; - By default form submits are remote and unobtrusive XHRs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="616">
            
            

            

            <code class="ruby">      #   Disable remote submits with &lt;tt&gt;local: true&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:skip_enforcing_utf8&lt;/tt&gt; - If set to true, a hidden input with name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="618">
            
            

            

            <code class="ruby">      #   utf8 is not output.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:builder&lt;/tt&gt; - Override the object used to build the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:id&lt;/tt&gt; - Optional HTML id attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:class&lt;/tt&gt; - Optional HTML class attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="622">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:data&lt;/tt&gt; - Optional HTML data attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:html&lt;/tt&gt; - Other optional HTML attributes for the form tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">      # === Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            
            

            

            <code class="ruby">      # When not passing a block, +form_with+ just generates an opening form tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: @post, url: super_posts_path) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: @post, scope: :article) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: @post, format: :json) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: @post, authenticity_token: false) %&gt; # Disables the token.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="634">
            
            

            

            <code class="ruby">      # For namespaced routes, like +admin_post_url+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: [ :admin, @post ]) do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby">      # If your resource has associations defined, for example, you want to add comments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby">      # to the document given that the routes are set correctly:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="642">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: [ @document, Comment.new ]) do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="646">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">      # Where &lt;tt&gt;@document = Document.find(params[:id])&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="648">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="649">
            
            

            

            <code class="ruby">      # === Mixing with other form helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="650">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="651">
            
            

            

            <code class="ruby">      # While +form_with+ uses a FormBuilder object it&#39;s possible to mix and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            
            

            

            <code class="ruby">      # match the stand-alone FormHelper methods and methods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">      # from FormTagHelper:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="654">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            
            

            

            <code class="ruby">      #   &lt;%= form_with scope: :person do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="656">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :last_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="658">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="659">
            
            

            

            <code class="ruby">      #     &lt;%= text_area :person, :biography %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            
            

            

            <code class="ruby">      #     &lt;%= check_box_tag &quot;person[admin]&quot;, &quot;1&quot;, @person.company.admin? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            
            

            

            <code class="ruby">      #     &lt;%= form.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="663">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            
            

            

            <code class="ruby">      # Same goes for the methods in FormOptionsHelper and DateHelper designed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby">      # to work with an object as a base, like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="667">
            
            

            

            <code class="ruby">      # FormOptionsHelper#collection_select and DateHelper#datetime_select.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="668">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            
            

            

            <code class="ruby">      # === Setting the method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="670">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="671">
            
            

            

            <code class="ruby">      # You can force the form to use the full array of HTTP verbs by setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="672">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            
            

            

            <code class="ruby">      #    method: (:get|:post|:patch|:put|:delete)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="674">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            
            

            

            <code class="ruby">      # in the options hash. If the verb is not GET or POST, which are natively</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            
            

            

            <code class="ruby">      # supported by HTML forms, the form will be set to POST and a hidden input</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby">      # called _method will carry the intended verb for the server to interpret.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="678">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">      # === Setting HTML options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            
            

            

            <code class="ruby">      # You can set data attributes directly in a data hash, but HTML options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="682">
            
            

            

            <code class="ruby">      # besides id and class must be wrapped in an HTML key:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="684">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: @post, data: { behavior: &quot;autosave&quot; }, html: { name: &quot;go&quot; }) do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="685">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            
            

            

            <code class="ruby">      # generates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="690">
            
            

            

            <code class="ruby">      #   &lt;form action=&quot;/posts/123&quot; method=&quot;post&quot; data-behavior=&quot;autosave&quot; name=&quot;go&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="691">
            
            

            

            <code class="ruby">      #     &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;patch&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="692">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="693">
            
            

            

            <code class="ruby">      #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="694">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="695">
            
            

            

            <code class="ruby">      # === Removing hidden model id&#39;s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="696">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="697">
            
            

            

            <code class="ruby">      # The +form_with+ method automatically includes the model id as a hidden field in the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="698">
            
            

            

            <code class="ruby">      # This is used to maintain the correlation between the form data and its associated model.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            
            

            

            <code class="ruby">      # Some ORM systems do not use IDs on nested models so in this case you want to be able</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="700">
            
            

            

            <code class="ruby">      # to disable the hidden id.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="701">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="702">
            
            

            

            <code class="ruby">      # In the following example the Post model has many Comments stored within it in a NoSQL database,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="703">
            
            

            

            <code class="ruby">      # thus there is no primary key for comments.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="705">
            
            

            

            <code class="ruby">      #   &lt;%= form_with(model: @post) do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="706">
            
            

            

            <code class="ruby">      #     &lt;%= form.fields(:comments, skip_id: true) do |fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            
            

            

            <code class="ruby">      #       ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="710">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            
            

            

            <code class="ruby">      # === Customized form builders</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby">      # You can also build forms using a customized FormBuilder class. Subclass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="714">
            
            

            

            <code class="ruby">      # FormBuilder and override or define some more helpers, then use your</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="715">
            
            

            

            <code class="ruby">      # custom builder. For example, let&#39;s say you made a helper to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="716">
            
            

            

            <code class="ruby">      # automatically add labels to form inputs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @person, url: { action: &quot;create&quot; }, builder: LabellingFormBuilder do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :last_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_area :biography %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            
            

            

            <code class="ruby">      #     &lt;%= form.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="723">
            
            

            

            <code class="ruby">      #     &lt;%= form.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="724">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby">      # In this case, if you use:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            
            

            

            <code class="ruby">      #   &lt;%= render form %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            
            

            

            <code class="ruby">      # The rendered template is &lt;tt&gt;people/_labelling_form&lt;/tt&gt; and the local</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            
            

            

            <code class="ruby">      # variable referencing the form builder is called</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            
            

            

            <code class="ruby">      # &lt;tt&gt;labelling_form&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            
            

            

            <code class="ruby">      # The custom FormBuilder class is automatically merged with the options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">      # of a nested +fields+ call, unless it&#39;s explicitly set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby">      # In many cases you will want to wrap the above in another helper, so you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="738">
            
            

            

            <code class="ruby">      # could do something like the following:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="739">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            
            

            

            <code class="ruby">      #   def labelled_form_with(**options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="741">
            
            

            

            <code class="ruby">      #     form_with(**options.merge(builder: LabellingFormBuilder), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="742">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="743">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def form_with(model: nil, scope: nil, url: nil, format: nil, **options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="744">
            
            

            

            <code class="ruby">        options[:allow_method_names_outside_object] = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="745">
            
            

            

            <code class="ruby">        options[:skip_default_ids] = !form_with_generates_ids</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="747">
            
            

            

            <code class="ruby">        if model</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="748">
            
            

            

            <code class="ruby">          url ||= polymorphic_path(model, format: format)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="749">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="750">
            
            

            

            <code class="ruby">          model   = model.last if model.is_a?(Array)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="751">
            
            

            

            <code class="ruby">          scope ||= model_name_from_record_or_class(model).param_key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="753">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="754">
            
            

            

            <code class="ruby">        if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="755">
            
            

            

            <code class="ruby">          builder = instantiate_builder(scope, model, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="756">
            
            

            

            <code class="ruby">          output  = capture(builder, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="757">
            
            

            

            <code class="ruby">          options[:multipart] ||= builder.multipart?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="758">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="759">
            
            

            

            <code class="ruby">          html_options = html_options_for_form_with(url, model, **options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="760">
            
            

            

            <code class="ruby">          form_tag_with_body(html_options, output)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="761">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="762">
            
            

            

            <code class="ruby">          html_options = html_options_for_form_with(url, model, **options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="763">
            
            

            

            <code class="ruby">          form_tag_html(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="766">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            
            

            

            <code class="ruby">      # Creates a scope around a specific model object like form_for, but</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="768">
            
            

            

            <code class="ruby">      # doesn&#39;t create the form tags themselves. This makes fields_for suitable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="769">
            
            

            

            <code class="ruby">      # for specifying additional model objects in the same form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="770">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="771">
            
            

            

            <code class="ruby">      # Although the usage and purpose of +fields_for+ is similar to +form_for+&#39;s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="772">
            
            

            

            <code class="ruby">      # its method signature is slightly different. Like +form_for+, it yields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="773">
            
            

            

            <code class="ruby">      # a FormBuilder object associated with a particular model object to a block,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="774">
            
            

            

            <code class="ruby">      # and within the block allows methods to be called on the builder to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="775">
            
            

            

            <code class="ruby">      # generate fields associated with the model object. Fields may reflect</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="776">
            
            

            

            <code class="ruby">      # a model object in two ways - how they are named (hence how submitted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="777">
            
            

            

            <code class="ruby">      # values appear within the +params+ hash in the controller) and what</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="778">
            
            

            

            <code class="ruby">      # default values are shown when the form the fields appear in is first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="779">
            
            

            

            <code class="ruby">      # displayed. In order for both of these features to be specified independently,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="780">
            
            

            

            <code class="ruby">      # both an object name (represented by either a symbol or string) and the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="781">
            
            

            

            <code class="ruby">      # object itself can be passed to the method separately -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="782">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="783">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="784">
            
            

            

            <code class="ruby">      #     First name: &lt;%= person_form.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="785">
            
            

            

            <code class="ruby">      #     Last name : &lt;%= person_form.text_field :last_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="786">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="787">
            
            

            

            <code class="ruby">      #     &lt;%= fields_for :permission, @person.permission do |permission_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="788">
            
            

            

            <code class="ruby">      #       Admin?  : &lt;%= permission_fields.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="789">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="790">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="791">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="792">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="793">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="794">
            
            

            

            <code class="ruby">      # In this case, the checkbox field will be represented by an HTML +input+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="795">
            
            

            

            <code class="ruby">      # tag with the +name+ attribute &lt;tt&gt;permission[admin]&lt;/tt&gt;, and the submitted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="796">
            
            

            

            <code class="ruby">      # value will appear in the controller as &lt;tt&gt;params[:permission][:admin]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="797">
            
            

            

            <code class="ruby">      # If &lt;tt&gt;@person.permission&lt;/tt&gt; is an existing record with an attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="798">
            
            

            

            <code class="ruby">      # +admin+, the initial state of the checkbox when first displayed will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="799">
            
            

            

            <code class="ruby">      # reflect the value of &lt;tt&gt;@person.permission.admin&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="800">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="801">
            
            

            

            <code class="ruby">      # Often this can be simplified by passing just the name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="802">
            
            

            

            <code class="ruby">      # object to +fields_for+ -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="803">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="804">
            
            

            

            <code class="ruby">      #   &lt;%= fields_for :permission do |permission_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="805">
            
            

            

            <code class="ruby">      #     Admin?: &lt;%= permission_fields.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="806">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="807">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="808">
            
            

            

            <code class="ruby">      # ...in which case, if &lt;tt&gt;:permission&lt;/tt&gt; also happens to be the name of an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="809">
            
            

            

            <code class="ruby">      # instance variable &lt;tt&gt;@permission&lt;/tt&gt;, the initial state of the input</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="810">
            
            

            

            <code class="ruby">      # field will reflect the value of that variable&#39;s attribute &lt;tt&gt;@permission.admin&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="811">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="812">
            
            

            

            <code class="ruby">      # Alternatively, you can pass just the model object itself (if the first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="813">
            
            

            

            <code class="ruby">      # argument isn&#39;t a string or symbol +fields_for+ will realize that the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="814">
            
            

            

            <code class="ruby">      # name has been omitted) -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="815">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="816">
            
            

            

            <code class="ruby">      #   &lt;%= fields_for @person.permission do |permission_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="817">
            
            

            

            <code class="ruby">      #     Admin?: &lt;%= permission_fields.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="818">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="819">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="820">
            
            

            

            <code class="ruby">      # and +fields_for+ will derive the required name of the field from the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="821">
            
            

            

            <code class="ruby">      # _class_ of the model object, e.g. if &lt;tt&gt;@person.permission&lt;/tt&gt;, is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="822">
            
            

            

            <code class="ruby">      # of class +Permission+, the field will still be named &lt;tt&gt;permission[admin]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="823">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="824">
            
            

            

            <code class="ruby">      # Note: This also works for the methods in FormOptionsHelper and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="825">
            
            

            

            <code class="ruby">      # DateHelper that are designed to work with an object as base, like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="826">
            
            

            

            <code class="ruby">      # FormOptionsHelper#collection_select and DateHelper#datetime_select.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="827">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="828">
            
            

            

            <code class="ruby">      # === Nested Attributes Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="829">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="830">
            
            

            

            <code class="ruby">      # When the object belonging to the current scope has a nested attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="831">
            
            

            

            <code class="ruby">      # writer for a certain attribute, fields_for will yield a new scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="832">
            
            

            

            <code class="ruby">      # for that attribute. This allows you to create forms that set or change</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="833">
            
            

            

            <code class="ruby">      # the attributes of a parent object and its associations in one go.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="834">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="835">
            
            

            

            <code class="ruby">      # Nested attribute writers are normal setter methods named after an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="836">
            
            

            

            <code class="ruby">      # association. The most common way of defining these writers is either</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="837">
            
            

            

            <code class="ruby">      # with +accepts_nested_attributes_for+ in a model definition or by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="838">
            
            

            

            <code class="ruby">      # defining a method with the proper name. For example: the attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="839">
            
            

            

            <code class="ruby">      # writer for the association &lt;tt&gt;:address&lt;/tt&gt; is called</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="840">
            
            

            

            <code class="ruby">      # &lt;tt&gt;address_attributes=&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="841">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="842">
            
            

            

            <code class="ruby">      # Whether a one-to-one or one-to-many style form builder will be yielded</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="843">
            
            

            

            <code class="ruby">      # depends on whether the normal reader method returns a _single_ object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="844">
            
            

            

            <code class="ruby">      # or an _array_ of objects.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="845">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="846">
            
            

            

            <code class="ruby">      # ==== One-to-one</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="847">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="848">
            
            

            

            <code class="ruby">      # Consider a Person class which returns a _single_ Address from the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="849">
            
            

            

            <code class="ruby">      # &lt;tt&gt;address&lt;/tt&gt; reader method and responds to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="850">
            
            

            

            <code class="ruby">      # &lt;tt&gt;address_attributes=&lt;/tt&gt; writer method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="851">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby">      #   class Person</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="853">
            
            

            

            <code class="ruby">      #     def address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="854">
            
            

            

            <code class="ruby">      #       @address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="855">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="856">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="857">
            
            

            

            <code class="ruby">      #     def address_attributes=(attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="858">
            
            

            

            <code class="ruby">      #       # Process the attributes hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="859">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="860">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="861">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="862">
            
            

            

            <code class="ruby">      # This model can now be used with a nested fields_for, like so:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="863">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="864">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="865">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="866">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :address do |address_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="867">
            
            

            

            <code class="ruby">      #       Street  : &lt;%= address_fields.text_field :street %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="868">
            
            

            

            <code class="ruby">      #       Zip code: &lt;%= address_fields.text_field :zip_code %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="869">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="870">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="871">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="872">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="873">
            
            

            

            <code class="ruby">      # When address is already an association on a Person you can use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="874">
            
            

            

            <code class="ruby">      # +accepts_nested_attributes_for+ to define the writer method for you:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="875">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="876">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="877">
            
            

            

            <code class="ruby">      #     has_one :address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="878">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="879">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="880">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="881">
            
            

            

            <code class="ruby">      # If you want to destroy the associated model through the form, you have</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="882">
            
            

            

            <code class="ruby">      # to enable it first using the &lt;tt&gt;:allow_destroy&lt;/tt&gt; option for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="883">
            
            

            

            <code class="ruby">      # +accepts_nested_attributes_for+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="884">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="885">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="886">
            
            

            

            <code class="ruby">      #     has_one :address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="887">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :address, allow_destroy: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="888">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="889">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="890">
            
            

            

            <code class="ruby">      # Now, when you use a form element with the &lt;tt&gt;_destroy&lt;/tt&gt; parameter,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="891">
            
            

            

            <code class="ruby">      # with a value that evaluates to +true+, you will destroy the associated</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="892">
            
            

            

            <code class="ruby">      # model (e.g. 1, &#39;1&#39;, true, or &#39;true&#39;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="893">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="894">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="895">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="896">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :address do |address_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="897">
            
            

            

            <code class="ruby">      #       ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="898">
            
            

            

            <code class="ruby">      #       Delete: &lt;%= address_fields.check_box :_destroy %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="899">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="900">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="901">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="902">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="903">
            
            

            

            <code class="ruby">      # ==== One-to-many</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="904">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="905">
            
            

            

            <code class="ruby">      # Consider a Person class which returns an _array_ of Project instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="906">
            
            

            

            <code class="ruby">      # from the &lt;tt&gt;projects&lt;/tt&gt; reader method and responds to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="907">
            
            

            

            <code class="ruby">      # &lt;tt&gt;projects_attributes=&lt;/tt&gt; writer method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="908">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="909">
            
            

            

            <code class="ruby">      #   class Person</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="910">
            
            

            

            <code class="ruby">      #     def projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="911">
            
            

            

            <code class="ruby">      #       [@project1, @project2]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="912">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="913">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="914">
            
            

            

            <code class="ruby">      #     def projects_attributes=(attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="915">
            
            

            

            <code class="ruby">      #       # Process the attributes hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="916">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="917">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="918">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="919">
            
            

            

            <code class="ruby">      # Note that the &lt;tt&gt;projects_attributes=&lt;/tt&gt; writer method is in fact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="920">
            
            

            

            <code class="ruby">      # required for fields_for to correctly identify &lt;tt&gt;:projects&lt;/tt&gt; as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="921">
            
            

            

            <code class="ruby">      # collection, and the correct indices to be set in the form markup.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="922">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="923">
            
            

            

            <code class="ruby">      # When projects is already an association on Person you can use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="924">
            
            

            

            <code class="ruby">      # +accepts_nested_attributes_for+ to define the writer method for you:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="925">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="926">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="927">
            
            

            

            <code class="ruby">      #     has_many :projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="928">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="929">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="930">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="931">
            
            

            

            <code class="ruby">      # This model can now be used with a nested fields_for. The block given to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="932">
            
            

            

            <code class="ruby">      # the nested fields_for call will be repeated for each instance in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="933">
            
            

            

            <code class="ruby">      # collection:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="934">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="935">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="936">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="937">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="938">
            
            

            

            <code class="ruby">      #       &lt;% if project_fields.object.active? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="939">
            
            

            

            <code class="ruby">      #         Name: &lt;%= project_fields.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="940">
            
            

            

            <code class="ruby">      #       &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="941">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="942">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="943">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="944">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="945">
            
            

            

            <code class="ruby">      # It&#39;s also possible to specify the instance to be used:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="946">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="947">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="948">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="949">
            
            

            

            <code class="ruby">      #     &lt;% @person.projects.each do |project| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="950">
            
            

            

            <code class="ruby">      #       &lt;% if project.active? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="951">
            
            

            

            <code class="ruby">      #         &lt;%= person_form.fields_for :projects, project do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="952">
            
            

            

            <code class="ruby">      #           Name: &lt;%= project_fields.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="953">
            
            

            

            <code class="ruby">      #         &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="954">
            
            

            

            <code class="ruby">      #       &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="955">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="956">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="957">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="958">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="959">
            
            

            

            <code class="ruby">      # Or a collection to be used:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="960">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="961">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="962">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="963">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects, @active_projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="964">
            
            

            

            <code class="ruby">      #       Name: &lt;%= project_fields.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="965">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="966">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="967">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="968">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="969">
            
            

            

            <code class="ruby">      # If you want to destroy any of the associated models through the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="970">
            
            

            

            <code class="ruby">      # form, you have to enable it first using the &lt;tt&gt;:allow_destroy&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="971">
            
            

            

            <code class="ruby">      # option for +accepts_nested_attributes_for+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="972">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="973">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="974">
            
            

            

            <code class="ruby">      #     has_many :projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="975">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :projects, allow_destroy: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="976">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="977">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="978">
            
            

            

            <code class="ruby">      # This will allow you to specify which models to destroy in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="979">
            
            

            

            <code class="ruby">      # attributes hash by adding a form element for the &lt;tt&gt;_destroy&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="980">
            
            

            

            <code class="ruby">      # parameter with a value that evaluates to +true+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="981">
            
            

            

            <code class="ruby">      # (e.g. 1, &#39;1&#39;, true, or &#39;true&#39;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="982">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="983">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="984">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="985">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="986">
            
            

            

            <code class="ruby">      #       Delete: &lt;%= project_fields.check_box :_destroy %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="987">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="988">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="989">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="990">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="991">
            
            

            

            <code class="ruby">      # When a collection is used you might want to know the index of each</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="992">
            
            

            

            <code class="ruby">      # object into the array. For this purpose, the &lt;tt&gt;index&lt;/tt&gt; method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="993">
            
            

            

            <code class="ruby">      # is available in the FormBuilder object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="994">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="995">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="996">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="997">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="998">
            
            

            

            <code class="ruby">      #       Project #&lt;%= project_fields.index %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="999">
            
            

            

            <code class="ruby">      #       ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1000">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1001">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1002">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1003">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1004">
            
            

            

            <code class="ruby">      # Note that fields_for will automatically generate a hidden field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1005">
            
            

            

            <code class="ruby">      # to store the ID of the record. There are circumstances where this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1006">
            
            

            

            <code class="ruby">      # hidden field is not needed and you can pass &lt;tt&gt;include_id: false&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1007">
            
            

            

            <code class="ruby">      # to prevent fields_for from rendering it automatically.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1008">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fields_for(record_name, record_object = nil, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1009">
            
            

            

            <code class="ruby">        builder = instantiate_builder(record_name, record_object, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1010">
            
            

            

            <code class="ruby">        capture(builder, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1011">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1012">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1013">
            
            

            

            <code class="ruby">      # Scopes input fields with either an explicit scope or model.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1014">
            
            

            

            <code class="ruby">      # Like +form_with+ does with &lt;tt&gt;:scope&lt;/tt&gt; or &lt;tt&gt;:model&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1015">
            
            

            

            <code class="ruby">      # except it doesn&#39;t output the form tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1016">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1017">
            
            

            

            <code class="ruby">      #   # Using a scope prefixes the input field names:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1018">
            
            

            

            <code class="ruby">      #   &lt;%= fields :comment do |fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1019">
            
            

            

            <code class="ruby">      #     &lt;%= fields.text_field :body %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1020">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1021">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; name=&quot;comment[body]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1022">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1023">
            
            

            

            <code class="ruby">      #   # Using a model infers the scope and assigns field values:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1024">
            
            

            

            <code class="ruby">      #   &lt;%= fields model: Comment.new(body: &quot;full bodied&quot;) do |fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1025">
            
            

            

            <code class="ruby">      #     &lt;%= fields.text_field :body %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1026">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1027">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; name=&quot;comment[body]&quot; value=&quot;full bodied&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1028">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1029">
            
            

            

            <code class="ruby">      #   # Using +fields+ with +form_with+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1030">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @post do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1031">
            
            

            

            <code class="ruby">      #     &lt;%= form.text_field :title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1032">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1033">
            
            

            

            <code class="ruby">      #     &lt;%= form.fields :comment do |fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1034">
            
            

            

            <code class="ruby">      #       &lt;%= fields.text_field :body %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1035">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1036">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1037">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1038">
            
            

            

            <code class="ruby">      # Much like +form_with+ a FormBuilder instance associated with the scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1039">
            
            

            

            <code class="ruby">      # or model is yielded, so any generated field names are prefixed with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1040">
            
            

            

            <code class="ruby">      # either the passed scope or the scope inferred from the &lt;tt&gt;:model&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1041">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1042">
            
            

            

            <code class="ruby">      # === Mixing with other form helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1043">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1044">
            
            

            

            <code class="ruby">      # While +form_with+ uses a FormBuilder object it&#39;s possible to mix and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1045">
            
            

            

            <code class="ruby">      # match the stand-alone FormHelper methods and methods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1046">
            
            

            

            <code class="ruby">      # from FormTagHelper:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1047">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1048">
            
            

            

            <code class="ruby">      #   &lt;%= fields model: @comment do |fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1049">
            
            

            

            <code class="ruby">      #     &lt;%= fields.text_field :body %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1050">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1051">
            
            

            

            <code class="ruby">      #     &lt;%= text_area :commenter, :biography %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1052">
            
            

            

            <code class="ruby">      #     &lt;%= check_box_tag &quot;comment[all_caps]&quot;, &quot;1&quot;, @comment.commenter.hulk_mode? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1053">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1054">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1055">
            
            

            

            <code class="ruby">      # Same goes for the methods in FormOptionsHelper and DateHelper designed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1056">
            
            

            

            <code class="ruby">      # to work with an object as a base, like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1057">
            
            

            

            <code class="ruby">      # FormOptionsHelper#collection_select and DateHelper#datetime_select.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1058">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fields(scope = nil, model: nil, **options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1059">
            
            

            

            <code class="ruby">        options[:allow_method_names_outside_object] = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1060">
            
            

            

            <code class="ruby">        options[:skip_default_ids] = !form_with_generates_ids</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1061">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1062">
            
            

            

            <code class="ruby">        if model</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1063">
            
            

            

            <code class="ruby">          scope ||= model_name_from_record_or_class(model).param_key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1064">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1065">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1066">
            
            

            

            <code class="ruby">        builder = instantiate_builder(scope, model, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1067">
            
            

            

            <code class="ruby">        capture(builder, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1068">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1069">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1070">
            
            

            

            <code class="ruby">      # Returns a label tag tailored for labelling an input field for a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1071">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). The text of label will default to the attribute name unless a translation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1072">
            
            

            

            <code class="ruby">      # is found in the current I18n locale (through helpers.label.&lt;modelname&gt;.&lt;attribute&gt;) or you specify it explicitly.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1073">
            
            

            

            <code class="ruby">      # Additional options on the label tag can be passed as a hash with +options+. These options will be tagged</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1074">
            
            

            

            <code class="ruby">      # onto the HTML as an HTML element attribute as in the example shown, except for the &lt;tt&gt;:value&lt;/tt&gt; option, which is designed to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1075">
            
            

            

            <code class="ruby">      # target labels for radio_button tags (where the value is used in the ID of the input tag).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1076">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1077">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1078">
            
            

            

            <code class="ruby">      #   label(:post, :title)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1079">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_title&quot;&gt;Title&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1080">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1081">
            
            

            

            <code class="ruby">      # You can localize your labels based on model and attribute names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1082">
            
            

            

            <code class="ruby">      # For example you can define the following in your locale (e.g. en.yml)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1083">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1084">
            
            

            

            <code class="ruby">      #   helpers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1085">
            
            

            

            <code class="ruby">      #     label:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1086">
            
            

            

            <code class="ruby">      #       post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1087">
            
            

            

            <code class="ruby">      #         body: &quot;Write your entire text here&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1088">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1089">
            
            

            

            <code class="ruby">      # Which then will result in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1090">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1091">
            
            

            

            <code class="ruby">      #   label(:post, :body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1092">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_body&quot;&gt;Write your entire text here&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1093">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1094">
            
            

            

            <code class="ruby">      # Localization can also be based purely on the translation of the attribute-name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1095">
            
            

            

            <code class="ruby">      # (if you are using ActiveRecord):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1096">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1097">
            
            

            

            <code class="ruby">      #   activerecord:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1098">
            
            

            

            <code class="ruby">      #     attributes:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1099">
            
            

            

            <code class="ruby">      #       post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1100">
            
            

            

            <code class="ruby">      #         cost: &quot;Total cost&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1101">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1102">
            
            

            

            <code class="ruby">      #   label(:post, :cost)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1103">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_cost&quot;&gt;Total cost&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1104">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1105">
            
            

            

            <code class="ruby">      #   label(:post, :title, &quot;A short title&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1106">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_title&quot;&gt;A short title&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1107">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1108">
            
            

            

            <code class="ruby">      #   label(:post, :title, &quot;A short title&quot;, class: &quot;title_label&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1109">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_title&quot; class=&quot;title_label&quot;&gt;A short title&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1110">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1111">
            
            

            

            <code class="ruby">      #   label(:post, :privacy, &quot;Public Post&quot;, value: &quot;public&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1112">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_privacy_public&quot;&gt;Public Post&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1113">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1114">
            
            

            

            <code class="ruby">      #   label(:post, :terms) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1115">
            
            

            

            <code class="ruby">      #     raw(&#39;Accept &lt;a href=&quot;/terms&quot;&gt;Terms&lt;/a&gt;.&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1116">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1117">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_terms&quot;&gt;Accept &lt;a href=&quot;/terms&quot;&gt;Terms&lt;/a&gt;.&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1118">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def label(object_name, method, content_or_options = nil, options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1119">
            
            

            

            <code class="ruby">        Tags::Label.new(object_name, method, self, content_or_options, options).render(&amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1120">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1122">
            
            

            

            <code class="ruby">      # Returns an input tag of the &quot;text&quot; type tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1123">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1124">
            
            

            

            <code class="ruby">      # hash with +options+. These options will be tagged onto the HTML as an HTML element attribute as in the example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1125">
            
            

            

            <code class="ruby">      # shown.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1126">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1127">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1128">
            
            

            

            <code class="ruby">      #   text_field(:post, :title, size: 20)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1129">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; id=&quot;post_title&quot; name=&quot;post[title]&quot; size=&quot;20&quot; value=&quot;#{@post.title}&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1130">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1131">
            
            

            

            <code class="ruby">      #   text_field(:post, :title, class: &quot;create_input&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1132">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; id=&quot;post_title&quot; name=&quot;post[title]&quot; value=&quot;#{@post.title}&quot; class=&quot;create_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1133">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1134">
            
            

            

            <code class="ruby">      #   text_field(:post, :title,  maxlength: 30, class: &quot;title_input&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1135">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; id=&quot;post_title&quot; name=&quot;post[title]&quot; maxlength=&quot;30&quot; size=&quot;30&quot; value=&quot;#{@post.title}&quot; class=&quot;title_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1136">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1137">
            
            

            

            <code class="ruby">      #   text_field(:session, :user, onchange: &quot;if ($(&#39;#session_user&#39;).val() === &#39;admin&#39;) { alert(&#39;Your login cannot be admin!&#39;); }&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1138">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; id=&quot;session_user&quot; name=&quot;session[user]&quot; value=&quot;#{@session.user}&quot; onchange=&quot;if ($(&#39;#session_user&#39;).val() === &#39;admin&#39;) { alert(&#39;Your login cannot be admin!&#39;); }&quot;/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1139">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1140">
            
            

            

            <code class="ruby">      #   text_field(:snippet, :code, size: 20, class: &#39;code_input&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1141">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; id=&quot;snippet_code&quot; name=&quot;snippet[code]&quot; size=&quot;20&quot; value=&quot;#{@snippet.code}&quot; class=&quot;code_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1142">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def text_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1143">
            
            

            

            <code class="ruby">        Tags::TextField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1144">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1146">
            
            

            

            <code class="ruby">      # Returns an input tag of the &quot;password&quot; type tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1147">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1148">
            
            

            

            <code class="ruby">      # hash with +options+. These options will be tagged onto the HTML as an HTML element attribute as in the example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1149">
            
            

            

            <code class="ruby">      # shown. For security reasons this field is blank by default; pass in a value via +options+ if this is not desired.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1150">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1151">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1152">
            
            

            

            <code class="ruby">      #   password_field(:login, :pass, size: 20)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1153">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;password&quot; id=&quot;login_pass&quot; name=&quot;login[pass]&quot; size=&quot;20&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1154">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1155">
            
            

            

            <code class="ruby">      #   password_field(:account, :secret, class: &quot;form_input&quot;, value: @account.secret)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1156">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;password&quot; id=&quot;account_secret&quot; name=&quot;account[secret]&quot; value=&quot;#{@account.secret}&quot; class=&quot;form_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1157">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1158">
            
            

            

            <code class="ruby">      #   password_field(:user, :password, onchange: &quot;if ($(&#39;#user_password&#39;).val().length &gt; 30) { alert(&#39;Your password needs to be shorter!&#39;); }&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1159">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;password&quot; id=&quot;user_password&quot; name=&quot;user[password]&quot; onchange=&quot;if ($(&#39;#user_password&#39;).val().length &gt; 30) { alert(&#39;Your password needs to be shorter!&#39;); }&quot;/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1160">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1161">
            
            

            

            <code class="ruby">      #   password_field(:account, :pin, size: 20, class: &#39;form_input&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1162">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;password&quot; id=&quot;account_pin&quot; name=&quot;account[pin]&quot; size=&quot;20&quot; class=&quot;form_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1163">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def password_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1164">
            
            

            

            <code class="ruby">        Tags::PasswordField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1165">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1167">
            
            

            

            <code class="ruby">      # Returns a hidden input tag tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1168">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1169">
            
            

            

            <code class="ruby">      # hash with +options+. These options will be tagged onto the HTML as an HTML element attribute as in the example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1170">
            
            

            

            <code class="ruby">      # shown.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1171">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1172">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1173">
            
            

            

            <code class="ruby">      #   hidden_field(:signup, :pass_confirm)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1174">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;hidden&quot; id=&quot;signup_pass_confirm&quot; name=&quot;signup[pass_confirm]&quot; value=&quot;#{@signup.pass_confirm}&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1175">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1176">
            
            

            

            <code class="ruby">      #   hidden_field(:post, :tag_list)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1177">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;hidden&quot; id=&quot;post_tag_list&quot; name=&quot;post[tag_list]&quot; value=&quot;#{@post.tag_list}&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1178">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1179">
            
            

            

            <code class="ruby">      #   hidden_field(:user, :token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1180">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;hidden&quot; id=&quot;user_token&quot; name=&quot;user[token]&quot; value=&quot;#{@user.token}&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1181">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def hidden_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1182">
            
            

            

            <code class="ruby">        Tags::HiddenField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1183">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1184">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1185">
            
            

            

            <code class="ruby">      # Returns a file upload input tag tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1186">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1187">
            
            

            

            <code class="ruby">      # hash with +options+. These options will be tagged onto the HTML as an HTML element attribute as in the example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1188">
            
            

            

            <code class="ruby">      # shown.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1189">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1190">
            
            

            

            <code class="ruby">      # Using this method inside a +form_for+ block will set the enclosing form&#39;s encoding to &lt;tt&gt;multipart/form-data&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1191">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1192">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1193">
            
            

            

            <code class="ruby">      # * Creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1194">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1195">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:multiple&lt;/tt&gt; - If set to true, *in most updated browsers* the user will be allowed to select multiple files.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1196">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:accept&lt;/tt&gt; - If set to one or multiple mime-types, the user will be suggested a filter when choosing a file. You still need to set up model validations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1197">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1198">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1199">
            
            

            

            <code class="ruby">      #   file_field(:user, :avatar)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1200">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;user_avatar&quot; name=&quot;user[avatar]&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1201">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1202">
            
            

            

            <code class="ruby">      #   file_field(:post, :image, multiple: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1203">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;post_image&quot; name=&quot;post[image][]&quot; multiple=&quot;multiple&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1204">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1205">
            
            

            

            <code class="ruby">      #   file_field(:post, :attached, accept: &#39;text/html&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1206">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input accept=&quot;text/html&quot; type=&quot;file&quot; id=&quot;post_attached&quot; name=&quot;post[attached]&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1207">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1208">
            
            

            

            <code class="ruby">      #   file_field(:post, :image, accept: &#39;image/png,image/gif,image/jpeg&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1209">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;post_image&quot; name=&quot;post[image]&quot; accept=&quot;image/png,image/gif,image/jpeg&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1210">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1211">
            
            

            

            <code class="ruby">      #   file_field(:attachment, :file, class: &#39;file_input&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1212">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;attachment_file&quot; name=&quot;attachment[file]&quot; class=&quot;file_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1213">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def file_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1214">
            
            

            

            <code class="ruby">        Tags::FileField.new(object_name, method, self, convert_direct_upload_option_to_url(options.dup)).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1215">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1216">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1217">
            
            

            

            <code class="ruby">      # Returns a textarea opening and closing tag set tailored for accessing a specified attribute (identified by +method+)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1218">
            
            

            

            <code class="ruby">      # on an object assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1219">
            
            

            

            <code class="ruby">      # hash with +options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1220">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1221">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1222">
            
            

            

            <code class="ruby">      #   text_area(:post, :body, cols: 20, rows: 40)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1223">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea cols=&quot;20&quot; rows=&quot;40&quot; id=&quot;post_body&quot; name=&quot;post[body]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1224">
            
            

            

            <code class="ruby">      #   #      #{@post.body}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1225">
            
            

            

            <code class="ruby">      #   #    &lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1226">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1227">
            
            

            

            <code class="ruby">      #   text_area(:comment, :text, size: &quot;20x30&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1228">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea cols=&quot;20&quot; rows=&quot;30&quot; id=&quot;comment_text&quot; name=&quot;comment[text]&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1229">
            
            

            

            <code class="ruby">      #   #      #{@comment.text}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1230">
            
            

            

            <code class="ruby">      #   #    &lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1231">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1232">
            
            

            

            <code class="ruby">      #   text_area(:application, :notes, cols: 40, rows: 15, class: &#39;app_input&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1233">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea cols=&quot;40&quot; rows=&quot;15&quot; id=&quot;application_notes&quot; name=&quot;application[notes]&quot; class=&quot;app_input&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1234">
            
            

            

            <code class="ruby">      #   #      #{@application.notes}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1235">
            
            

            

            <code class="ruby">      #   #    &lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1236">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1237">
            
            

            

            <code class="ruby">      #   text_area(:entry, :body, size: &quot;20x20&quot;, disabled: &#39;disabled&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1238">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea cols=&quot;20&quot; rows=&quot;20&quot; id=&quot;entry_body&quot; name=&quot;entry[body]&quot; disabled=&quot;disabled&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1239">
            
            

            

            <code class="ruby">      #   #      #{@entry.body}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1240">
            
            

            

            <code class="ruby">      #   #    &lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1241">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def text_area(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1242">
            
            

            

            <code class="ruby">        Tags::TextArea.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1243">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1244">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1245">
            
            

            

            <code class="ruby">      # Returns a checkbox tag tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1246">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). This object must be an instance object (@object) and not a local object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1247">
            
            

            

            <code class="ruby">      # It&#39;s intended that +method+ returns an integer and if that integer is above zero, then the checkbox is checked.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1248">
            
            

            

            <code class="ruby">      # Additional options on the input tag can be passed as a hash with +options+. The +checked_value+ defaults to 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1249">
            
            

            

            <code class="ruby">      # while the default +unchecked_value+ is set to 0 which is convenient for boolean values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1250">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1251">
            
            

            

            <code class="ruby">      # ==== Gotcha</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1252">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1253">
            
            

            

            <code class="ruby">      # The HTML specification says unchecked check boxes are not successful, and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1254">
            
            

            

            <code class="ruby">      # thus web browsers do not send them. Unfortunately this introduces a gotcha:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1255">
            
            

            

            <code class="ruby">      # if an +Invoice+ model has a +paid+ flag, and in the form that edits a paid</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1256">
            
            

            

            <code class="ruby">      # invoice the user unchecks its check box, no +paid+ parameter is sent. So,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1257">
            
            

            

            <code class="ruby">      # any mass-assignment idiom like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1258">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1259">
            
            

            

            <code class="ruby">      #   @invoice.update(params[:invoice])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1260">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1261">
            
            

            

            <code class="ruby">      # wouldn&#39;t update the flag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1262">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1263">
            
            

            

            <code class="ruby">      # To prevent this the helper generates an auxiliary hidden field before</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1264">
            
            

            

            <code class="ruby">      # the very check box. The hidden field has the same name and its</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1265">
            
            

            

            <code class="ruby">      # attributes mimic an unchecked check box.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1266">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1267">
            
            

            

            <code class="ruby">      # This way, the client either sends only the hidden field (representing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1268">
            
            

            

            <code class="ruby">      # the check box is unchecked), or both fields. Since the HTML specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1269">
            
            

            

            <code class="ruby">      # says key/value pairs have to be sent in the same order they appear in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1270">
            
            

            

            <code class="ruby">      # form, and parameters extraction gets the last occurrence of any repeated</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1271">
            
            

            

            <code class="ruby">      # key in the query string, that works for ordinary forms.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1272">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1273">
            
            

            

            <code class="ruby">      # Unfortunately that workaround does not work when the check box goes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1274">
            
            

            

            <code class="ruby">      # within an array-like parameter, as in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1275">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1276">
            
            

            

            <code class="ruby">      #   &lt;%= fields_for &quot;project[invoice_attributes][]&quot;, invoice, index: nil do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1277">
            
            

            

            <code class="ruby">      #     &lt;%= form.check_box :paid %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1278">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1279">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1280">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1281">
            
            

            

            <code class="ruby">      # because parameter name repetition is precisely what Rails seeks to distinguish</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1282">
            
            

            

            <code class="ruby">      # the elements of the array. For each item with a checked check box you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1283">
            
            

            

            <code class="ruby">      # get an extra ghost item with only that attribute, assigned to &quot;0&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1284">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1285">
            
            

            

            <code class="ruby">      # In that case it is preferable to either use +check_box_tag+ or to use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1286">
            
            

            

            <code class="ruby">      # hashes instead of arrays.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1287">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1288">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post.validated? is 1:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1289">
            
            

            

            <code class="ruby">      #   check_box(&quot;post&quot;, &quot;validated&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1290">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;post[validated]&quot; type=&quot;hidden&quot; value=&quot;0&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1291">
            
            

            

            <code class="ruby">      #   #    &lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; id=&quot;post_validated&quot; name=&quot;post[validated]&quot; value=&quot;1&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1292">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1293">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @puppy.gooddog is &quot;no&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1294">
            
            

            

            <code class="ruby">      #   check_box(&quot;puppy&quot;, &quot;gooddog&quot;, {}, &quot;yes&quot;, &quot;no&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1295">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;puppy[gooddog]&quot; type=&quot;hidden&quot; value=&quot;no&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1296">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;checkbox&quot; id=&quot;puppy_gooddog&quot; name=&quot;puppy[gooddog]&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1297">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1298">
            
            

            

            <code class="ruby">      #   check_box(&quot;eula&quot;, &quot;accepted&quot;, { class: &#39;eula_check&#39; }, &quot;yes&quot;, &quot;no&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1299">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;eula[accepted]&quot; type=&quot;hidden&quot; value=&quot;no&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1300">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;checkbox&quot; class=&quot;eula_check&quot; id=&quot;eula_accepted&quot; name=&quot;eula[accepted]&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1301">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def check_box(object_name, method, options = {}, checked_value = &quot;1&quot;, unchecked_value = &quot;0&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1302">
            
            

            

            <code class="ruby">        Tags::CheckBox.new(object_name, method, self, checked_value, unchecked_value, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1303">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1304">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1305">
            
            

            

            <code class="ruby">      # Returns a radio button tag for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1306">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). If the current value of +method+ is +tag_value+ the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1307">
            
            

            

            <code class="ruby">      # radio button will be checked.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1308">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1309">
            
            

            

            <code class="ruby">      # To force the radio button to be checked pass &lt;tt&gt;checked: true&lt;/tt&gt; in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1310">
            
            

            

            <code class="ruby">      # +options+ hash. You may pass HTML options there as well.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1311">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1312">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post.category returns &quot;rails&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1313">
            
            

            

            <code class="ruby">      #   radio_button(&quot;post&quot;, &quot;category&quot;, &quot;rails&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1314">
            
            

            

            <code class="ruby">      #   radio_button(&quot;post&quot;, &quot;category&quot;, &quot;java&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1315">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;radio&quot; id=&quot;post_category_rails&quot; name=&quot;post[category]&quot; value=&quot;rails&quot; checked=&quot;checked&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1316">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;radio&quot; id=&quot;post_category_java&quot; name=&quot;post[category]&quot; value=&quot;java&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1317">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1318">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @user.receive_newsletter returns &quot;no&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1319">
            
            

            

            <code class="ruby">      #   radio_button(&quot;user&quot;, &quot;receive_newsletter&quot;, &quot;yes&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1320">
            
            

            

            <code class="ruby">      #   radio_button(&quot;user&quot;, &quot;receive_newsletter&quot;, &quot;no&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1321">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;radio&quot; id=&quot;user_receive_newsletter_yes&quot; name=&quot;user[receive_newsletter]&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1322">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;radio&quot; id=&quot;user_receive_newsletter_no&quot; name=&quot;user[receive_newsletter]&quot; value=&quot;no&quot; checked=&quot;checked&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1323">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def radio_button(object_name, method, tag_value, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1324">
            
            

            

            <code class="ruby">        Tags::RadioButton.new(object_name, method, self, tag_value, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1325">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1326">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1327">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;color&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1328">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1329">
            
            

            

            <code class="ruby">      #   color_field(&quot;car&quot;, &quot;color&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1330">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;car_color&quot; name=&quot;car[color]&quot; type=&quot;color&quot; value=&quot;#000000&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1331">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def color_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1332">
            
            

            

            <code class="ruby">        Tags::ColorField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1333">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1334">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1335">
            
            

            

            <code class="ruby">      # Returns an input of type &quot;search&quot; for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1336">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object_name+). Inputs of type &quot;search&quot; may be styled differently by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1337">
            
            

            

            <code class="ruby">      # some browsers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1338">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1339">
            
            

            

            <code class="ruby">      #   search_field(:user, :name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1340">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_name&quot; name=&quot;user[name]&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1341">
            
            

            

            <code class="ruby">      #   search_field(:user, :name, autosave: false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1342">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input autosave=&quot;false&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1343">
            
            

            

            <code class="ruby">      #   search_field(:user, :name, results: 3)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1344">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_name&quot; name=&quot;user[name]&quot; results=&quot;3&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1345">
            
            

            

            <code class="ruby">      #   #  Assume request.host returns &quot;www.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1346">
            
            

            

            <code class="ruby">      #   search_field(:user, :name, autosave: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1347">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input autosave=&quot;com.example.www&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot; results=&quot;10&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1348">
            
            

            

            <code class="ruby">      #   search_field(:user, :name, onsearch: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1349">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_name&quot; incremental=&quot;true&quot; name=&quot;user[name]&quot; onsearch=&quot;true&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1350">
            
            

            

            <code class="ruby">      #   search_field(:user, :name, autosave: false, onsearch: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1351">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input autosave=&quot;false&quot; id=&quot;user_name&quot; incremental=&quot;true&quot; name=&quot;user[name]&quot; onsearch=&quot;true&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1352">
            
            

            

            <code class="ruby">      #   search_field(:user, :name, autosave: true, onsearch: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1353">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input autosave=&quot;com.example.www&quot; id=&quot;user_name&quot; incremental=&quot;true&quot; name=&quot;user[name]&quot; onsearch=&quot;true&quot; results=&quot;10&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1354">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def search_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1355">
            
            

            

            <code class="ruby">        Tags::SearchField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1356">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1357">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1358">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;tel&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1359">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1360">
            
            

            

            <code class="ruby">      #   telephone_field(&quot;user&quot;, &quot;phone&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1361">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_phone&quot; name=&quot;user[phone]&quot; type=&quot;tel&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1362">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1363">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def telephone_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1364">
            
            

            

            <code class="ruby">        Tags::TelField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1365">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1366">
            
            

            

            <code class="ruby">      # aliases telephone_field</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1367">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias phone_field telephone_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1368">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1369">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;date&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1370">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1371">
            
            

            

            <code class="ruby">      #   date_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1372">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1373">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1374">
            
            

            

            <code class="ruby">      # The default value is generated by trying to call +strftime+ with &quot;%Y-%m-%d&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1375">
            
            

            

            <code class="ruby">      # on the object&#39;s value, which makes it behave as expected for instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1376">
            
            

            

            <code class="ruby">      # of DateTime and ActiveSupport::TimeWithZone. You can still override that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1377">
            
            

            

            <code class="ruby">      # by passing the &quot;value&quot; option explicitly, e.g.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1378">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1379">
            
            

            

            <code class="ruby">      #   @user.born_on = Date.new(1984, 1, 27)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1380">
            
            

            

            <code class="ruby">      #   date_field(&quot;user&quot;, &quot;born_on&quot;, value: &quot;1984-05-12&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1381">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; value=&quot;1984-05-12&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1382">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1383">
            
            

            

            <code class="ruby">      # You can create values for the &quot;min&quot; and &quot;max&quot; attributes by passing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1384">
            
            

            

            <code class="ruby">      # instances of Date or Time to the options hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1385">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1386">
            
            

            

            <code class="ruby">      #   date_field(&quot;user&quot;, &quot;born_on&quot;, min: Date.today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1387">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; min=&quot;2014-05-20&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1388">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1389">
            
            

            

            <code class="ruby">      # Alternatively, you can pass a String formatted as an ISO8601 date as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1390">
            
            

            

            <code class="ruby">      # values for &quot;min&quot; and &quot;max.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1391">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1392">
            
            

            

            <code class="ruby">      #   date_field(&quot;user&quot;, &quot;born_on&quot;, min: &quot;2014-05-20&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1393">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; min=&quot;2014-05-20&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1394">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1395">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def date_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1396">
            
            

            

            <code class="ruby">        Tags::DateField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1397">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1398">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1399">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;time&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1400">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1401">
            
            

            

            <code class="ruby">      # The default value is generated by trying to call +strftime+ with &quot;%T.%L&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1402">
            
            

            

            <code class="ruby">      # on the object&#39;s value. It is still possible to override that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1403">
            
            

            

            <code class="ruby">      # by passing the &quot;value&quot; option.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1404">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1405">
            
            

            

            <code class="ruby">      # === Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1406">
            
            

            

            <code class="ruby">      # * Accepts same options as time_field_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1407">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1408">
            
            

            

            <code class="ruby">      # === Example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1409">
            
            

            

            <code class="ruby">      #   time_field(&quot;task&quot;, &quot;started_at&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1410">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;task_started_at&quot; name=&quot;task[started_at]&quot; type=&quot;time&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1411">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1412">
            
            

            

            <code class="ruby">      # You can create values for the &quot;min&quot; and &quot;max&quot; attributes by passing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1413">
            
            

            

            <code class="ruby">      # instances of Date or Time to the options hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1414">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1415">
            
            

            

            <code class="ruby">      #   time_field(&quot;task&quot;, &quot;started_at&quot;, min: Time.now)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1416">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;task_started_at&quot; name=&quot;task[started_at]&quot; type=&quot;time&quot; min=&quot;01:00:00.000&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1417">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1418">
            
            

            

            <code class="ruby">      # Alternatively, you can pass a String formatted as an ISO8601 time as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1419">
            
            

            

            <code class="ruby">      # values for &quot;min&quot; and &quot;max.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1420">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1421">
            
            

            

            <code class="ruby">      #   time_field(&quot;task&quot;, &quot;started_at&quot;, min: &quot;01:00:00&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1422">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;task_started_at&quot; name=&quot;task[started_at]&quot; type=&quot;time&quot; min=&quot;01:00:00.000&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1423">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1424">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1425">
            
            

            

            <code class="ruby">        Tags::TimeField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1426">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1427">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1428">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;datetime-local&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1429">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1430">
            
            

            

            <code class="ruby">      #   datetime_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1431">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1432">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1433">
            
            

            

            <code class="ruby">      # The default value is generated by trying to call +strftime+ with &quot;%Y-%m-%dT%T&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1434">
            
            

            

            <code class="ruby">      # on the object&#39;s value, which makes it behave as expected for instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1435">
            
            

            

            <code class="ruby">      # of DateTime and ActiveSupport::TimeWithZone.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1436">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1437">
            
            

            

            <code class="ruby">      #   @user.born_on = Date.new(1984, 1, 12)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1438">
            
            

            

            <code class="ruby">      #   datetime_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1439">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; value=&quot;1984-01-12T00:00:00&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1440">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1441">
            
            

            

            <code class="ruby">      # You can create values for the &quot;min&quot; and &quot;max&quot; attributes by passing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1442">
            
            

            

            <code class="ruby">      # instances of Date or Time to the options hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1443">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1444">
            
            

            

            <code class="ruby">      #   datetime_field(&quot;user&quot;, &quot;born_on&quot;, min: Date.today)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1445">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; min=&quot;2014-05-20T00:00:00.000&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1446">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1447">
            
            

            

            <code class="ruby">      # Alternatively, you can pass a String formatted as an ISO8601 datetime as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1448">
            
            

            

            <code class="ruby">      # the values for &quot;min&quot; and &quot;max.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1449">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1450">
            
            

            

            <code class="ruby">      #   datetime_field(&quot;user&quot;, &quot;born_on&quot;, min: &quot;2014-05-20T00:00:00&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1451">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; min=&quot;2014-05-20T00:00:00.000&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1452">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1453">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def datetime_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1454">
            
            

            

            <code class="ruby">        Tags::DatetimeLocalField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1455">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1456">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1457">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias datetime_local_field datetime_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1458">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1459">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;month&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1460">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1461">
            
            

            

            <code class="ruby">      #   month_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1462">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;month&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1463">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1464">
            
            

            

            <code class="ruby">      # The default value is generated by trying to call +strftime+ with &quot;%Y-%m&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1465">
            
            

            

            <code class="ruby">      # on the object&#39;s value, which makes it behave as expected for instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1466">
            
            

            

            <code class="ruby">      # of DateTime and ActiveSupport::TimeWithZone.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1467">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1468">
            
            

            

            <code class="ruby">      #   @user.born_on = Date.new(1984, 1, 27)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1469">
            
            

            

            <code class="ruby">      #   month_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1470">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; value=&quot;1984-01&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1471">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1472">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def month_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1473">
            
            

            

            <code class="ruby">        Tags::MonthField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1474">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1475">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1476">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;week&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1477">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1478">
            
            

            

            <code class="ruby">      #   week_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1479">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;week&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1480">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1481">
            
            

            

            <code class="ruby">      # The default value is generated by trying to call +strftime+ with &quot;%Y-W%W&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1482">
            
            

            

            <code class="ruby">      # on the object&#39;s value, which makes it behave as expected for instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1483">
            
            

            

            <code class="ruby">      # of DateTime and ActiveSupport::TimeWithZone.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1484">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1485">
            
            

            

            <code class="ruby">      #   @user.born_on = Date.new(1984, 5, 12)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1486">
            
            

            

            <code class="ruby">      #   week_field(&quot;user&quot;, &quot;born_on&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1487">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; value=&quot;1984-W19&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1488">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1489">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def week_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1490">
            
            

            

            <code class="ruby">        Tags::WeekField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1491">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1492">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1493">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;url&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1494">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1495">
            
            

            

            <code class="ruby">      #   url_field(&quot;user&quot;, &quot;homepage&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1496">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_homepage&quot; name=&quot;user[homepage]&quot; type=&quot;url&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1497">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1498">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def url_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1499">
            
            

            

            <code class="ruby">        Tags::UrlField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1500">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1501">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1502">
            
            

            

            <code class="ruby">      # Returns a text_field of type &quot;email&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1503">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1504">
            
            

            

            <code class="ruby">      #   email_field(&quot;user&quot;, &quot;address&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1505">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;user_address&quot; name=&quot;user[address]&quot; type=&quot;email&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1506">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1507">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def email_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1508">
            
            

            

            <code class="ruby">        Tags::EmailField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1509">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1510">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1511">
            
            

            

            <code class="ruby">      # Returns an input tag of type &quot;number&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1512">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1513">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1514">
            
            

            

            <code class="ruby">      # * Accepts same options as number_field_tag</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1515">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1516">
            
            

            

            <code class="ruby">        Tags::NumberField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1517">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1518">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1519">
            
            

            

            <code class="ruby">      # Returns an input tag of type &quot;range&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1520">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1521">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1522">
            
            

            

            <code class="ruby">      # * Accepts same options as range_field_tag</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1523">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def range_field(object_name, method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1524">
            
            

            

            <code class="ruby">        Tags::RangeField.new(object_name, method, self, options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1525">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1526">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1527">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1528">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def html_options_for_form_with(url_for_options = nil, model = nil, html: {}, local: !form_with_generates_remote_forms,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1529">
            
            

            

            <code class="ruby">          skip_enforcing_utf8: nil, **options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1530">
            
            

            

            <code class="ruby">          html_options = options.slice(:id, :class, :multipart, :method, :data).merge(html)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1531">
            
            

            

            <code class="ruby">          html_options[:method] ||= :patch if model.respond_to?(:persisted?) &amp;&amp; model.persisted?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1532">
            
            

            

            <code class="ruby">          html_options[:enforce_utf8] = !skip_enforcing_utf8 unless skip_enforcing_utf8.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1533">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1534">
            
            

            

            <code class="ruby">          html_options[:enctype] = &quot;multipart/form-data&quot; if html_options.delete(:multipart)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1535">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1536">
            
            

            

            <code class="ruby">          # The following URL is unescaped, this is just a hash of options, and it is the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1537">
            
            

            

            <code class="ruby">          # responsibility of the caller to escape all the values.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1538">
            
            

            

            <code class="ruby">          html_options[:action] = url_for(url_for_options || {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1539">
            
            

            

            <code class="ruby">          html_options[:&quot;accept-charset&quot;] = &quot;UTF-8&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1540">
            
            

            

            <code class="ruby">          html_options[:&quot;data-remote&quot;] = true unless local</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1541">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1542">
            
            

            

            <code class="ruby">          html_options[:authenticity_token] = options.delete(:authenticity_token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1543">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1544">
            
            

            

            <code class="ruby">          if !local &amp;&amp; html_options[:authenticity_token].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1545">
            
            

            

            <code class="ruby">            html_options[:authenticity_token] = embed_authenticity_token_in_remote_forms</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1546">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1547">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1548">
            
            

            

            <code class="ruby">          if html_options[:authenticity_token] == true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1549">
            
            

            

            <code class="ruby">            # Include the default authenticity_token, which is only generated when it&#39;s set to nil,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1550">
            
            

            

            <code class="ruby">            # but we needed the true value to override the default of no authenticity_token on data-remote.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1551">
            
            

            

            <code class="ruby">            html_options[:authenticity_token] = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1552">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1553">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1554">
            
            

            

            <code class="ruby">          html_options.stringify_keys!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1555">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1556">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1557">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def instantiate_builder(record_name, record_object, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1558">
            
            

            

            <code class="ruby">          case record_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1559">
            
            

            

            <code class="ruby">          when String, Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1560">
            
            

            

            <code class="ruby">            object = record_object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1561">
            
            

            

            <code class="ruby">            object_name = record_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1562">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1563">
            
            

            

            <code class="ruby">            object = record_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1564">
            
            

            

            <code class="ruby">            object_name = model_name_from_record_or_class(object).param_key if object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1565">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1566">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1567">
            
            

            

            <code class="ruby">          builder = options[:builder] || default_form_builder_class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1568">
            
            

            

            <code class="ruby">          builder.new(object_name, object, self, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1569">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1570">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1571">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def default_form_builder_class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1572">
            
            

            

            <code class="ruby">          builder = default_form_builder || ActionView::Base.default_form_builder</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1573">
            
            

            

            <code class="ruby">          builder.respond_to?(:constantize) ? builder.constantize : builder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1574">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1575">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1576">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1577">
            
            

            

            <code class="ruby">    # A +FormBuilder+ object is associated with a particular model object and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1578">
            
            

            

            <code class="ruby">    # allows you to generate fields associated with the model object. The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1579">
            
            

            

            <code class="ruby">    # +FormBuilder+ object is yielded when using +form_for+ or +fields_for+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1580">
            
            

            

            <code class="ruby">    # For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1581">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1582">
            
            

            

            <code class="ruby">    #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1583">
            
            

            

            <code class="ruby">    #     Name: &lt;%= person_form.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1584">
            
            

            

            <code class="ruby">    #     Admin: &lt;%= person_form.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1585">
            
            

            

            <code class="ruby">    #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1586">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1587">
            
            

            

            <code class="ruby">    # In the above block, a +FormBuilder+ object is yielded as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1588">
            
            

            

            <code class="ruby">    # +person_form+ variable. This allows you to generate the +text_field+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1589">
            
            

            

            <code class="ruby">    # and +check_box+ fields by specifying their eponymous methods, which</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1590">
            
            

            

            <code class="ruby">    # modify the underlying template and associates the &lt;tt&gt;@person&lt;/tt&gt; model object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1591">
            
            

            

            <code class="ruby">    # with the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1592">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1593">
            
            

            

            <code class="ruby">    # The +FormBuilder+ object can be thought of as serving as a proxy for the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1594">
            
            

            

            <code class="ruby">    # methods in the +FormHelper+ module. This class, however, allows you to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1595">
            
            

            

            <code class="ruby">    # call methods with the model object you are building the form for.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1596">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1597">
            
            

            

            <code class="ruby">    # You can create your own custom FormBuilder templates by subclassing this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1598">
            
            

            

            <code class="ruby">    # class. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1599">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1600">
            
            

            

            <code class="ruby">    #   class MyFormBuilder &lt; ActionView::Helpers::FormBuilder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1601">
            
            

            

            <code class="ruby">    #     def div_radio_button(method, tag_value, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1602">
            
            

            

            <code class="ruby">    #       @template.content_tag(:div,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1603">
            
            

            

            <code class="ruby">    #         @template.radio_button(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1604">
            
            

            

            <code class="ruby">    #           @object_name, method, tag_value, objectify_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1605">
            
            

            

            <code class="ruby">    #         )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1606">
            
            

            

            <code class="ruby">    #       )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1607">
            
            

            

            <code class="ruby">    #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1608">
            
            

            

            <code class="ruby">    #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1609">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1610">
            
            

            

            <code class="ruby">    # The above code creates a new method +div_radio_button+ which wraps a div</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1611">
            
            

            

            <code class="ruby">    # around the new radio button. Note that when options are passed in, you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1612">
            
            

            

            <code class="ruby">    # must call +objectify_options+ in order for the model object to get</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1613">
            
            

            

            <code class="ruby">    # correctly passed to the method. If +objectify_options+ is not called,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1614">
            
            

            

            <code class="ruby">    # then the newly created helper will not be linked back to the model.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1615">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1616">
            
            

            

            <code class="ruby">    # The +div_radio_button+ code from above can now be used as follows:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1617">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1618">
            
            

            

            <code class="ruby">    #   &lt;%= form_for @person, :builder =&gt; MyFormBuilder do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1619">
            
            

            

            <code class="ruby">    #     I am a child: &lt;%= f.div_radio_button(:admin, &quot;child&quot;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1620">
            
            

            

            <code class="ruby">    #     I am an adult: &lt;%= f.div_radio_button(:admin, &quot;adult&quot;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1621">
            
            

            

            <code class="ruby">    #   &lt;% end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1622">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1623">
            
            

            

            <code class="ruby">    # The standard set of helper methods for form building are located in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1624">
            
            

            

            <code class="ruby">    # +field_helpers+ class attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1625">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class FormBuilder</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1626">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ModelNaming</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1627">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1628">
            
            

            

            <code class="ruby">      # The methods which wrap a form helper call.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1629">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class_attribute :field_helpers, default: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1630">
            
            

            

            <code class="ruby">        :fields_for, :fields, :label, :text_field, :password_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1631">
            
            

            

            <code class="ruby">        :hidden_field, :file_field, :text_area, :check_box,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1632">
            
            

            

            <code class="ruby">        :radio_button, :color_field, :search_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1633">
            
            

            

            <code class="ruby">        :telephone_field, :phone_field, :date_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1634">
            
            

            

            <code class="ruby">        :time_field, :datetime_field, :datetime_local_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1635">
            
            

            

            <code class="ruby">        :month_field, :week_field, :url_field, :email_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1636">
            
            

            

            <code class="ruby">        :number_field, :range_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1637">
            
            

            

            <code class="ruby">      ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1638">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1639">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_accessor :object_name, :object, :options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1640">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1641">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :multipart, :index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1642">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :multipart? :multipart</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1643">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1644">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def multipart=(multipart)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1645">
            
            

            

            <code class="ruby">        @multipart = multipart</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1646">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1647">
            
            

            

            <code class="ruby">        if parent_builder = @options[:parent_builder]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1648">
            
            

            

            <code class="ruby">          parent_builder.multipart = multipart</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1649">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1650">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1651">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1652">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self._to_partial_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1653">
            
            

            

            <code class="ruby">        @_to_partial_path ||= name.demodulize.underscore.sub!(/_builder$/, &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1654">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1655">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1656">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def to_partial_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1657">
            
            

            

            <code class="ruby">        self.class._to_partial_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1658">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1659">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1660">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def to_model</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1661">
            
            

            

            <code class="ruby">        self</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1662">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1663">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1664">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(object_name, object, template, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1665">
            
            

            

            <code class="ruby">        @nested_child_index = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1666">
            
            

            

            <code class="ruby">        @object_name, @object, @template, @options = object_name, object, template, options</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1667">
            
            

            

            <code class="ruby">        @default_options = @options ? @options.slice(:index, :namespace, :skip_default_ids, :allow_method_names_outside_object) : {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1668">
            
            

            

            <code class="ruby">        @default_html_options = @default_options.except(:skip_default_ids, :allow_method_names_outside_object)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1669">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1670">
            
            

            

            <code class="ruby">        convert_to_legacy_options(@options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1671">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1672">
            
            

            

            <code class="ruby">        if @object_name&amp;.end_with?(&quot;[]&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1673">
            
            

            

            <code class="ruby">          if (object ||= @template.instance_variable_get(&quot;@#{@object_name[0..-3]}&quot;)) &amp;&amp; object.respond_to?(:to_param)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1674">
            
            

            

            <code class="ruby">            @auto_index = object.to_param</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1675">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1676">
            
            

            

            <code class="ruby">            raise ArgumentError, &quot;object[] naming but object param and @object var don&#39;t exist or don&#39;t respond to to_param: #{object.inspect}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1677">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1678">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1679">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1680">
            
            

            

            <code class="ruby">        @multipart = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1681">
            
            

            

            <code class="ruby">        @index = options[:index] || options[:child_index]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1682">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1683">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1684">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1685">
            
            

            

            <code class="ruby">      # :method: text_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1686">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1687">
            
            

            

            <code class="ruby">      # :call-seq: text_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1688">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1689">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#text_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1690">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1691">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1692">
            
            

            

            <code class="ruby">      #     &lt;%= f.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1693">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1694">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1695">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1696">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1697">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1698">
            
            

            

            <code class="ruby">      # :method: password_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1699">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1700">
            
            

            

            <code class="ruby">      # :call-seq: password_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1701">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1702">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#password_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1703">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1704">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1705">
            
            

            

            <code class="ruby">      #     &lt;%= f.password_field :password %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1706">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1707">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1708">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1709">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1710">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1711">
            
            

            

            <code class="ruby">      # :method: text_area</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1712">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1713">
            
            

            

            <code class="ruby">      # :call-seq: text_area(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1714">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1715">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#text_area for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1716">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1717">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1718">
            
            

            

            <code class="ruby">      #     &lt;%= f.text_area :detail %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1719">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1720">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1721">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1722">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1723">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1724">
            
            

            

            <code class="ruby">      # :method: color_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1725">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1726">
            
            

            

            <code class="ruby">      # :call-seq: color_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1727">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1728">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#color_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1729">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1730">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1731">
            
            

            

            <code class="ruby">      #     &lt;%= f.color_field :favorite_color %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1732">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1733">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1734">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1735">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1736">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1737">
            
            

            

            <code class="ruby">      # :method: search_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1738">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1739">
            
            

            

            <code class="ruby">      # :call-seq: search_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1740">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1741">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#search_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1742">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1743">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1744">
            
            

            

            <code class="ruby">      #     &lt;%= f.search_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1745">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1746">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1747">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1748">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1749">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1750">
            
            

            

            <code class="ruby">      # :method: telephone_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1751">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1752">
            
            

            

            <code class="ruby">      # :call-seq: telephone_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1753">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1754">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#telephone_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1755">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1756">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1757">
            
            

            

            <code class="ruby">      #     &lt;%= f.telephone_field :phone %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1758">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1759">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1760">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1761">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1762">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1763">
            
            

            

            <code class="ruby">      # :method: phone_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1764">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1765">
            
            

            

            <code class="ruby">      # :call-seq: phone_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1766">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1767">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#phone_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1768">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1769">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1770">
            
            

            

            <code class="ruby">      #     &lt;%= f.phone_field :phone %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1771">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1772">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1773">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1774">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1775">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1776">
            
            

            

            <code class="ruby">      # :method: date_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1777">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1778">
            
            

            

            <code class="ruby">      # :call-seq: date_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1779">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1780">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#date_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1781">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1782">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1783">
            
            

            

            <code class="ruby">      #     &lt;%= f.date_field :born_on %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1784">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1785">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1786">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1787">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1788">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1789">
            
            

            

            <code class="ruby">      # :method: time_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1790">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1791">
            
            

            

            <code class="ruby">      # :call-seq: time_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1792">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1793">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#time_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1794">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1795">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1796">
            
            

            

            <code class="ruby">      #     &lt;%= f.time_field :born_at %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1797">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1798">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1799">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1800">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1801">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1802">
            
            

            

            <code class="ruby">      # :method: datetime_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1803">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1804">
            
            

            

            <code class="ruby">      # :call-seq: datetime_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1805">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1806">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#datetime_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1807">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1808">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1809">
            
            

            

            <code class="ruby">      #     &lt;%= f.datetime_field :graduation_day %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1810">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1811">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1812">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1813">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1814">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1815">
            
            

            

            <code class="ruby">      # :method: datetime_local_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1816">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1817">
            
            

            

            <code class="ruby">      # :call-seq: datetime_local_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1818">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1819">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#datetime_local_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1820">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1821">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1822">
            
            

            

            <code class="ruby">      #     &lt;%= f.datetime_local_field :graduation_day %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1823">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1824">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1825">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1826">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1827">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1828">
            
            

            

            <code class="ruby">      # :method: month_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1829">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1830">
            
            

            

            <code class="ruby">      # :call-seq: month_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1831">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1832">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#month_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1833">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1834">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1835">
            
            

            

            <code class="ruby">      #     &lt;%= f.month_field :birthday_month %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1836">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1837">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1838">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1839">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1840">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1841">
            
            

            

            <code class="ruby">      # :method: week_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1842">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1843">
            
            

            

            <code class="ruby">      # :call-seq: week_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1844">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1845">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#week_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1846">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1847">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1848">
            
            

            

            <code class="ruby">      #     &lt;%= f.week_field :birthday_week %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1849">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1850">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1851">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1852">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1853">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1854">
            
            

            

            <code class="ruby">      # :method: url_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1855">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1856">
            
            

            

            <code class="ruby">      # :call-seq: url_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1857">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1858">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#url_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1859">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1860">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1861">
            
            

            

            <code class="ruby">      #     &lt;%= f.url_field :homepage %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1862">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1863">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1864">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1865">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1866">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1867">
            
            

            

            <code class="ruby">      # :method: email_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1868">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1869">
            
            

            

            <code class="ruby">      # :call-seq: email_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1870">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1871">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#email_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1872">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1873">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1874">
            
            

            

            <code class="ruby">      #     &lt;%= f.email_field :address %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1875">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1876">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1877">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1878">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1879">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1880">
            
            

            

            <code class="ruby">      # :method: number_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1881">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1882">
            
            

            

            <code class="ruby">      # :call-seq: number_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1883">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1884">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#number_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1885">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1886">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1887">
            
            

            

            <code class="ruby">      #     &lt;%= f.number_field :age %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1888">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1889">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1890">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1891">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1892">
            
            

            

            <code class="ruby">      ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1893">
            
            

            

            <code class="ruby">      # :method: range_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1894">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1895">
            
            

            

            <code class="ruby">      # :call-seq: range_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1896">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1897">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormHelper#range_field for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1898">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1899">
            
            

            

            <code class="ruby">      #   &lt;%= form_with model: @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1900">
            
            

            

            <code class="ruby">      #     &lt;%= f.range_field :age %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1901">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1902">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1903">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1904">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1905">
            <span class="hits">1</span>
            

            

            <code class="ruby">      (field_helpers - [:label, :check_box, :radio_button, :fields_for, :fields, :hidden_field, :file_field]).each do |selector|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1906">
            <span class="hits">17</span>
            

            

            <code class="ruby">        class_eval &lt;&lt;-RUBY_EVAL, __FILE__, __LINE__ + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1907">
            
            

            

            <code class="ruby">          def #{selector}(method, options = {})  # def text_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1908">
            
            

            

            <code class="ruby">            @template.send(                      #   @template.send(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1909">
            
            

            

            <code class="ruby">              #{selector.inspect},               #     :text_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1910">
            
            

            

            <code class="ruby">              @object_name,                      #     @object_name,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1911">
            
            

            

            <code class="ruby">              method,                            #     method,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1912">
            
            

            

            <code class="ruby">              objectify_options(options))        #     objectify_options(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1913">
            
            

            

            <code class="ruby">          end                                    # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1914">
            
            

            

            <code class="ruby">        RUBY_EVAL</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1915">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1916">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1917">
            
            

            

            <code class="ruby">      # Creates a scope around a specific model object like form_for, but</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1918">
            
            

            

            <code class="ruby">      # doesn&#39;t create the form tags themselves. This makes fields_for suitable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1919">
            
            

            

            <code class="ruby">      # for specifying additional model objects in the same form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1920">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1921">
            
            

            

            <code class="ruby">      # Although the usage and purpose of +fields_for+ is similar to +form_for+&#39;s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1922">
            
            

            

            <code class="ruby">      # its method signature is slightly different. Like +form_for+, it yields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1923">
            
            

            

            <code class="ruby">      # a FormBuilder object associated with a particular model object to a block,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1924">
            
            

            

            <code class="ruby">      # and within the block allows methods to be called on the builder to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1925">
            
            

            

            <code class="ruby">      # generate fields associated with the model object. Fields may reflect</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1926">
            
            

            

            <code class="ruby">      # a model object in two ways - how they are named (hence how submitted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1927">
            
            

            

            <code class="ruby">      # values appear within the +params+ hash in the controller) and what</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1928">
            
            

            

            <code class="ruby">      # default values are shown when the form the fields appear in is first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1929">
            
            

            

            <code class="ruby">      # displayed. In order for both of these features to be specified independently,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1930">
            
            

            

            <code class="ruby">      # both an object name (represented by either a symbol or string) and the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1931">
            
            

            

            <code class="ruby">      # object itself can be passed to the method separately -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1932">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1933">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1934">
            
            

            

            <code class="ruby">      #     First name: &lt;%= person_form.text_field :first_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1935">
            
            

            

            <code class="ruby">      #     Last name : &lt;%= person_form.text_field :last_name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1936">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1937">
            
            

            

            <code class="ruby">      #     &lt;%= fields_for :permission, @person.permission do |permission_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1938">
            
            

            

            <code class="ruby">      #       Admin?  : &lt;%= permission_fields.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1939">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1940">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1941">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1942">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1943">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1944">
            
            

            

            <code class="ruby">      # In this case, the checkbox field will be represented by an HTML +input+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1945">
            
            

            

            <code class="ruby">      # tag with the +name+ attribute &lt;tt&gt;permission[admin]&lt;/tt&gt;, and the submitted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1946">
            
            

            

            <code class="ruby">      # value will appear in the controller as &lt;tt&gt;params[:permission][:admin]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1947">
            
            

            

            <code class="ruby">      # If &lt;tt&gt;@person.permission&lt;/tt&gt; is an existing record with an attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1948">
            
            

            

            <code class="ruby">      # +admin+, the initial state of the checkbox when first displayed will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1949">
            
            

            

            <code class="ruby">      # reflect the value of &lt;tt&gt;@person.permission.admin&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1950">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1951">
            
            

            

            <code class="ruby">      # Often this can be simplified by passing just the name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1952">
            
            

            

            <code class="ruby">      # object to +fields_for+ -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1953">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1954">
            
            

            

            <code class="ruby">      #   &lt;%= fields_for :permission do |permission_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1955">
            
            

            

            <code class="ruby">      #     Admin?: &lt;%= permission_fields.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1956">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1957">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1958">
            
            

            

            <code class="ruby">      # ...in which case, if &lt;tt&gt;:permission&lt;/tt&gt; also happens to be the name of an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1959">
            
            

            

            <code class="ruby">      # instance variable &lt;tt&gt;@permission&lt;/tt&gt;, the initial state of the input</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1960">
            
            

            

            <code class="ruby">      # field will reflect the value of that variable&#39;s attribute &lt;tt&gt;@permission.admin&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1961">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1962">
            
            

            

            <code class="ruby">      # Alternatively, you can pass just the model object itself (if the first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1963">
            
            

            

            <code class="ruby">      # argument isn&#39;t a string or symbol +fields_for+ will realize that the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1964">
            
            

            

            <code class="ruby">      # name has been omitted) -</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1965">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1966">
            
            

            

            <code class="ruby">      #   &lt;%= fields_for @person.permission do |permission_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1967">
            
            

            

            <code class="ruby">      #     Admin?: &lt;%= permission_fields.check_box :admin %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1968">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1969">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1970">
            
            

            

            <code class="ruby">      # and +fields_for+ will derive the required name of the field from the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1971">
            
            

            

            <code class="ruby">      # _class_ of the model object, e.g. if &lt;tt&gt;@person.permission&lt;/tt&gt;, is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1972">
            
            

            

            <code class="ruby">      # of class +Permission+, the field will still be named &lt;tt&gt;permission[admin]&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1973">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1974">
            
            

            

            <code class="ruby">      # Note: This also works for the methods in FormOptionsHelper and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1975">
            
            

            

            <code class="ruby">      # DateHelper that are designed to work with an object as base, like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1976">
            
            

            

            <code class="ruby">      # FormOptionsHelper#collection_select and DateHelper#datetime_select.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1977">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1978">
            
            

            

            <code class="ruby">      # === Nested Attributes Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1979">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1980">
            
            

            

            <code class="ruby">      # When the object belonging to the current scope has a nested attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1981">
            
            

            

            <code class="ruby">      # writer for a certain attribute, fields_for will yield a new scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1982">
            
            

            

            <code class="ruby">      # for that attribute. This allows you to create forms that set or change</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1983">
            
            

            

            <code class="ruby">      # the attributes of a parent object and its associations in one go.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1984">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1985">
            
            

            

            <code class="ruby">      # Nested attribute writers are normal setter methods named after an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1986">
            
            

            

            <code class="ruby">      # association. The most common way of defining these writers is either</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1987">
            
            

            

            <code class="ruby">      # with +accepts_nested_attributes_for+ in a model definition or by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1988">
            
            

            

            <code class="ruby">      # defining a method with the proper name. For example: the attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1989">
            
            

            

            <code class="ruby">      # writer for the association &lt;tt&gt;:address&lt;/tt&gt; is called</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1990">
            
            

            

            <code class="ruby">      # &lt;tt&gt;address_attributes=&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1991">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1992">
            
            

            

            <code class="ruby">      # Whether a one-to-one or one-to-many style form builder will be yielded</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1993">
            
            

            

            <code class="ruby">      # depends on whether the normal reader method returns a _single_ object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1994">
            
            

            

            <code class="ruby">      # or an _array_ of objects.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1995">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1996">
            
            

            

            <code class="ruby">      # ==== One-to-one</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1997">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1998">
            
            

            

            <code class="ruby">      # Consider a Person class which returns a _single_ Address from the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1999">
            
            

            

            <code class="ruby">      # &lt;tt&gt;address&lt;/tt&gt; reader method and responds to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2000">
            
            

            

            <code class="ruby">      # &lt;tt&gt;address_attributes=&lt;/tt&gt; writer method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2001">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2002">
            
            

            

            <code class="ruby">      #   class Person</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2003">
            
            

            

            <code class="ruby">      #     def address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2004">
            
            

            

            <code class="ruby">      #       @address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2005">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2006">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2007">
            
            

            

            <code class="ruby">      #     def address_attributes=(attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2008">
            
            

            

            <code class="ruby">      #       # Process the attributes hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2009">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2010">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2011">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2012">
            
            

            

            <code class="ruby">      # This model can now be used with a nested fields_for, like so:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2013">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2014">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2015">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2016">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :address do |address_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2017">
            
            

            

            <code class="ruby">      #       Street  : &lt;%= address_fields.text_field :street %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2018">
            
            

            

            <code class="ruby">      #       Zip code: &lt;%= address_fields.text_field :zip_code %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2019">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2020">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2021">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2022">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2023">
            
            

            

            <code class="ruby">      # When address is already an association on a Person you can use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2024">
            
            

            

            <code class="ruby">      # +accepts_nested_attributes_for+ to define the writer method for you:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2025">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2026">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2027">
            
            

            

            <code class="ruby">      #     has_one :address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2028">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2029">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2030">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2031">
            
            

            

            <code class="ruby">      # If you want to destroy the associated model through the form, you have</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2032">
            
            

            

            <code class="ruby">      # to enable it first using the &lt;tt&gt;:allow_destroy&lt;/tt&gt; option for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2033">
            
            

            

            <code class="ruby">      # +accepts_nested_attributes_for+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2034">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2035">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2036">
            
            

            

            <code class="ruby">      #     has_one :address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2037">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :address, allow_destroy: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2038">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2039">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2040">
            
            

            

            <code class="ruby">      # Now, when you use a form element with the &lt;tt&gt;_destroy&lt;/tt&gt; parameter,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2041">
            
            

            

            <code class="ruby">      # with a value that evaluates to +true+, you will destroy the associated</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2042">
            
            

            

            <code class="ruby">      # model (e.g. 1, &#39;1&#39;, true, or &#39;true&#39;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2043">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2044">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2045">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2046">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :address do |address_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2047">
            
            

            

            <code class="ruby">      #       ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2048">
            
            

            

            <code class="ruby">      #       Delete: &lt;%= address_fields.check_box :_destroy %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2049">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2050">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2051">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2052">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2053">
            
            

            

            <code class="ruby">      # ==== One-to-many</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2054">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2055">
            
            

            

            <code class="ruby">      # Consider a Person class which returns an _array_ of Project instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2056">
            
            

            

            <code class="ruby">      # from the &lt;tt&gt;projects&lt;/tt&gt; reader method and responds to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2057">
            
            

            

            <code class="ruby">      # &lt;tt&gt;projects_attributes=&lt;/tt&gt; writer method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2058">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2059">
            
            

            

            <code class="ruby">      #   class Person</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2060">
            
            

            

            <code class="ruby">      #     def projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2061">
            
            

            

            <code class="ruby">      #       [@project1, @project2]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2062">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2063">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2064">
            
            

            

            <code class="ruby">      #     def projects_attributes=(attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2065">
            
            

            

            <code class="ruby">      #       # Process the attributes hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2066">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2067">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2068">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2069">
            
            

            

            <code class="ruby">      # Note that the &lt;tt&gt;projects_attributes=&lt;/tt&gt; writer method is in fact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2070">
            
            

            

            <code class="ruby">      # required for fields_for to correctly identify &lt;tt&gt;:projects&lt;/tt&gt; as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2071">
            
            

            

            <code class="ruby">      # collection, and the correct indices to be set in the form markup.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2072">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2073">
            
            

            

            <code class="ruby">      # When projects is already an association on Person you can use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2074">
            
            

            

            <code class="ruby">      # +accepts_nested_attributes_for+ to define the writer method for you:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2075">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2076">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2077">
            
            

            

            <code class="ruby">      #     has_many :projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2078">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2079">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2080">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2081">
            
            

            

            <code class="ruby">      # This model can now be used with a nested fields_for. The block given to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2082">
            
            

            

            <code class="ruby">      # the nested fields_for call will be repeated for each instance in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2083">
            
            

            

            <code class="ruby">      # collection:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2084">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2085">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2086">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2087">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2088">
            
            

            

            <code class="ruby">      #       &lt;% if project_fields.object.active? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2089">
            
            

            

            <code class="ruby">      #         Name: &lt;%= project_fields.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2090">
            
            

            

            <code class="ruby">      #       &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2091">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2092">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2093">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2094">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2095">
            
            

            

            <code class="ruby">      # It&#39;s also possible to specify the instance to be used:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2096">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2097">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2098">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2099">
            
            

            

            <code class="ruby">      #     &lt;% @person.projects.each do |project| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2100">
            
            

            

            <code class="ruby">      #       &lt;% if project.active? %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2101">
            
            

            

            <code class="ruby">      #         &lt;%= person_form.fields_for :projects, project do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2102">
            
            

            

            <code class="ruby">      #           Name: &lt;%= project_fields.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2103">
            
            

            

            <code class="ruby">      #         &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2104">
            
            

            

            <code class="ruby">      #       &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2105">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2106">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2107">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2108">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2109">
            
            

            

            <code class="ruby">      # Or a collection to be used:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2110">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2111">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2112">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2113">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects, @active_projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2114">
            
            

            

            <code class="ruby">      #       Name: &lt;%= project_fields.text_field :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2115">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2116">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2117">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2118">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2119">
            
            

            

            <code class="ruby">      # If you want to destroy any of the associated models through the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2120">
            
            

            

            <code class="ruby">      # form, you have to enable it first using the &lt;tt&gt;:allow_destroy&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2121">
            
            

            

            <code class="ruby">      # option for +accepts_nested_attributes_for+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2122">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2123">
            
            

            

            <code class="ruby">      #   class Person &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2124">
            
            

            

            <code class="ruby">      #     has_many :projects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2125">
            
            

            

            <code class="ruby">      #     accepts_nested_attributes_for :projects, allow_destroy: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2126">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2127">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2128">
            
            

            

            <code class="ruby">      # This will allow you to specify which models to destroy in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2129">
            
            

            

            <code class="ruby">      # attributes hash by adding a form element for the &lt;tt&gt;_destroy&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2130">
            
            

            

            <code class="ruby">      # parameter with a value that evaluates to +true+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2131">
            
            

            

            <code class="ruby">      # (e.g. 1, &#39;1&#39;, true, or &#39;true&#39;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2132">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2133">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2134">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2135">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2136">
            
            

            

            <code class="ruby">      #       Delete: &lt;%= project_fields.check_box :_destroy %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2137">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2138">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2139">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2140">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2141">
            
            

            

            <code class="ruby">      # When a collection is used you might want to know the index of each</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2142">
            
            

            

            <code class="ruby">      # object into the array. For this purpose, the &lt;tt&gt;index&lt;/tt&gt; method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2143">
            
            

            

            <code class="ruby">      # is available in the FormBuilder object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2144">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2145">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @person do |person_form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2146">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2147">
            
            

            

            <code class="ruby">      #     &lt;%= person_form.fields_for :projects do |project_fields| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2148">
            
            

            

            <code class="ruby">      #       Project #&lt;%= project_fields.index %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2149">
            
            

            

            <code class="ruby">      #       ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2150">
            
            

            

            <code class="ruby">      #     &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2151">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2152">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2153">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2154">
            
            

            

            <code class="ruby">      # Note that fields_for will automatically generate a hidden field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2155">
            
            

            

            <code class="ruby">      # to store the ID of the record. There are circumstances where this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2156">
            
            

            

            <code class="ruby">      # hidden field is not needed and you can pass &lt;tt&gt;include_id: false&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2157">
            
            

            

            <code class="ruby">      # to prevent fields_for from rendering it automatically.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2158">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fields_for(record_name, record_object = nil, fields_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2159">
            
            

            

            <code class="ruby">        fields_options, record_object = record_object, nil if record_object.is_a?(Hash) &amp;&amp; record_object.extractable_options?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2160">
            
            

            

            <code class="ruby">        fields_options[:builder] ||= options[:builder]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2161">
            
            

            

            <code class="ruby">        fields_options[:namespace] = options[:namespace]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2162">
            
            

            

            <code class="ruby">        fields_options[:parent_builder] = self</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2163">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2164">
            
            

            

            <code class="ruby">        case record_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2165">
            
            

            

            <code class="ruby">        when String, Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2166">
            
            

            

            <code class="ruby">          if nested_attributes_association?(record_name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2167">
            
            

            

            <code class="ruby">            return fields_for_with_nested_attributes(record_name, record_object, fields_options, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2168">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2169">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2170">
            
            

            

            <code class="ruby">          record_object = record_name.is_a?(Array) ? record_name.last : record_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2171">
            
            

            

            <code class="ruby">          record_name   = model_name_from_record_or_class(record_object).param_key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2172">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2173">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2174">
            
            

            

            <code class="ruby">        object_name = @object_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2175">
            
            

            

            <code class="ruby">        index = if options.has_key?(:index)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2176">
            
            

            

            <code class="ruby">          options[:index]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2177">
            
            

            

            <code class="ruby">        elsif defined?(@auto_index)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2178">
            
            

            

            <code class="ruby">          object_name = object_name.to_s.delete_suffix(&quot;[]&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2179">
            
            

            

            <code class="ruby">          @auto_index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2180">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2181">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2182">
            
            

            

            <code class="ruby">        record_name = if index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2183">
            
            

            

            <code class="ruby">          &quot;#{object_name}[#{index}][#{record_name}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2184">
            
            

            

            <code class="ruby">        elsif record_name.end_with?(&quot;[]&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2185">
            
            

            

            <code class="ruby">          &quot;#{object_name}[#{record_name[0..-3]}][#{record_object.id}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2186">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2187">
            
            

            

            <code class="ruby">          &quot;#{object_name}[#{record_name}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2188">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2189">
            
            

            

            <code class="ruby">        fields_options[:child_index] = index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2190">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2191">
            
            

            

            <code class="ruby">        @template.fields_for(record_name, record_object, fields_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2192">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2193">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2194">
            
            

            

            <code class="ruby">      # See the docs for the &lt;tt&gt;ActionView::FormHelper.fields&lt;/tt&gt; helper method.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2195">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fields(scope = nil, model: nil, **options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2196">
            
            

            

            <code class="ruby">        options[:allow_method_names_outside_object] = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2197">
            
            

            

            <code class="ruby">        options[:skip_default_ids] = !FormHelper.form_with_generates_ids</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2198">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2199">
            
            

            

            <code class="ruby">        convert_to_legacy_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2200">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2201">
            
            

            

            <code class="ruby">        fields_for(scope || model, model, options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2202">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2203">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2204">
            
            

            

            <code class="ruby">      # Returns a label tag tailored for labelling an input field for a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2205">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). The text of label will default to the attribute name unless a translation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2206">
            
            

            

            <code class="ruby">      # is found in the current I18n locale (through helpers.label.&lt;modelname&gt;.&lt;attribute&gt;) or you specify it explicitly.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2207">
            
            

            

            <code class="ruby">      # Additional options on the label tag can be passed as a hash with +options+. These options will be tagged</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2208">
            
            

            

            <code class="ruby">      # onto the HTML as an HTML element attribute as in the example shown, except for the &lt;tt&gt;:value&lt;/tt&gt; option, which is designed to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2209">
            
            

            

            <code class="ruby">      # target labels for radio_button tags (where the value is used in the ID of the input tag).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2210">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2211">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2212">
            
            

            

            <code class="ruby">      #   label(:title)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2213">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_title&quot;&gt;Title&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2214">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2215">
            
            

            

            <code class="ruby">      # You can localize your labels based on model and attribute names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2216">
            
            

            

            <code class="ruby">      # For example you can define the following in your locale (e.g. en.yml)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2217">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2218">
            
            

            

            <code class="ruby">      #   helpers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2219">
            
            

            

            <code class="ruby">      #     label:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2220">
            
            

            

            <code class="ruby">      #       post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2221">
            
            

            

            <code class="ruby">      #         body: &quot;Write your entire text here&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2222">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2223">
            
            

            

            <code class="ruby">      # Which then will result in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2224">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2225">
            
            

            

            <code class="ruby">      #   label(:body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2226">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_body&quot;&gt;Write your entire text here&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2227">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2228">
            
            

            

            <code class="ruby">      # Localization can also be based purely on the translation of the attribute-name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2229">
            
            

            

            <code class="ruby">      # (if you are using ActiveRecord):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2230">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2231">
            
            

            

            <code class="ruby">      #   activerecord:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2232">
            
            

            

            <code class="ruby">      #     attributes:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2233">
            
            

            

            <code class="ruby">      #       post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2234">
            
            

            

            <code class="ruby">      #         cost: &quot;Total cost&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2235">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2236">
            
            

            

            <code class="ruby">      #   label(:cost)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2237">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_cost&quot;&gt;Total cost&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2238">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2239">
            
            

            

            <code class="ruby">      #   label(:title, &quot;A short title&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2240">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_title&quot;&gt;A short title&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2241">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2242">
            
            

            

            <code class="ruby">      #   label(:title, &quot;A short title&quot;, class: &quot;title_label&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2243">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_title&quot; class=&quot;title_label&quot;&gt;A short title&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2244">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2245">
            
            

            

            <code class="ruby">      #   label(:privacy, &quot;Public Post&quot;, value: &quot;public&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2246">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_privacy_public&quot;&gt;Public Post&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2247">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2248">
            
            

            

            <code class="ruby">      #   label(:terms) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2249">
            
            

            

            <code class="ruby">      #     raw(&#39;Accept &lt;a href=&quot;/terms&quot;&gt;Terms&lt;/a&gt;.&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2250">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2251">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;post_terms&quot;&gt;Accept &lt;a href=&quot;/terms&quot;&gt;Terms&lt;/a&gt;.&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2252">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def label(method, text = nil, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2253">
            
            

            

            <code class="ruby">        @template.label(@object_name, method, text, objectify_options(options), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2254">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2255">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2256">
            
            

            

            <code class="ruby">      # Returns a checkbox tag tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2257">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). This object must be an instance object (@object) and not a local object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2258">
            
            

            

            <code class="ruby">      # It&#39;s intended that +method+ returns an integer and if that integer is above zero, then the checkbox is checked.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2259">
            
            

            

            <code class="ruby">      # Additional options on the input tag can be passed as a hash with +options+. The +checked_value+ defaults to 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2260">
            
            

            

            <code class="ruby">      # while the default +unchecked_value+ is set to 0 which is convenient for boolean values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2261">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2262">
            
            

            

            <code class="ruby">      # ==== Gotcha</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2263">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2264">
            
            

            

            <code class="ruby">      # The HTML specification says unchecked check boxes are not successful, and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2265">
            
            

            

            <code class="ruby">      # thus web browsers do not send them. Unfortunately this introduces a gotcha:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2266">
            
            

            

            <code class="ruby">      # if an +Invoice+ model has a +paid+ flag, and in the form that edits a paid</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2267">
            
            

            

            <code class="ruby">      # invoice the user unchecks its check box, no +paid+ parameter is sent. So,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2268">
            
            

            

            <code class="ruby">      # any mass-assignment idiom like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2269">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2270">
            
            

            

            <code class="ruby">      #   @invoice.update(params[:invoice])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2271">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2272">
            
            

            

            <code class="ruby">      # wouldn&#39;t update the flag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2273">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2274">
            
            

            

            <code class="ruby">      # To prevent this the helper generates an auxiliary hidden field before</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2275">
            
            

            

            <code class="ruby">      # the very check box. The hidden field has the same name and its</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2276">
            
            

            

            <code class="ruby">      # attributes mimic an unchecked check box.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2277">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2278">
            
            

            

            <code class="ruby">      # This way, the client either sends only the hidden field (representing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2279">
            
            

            

            <code class="ruby">      # the check box is unchecked), or both fields. Since the HTML specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2280">
            
            

            

            <code class="ruby">      # says key/value pairs have to be sent in the same order they appear in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2281">
            
            

            

            <code class="ruby">      # form, and parameters extraction gets the last occurrence of any repeated</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2282">
            
            

            

            <code class="ruby">      # key in the query string, that works for ordinary forms.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2283">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2284">
            
            

            

            <code class="ruby">      # Unfortunately that workaround does not work when the check box goes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2285">
            
            

            

            <code class="ruby">      # within an array-like parameter, as in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2286">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2287">
            
            

            

            <code class="ruby">      #   &lt;%= fields_for &quot;project[invoice_attributes][]&quot;, invoice, index: nil do |form| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2288">
            
            

            

            <code class="ruby">      #     &lt;%= form.check_box :paid %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2289">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2290">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2291">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2292">
            
            

            

            <code class="ruby">      # because parameter name repetition is precisely what Rails seeks to distinguish</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2293">
            
            

            

            <code class="ruby">      # the elements of the array. For each item with a checked check box you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2294">
            
            

            

            <code class="ruby">      # get an extra ghost item with only that attribute, assigned to &quot;0&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2295">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2296">
            
            

            

            <code class="ruby">      # In that case it is preferable to either use +check_box_tag+ or to use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2297">
            
            

            

            <code class="ruby">      # hashes instead of arrays.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2298">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2299">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post.validated? is 1:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2300">
            
            

            

            <code class="ruby">      #   check_box(&quot;validated&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2301">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;post[validated]&quot; type=&quot;hidden&quot; value=&quot;0&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2302">
            
            

            

            <code class="ruby">      #   #    &lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; id=&quot;post_validated&quot; name=&quot;post[validated]&quot; value=&quot;1&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2303">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2304">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @puppy.gooddog is &quot;no&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2305">
            
            

            

            <code class="ruby">      #   check_box(&quot;gooddog&quot;, {}, &quot;yes&quot;, &quot;no&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2306">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;puppy[gooddog]&quot; type=&quot;hidden&quot; value=&quot;no&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2307">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;checkbox&quot; id=&quot;puppy_gooddog&quot; name=&quot;puppy[gooddog]&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2308">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2309">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @eula.accepted is &quot;no&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2310">
            
            

            

            <code class="ruby">      #   check_box(&quot;accepted&quot;, { class: &#39;eula_check&#39; }, &quot;yes&quot;, &quot;no&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2311">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;eula[accepted]&quot; type=&quot;hidden&quot; value=&quot;no&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2312">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;checkbox&quot; class=&quot;eula_check&quot; id=&quot;eula_accepted&quot; name=&quot;eula[accepted]&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2313">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def check_box(method, options = {}, checked_value = &quot;1&quot;, unchecked_value = &quot;0&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2314">
            
            

            

            <code class="ruby">        @template.check_box(@object_name, method, objectify_options(options), checked_value, unchecked_value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2315">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2316">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2317">
            
            

            

            <code class="ruby">      # Returns a radio button tag for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2318">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). If the current value of +method+ is +tag_value+ the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2319">
            
            

            

            <code class="ruby">      # radio button will be checked.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2320">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2321">
            
            

            

            <code class="ruby">      # To force the radio button to be checked pass &lt;tt&gt;checked: true&lt;/tt&gt; in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2322">
            
            

            

            <code class="ruby">      # +options+ hash. You may pass HTML options there as well.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2323">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2324">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post.category returns &quot;rails&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2325">
            
            

            

            <code class="ruby">      #   radio_button(&quot;category&quot;, &quot;rails&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2326">
            
            

            

            <code class="ruby">      #   radio_button(&quot;category&quot;, &quot;java&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2327">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;radio&quot; id=&quot;post_category_rails&quot; name=&quot;post[category]&quot; value=&quot;rails&quot; checked=&quot;checked&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2328">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;radio&quot; id=&quot;post_category_java&quot; name=&quot;post[category]&quot; value=&quot;java&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2329">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2330">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @user.receive_newsletter returns &quot;no&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2331">
            
            

            

            <code class="ruby">      #   radio_button(&quot;receive_newsletter&quot;, &quot;yes&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2332">
            
            

            

            <code class="ruby">      #   radio_button(&quot;receive_newsletter&quot;, &quot;no&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2333">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;radio&quot; id=&quot;user_receive_newsletter_yes&quot; name=&quot;user[receive_newsletter]&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2334">
            
            

            

            <code class="ruby">      #   #    &lt;input type=&quot;radio&quot; id=&quot;user_receive_newsletter_no&quot; name=&quot;user[receive_newsletter]&quot; value=&quot;no&quot; checked=&quot;checked&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2335">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def radio_button(method, tag_value, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2336">
            
            

            

            <code class="ruby">        @template.radio_button(@object_name, method, tag_value, objectify_options(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2337">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2338">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2339">
            
            

            

            <code class="ruby">      # Returns a hidden input tag tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2340">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2341">
            
            

            

            <code class="ruby">      # hash with +options+. These options will be tagged onto the HTML as an HTML element attribute as in the example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2342">
            
            

            

            <code class="ruby">      # shown.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2343">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2344">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2345">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @signup.pass_confirm returns true:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2346">
            
            

            

            <code class="ruby">      #   hidden_field(:pass_confirm)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2347">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;hidden&quot; id=&quot;signup_pass_confirm&quot; name=&quot;signup[pass_confirm]&quot; value=&quot;true&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2348">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2349">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post.tag_list returns &quot;blog, ruby&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2350">
            
            

            

            <code class="ruby">      #   hidden_field(:tag_list)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2351">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;hidden&quot; id=&quot;post_tag_list&quot; name=&quot;post[tag_list]&quot; value=&quot;blog, ruby&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2352">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2353">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @user.token returns &quot;abcde&quot;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2354">
            
            

            

            <code class="ruby">      #   hidden_field(:token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2355">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;hidden&quot; id=&quot;user_token&quot; name=&quot;user[token]&quot; value=&quot;abcde&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2356">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2357">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def hidden_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2358">
            
            

            

            <code class="ruby">        @emitted_hidden_id = true if method == :id</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2359">
            
            

            

            <code class="ruby">        @template.hidden_field(@object_name, method, objectify_options(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2360">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2361">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2362">
            
            

            

            <code class="ruby">      # Returns a file upload input tag tailored for accessing a specified attribute (identified by +method+) on an object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2363">
            
            

            

            <code class="ruby">      # assigned to the template (identified by +object+). Additional options on the input tag can be passed as a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2364">
            
            

            

            <code class="ruby">      # hash with +options+. These options will be tagged onto the HTML as an HTML element attribute as in the example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2365">
            
            

            

            <code class="ruby">      # shown.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2366">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2367">
            
            

            

            <code class="ruby">      # Using this method inside a +form_for+ block will set the enclosing form&#39;s encoding to &lt;tt&gt;multipart/form-data&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2368">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2369">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2370">
            
            

            

            <code class="ruby">      # * Creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2371">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2372">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:multiple&lt;/tt&gt; - If set to true, *in most updated browsers* the user will be allowed to select multiple files.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2373">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:accept&lt;/tt&gt; - If set to one or multiple mime-types, the user will be suggested a filter when choosing a file. You still need to set up model validations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2374">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2375">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2376">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @user has avatar:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2377">
            
            

            

            <code class="ruby">      #   file_field(:avatar)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2378">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;user_avatar&quot; name=&quot;user[avatar]&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2379">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2380">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post has image:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2381">
            
            

            

            <code class="ruby">      #   file_field(:image, :multiple =&gt; true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2382">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;post_image&quot; name=&quot;post[image][]&quot; multiple=&quot;multiple&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2383">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2384">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post has attached:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2385">
            
            

            

            <code class="ruby">      #   file_field(:attached, accept: &#39;text/html&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2386">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input accept=&quot;text/html&quot; type=&quot;file&quot; id=&quot;post_attached&quot; name=&quot;post[attached]&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2387">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2388">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @post has image:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2389">
            
            

            

            <code class="ruby">      #   file_field(:image, accept: &#39;image/png,image/gif,image/jpeg&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2390">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;post_image&quot; name=&quot;post[image]&quot; accept=&quot;image/png,image/gif,image/jpeg&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2391">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2392">
            
            

            

            <code class="ruby">      #   # Let&#39;s say that @attachment has file:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2393">
            
            

            

            <code class="ruby">      #   file_field(:file, class: &#39;file_input&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2394">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;file&quot; id=&quot;attachment_file&quot; name=&quot;attachment[file]&quot; class=&quot;file_input&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2395">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def file_field(method, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2396">
            
            

            

            <code class="ruby">        self.multipart = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2397">
            
            

            

            <code class="ruby">        @template.file_field(@object_name, method, objectify_options(options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2398">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2399">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2400">
            
            

            

            <code class="ruby">      # Add the submit button for the given form. When no value is given, it checks</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2401">
            
            

            

            <code class="ruby">      # if the object is a new resource or not to create the proper label:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2402">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2403">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2404">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2405">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2406">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2407">
            
            

            

            <code class="ruby">      # In the example above, if &lt;tt&gt;@post&lt;/tt&gt; is a new record, it will use &quot;Create Post&quot; as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2408">
            
            

            

            <code class="ruby">      # submit button label; otherwise, it uses &quot;Update Post&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2409">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2410">
            
            

            

            <code class="ruby">      # Those labels can be customized using I18n under the +helpers.submit+ key and using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2411">
            
            

            

            <code class="ruby">      # &lt;tt&gt;%{model}&lt;/tt&gt; for translation interpolation:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2412">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2413">
            
            

            

            <code class="ruby">      #   en:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2414">
            
            

            

            <code class="ruby">      #     helpers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2415">
            
            

            

            <code class="ruby">      #       submit:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2416">
            
            

            

            <code class="ruby">      #         create: &quot;Create a %{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2417">
            
            

            

            <code class="ruby">      #         update: &quot;Confirm changes to %{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2418">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2419">
            
            

            

            <code class="ruby">      # It also searches for a key specific to the given object:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2420">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2421">
            
            

            

            <code class="ruby">      #   en:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2422">
            
            

            

            <code class="ruby">      #     helpers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2423">
            
            

            

            <code class="ruby">      #       submit:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2424">
            
            

            

            <code class="ruby">      #         post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2425">
            
            

            

            <code class="ruby">      #           create: &quot;Add %{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2426">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2427">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def submit(value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2428">
            
            

            

            <code class="ruby">        value, options = nil, value if value.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2429">
            
            

            

            <code class="ruby">        value ||= submit_default_value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2430">
            
            

            

            <code class="ruby">        @template.submit_tag(value, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2431">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2432">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2433">
            
            

            

            <code class="ruby">      # Add the submit button for the given form. When no value is given, it checks</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2434">
            
            

            

            <code class="ruby">      # if the object is a new resource or not to create the proper label:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2435">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2436">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2437">
            
            

            

            <code class="ruby">      #     &lt;%= f.button %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2438">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2439">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2440">
            
            

            

            <code class="ruby">      # In the example above, if &lt;tt&gt;@post&lt;/tt&gt; is a new record, it will use &quot;Create Post&quot; as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2441">
            
            

            

            <code class="ruby">      # button label; otherwise, it uses &quot;Update Post&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2442">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2443">
            
            

            

            <code class="ruby">      # Those labels can be customized using I18n under the +helpers.submit+ key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2444">
            
            

            

            <code class="ruby">      # (the same as submit helper) and using &lt;tt&gt;%{model}&lt;/tt&gt; for translation interpolation:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2445">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2446">
            
            

            

            <code class="ruby">      #   en:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2447">
            
            

            

            <code class="ruby">      #     helpers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2448">
            
            

            

            <code class="ruby">      #       submit:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2449">
            
            

            

            <code class="ruby">      #         create: &quot;Create a %{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2450">
            
            

            

            <code class="ruby">      #         update: &quot;Confirm changes to %{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2451">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2452">
            
            

            

            <code class="ruby">      # It also searches for a key specific to the given object:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2453">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2454">
            
            

            

            <code class="ruby">      #   en:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2455">
            
            

            

            <code class="ruby">      #     helpers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2456">
            
            

            

            <code class="ruby">      #       submit:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2457">
            
            

            

            <code class="ruby">      #         post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2458">
            
            

            

            <code class="ruby">      #           create: &quot;Add %{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2459">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2460">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2461">
            
            

            

            <code class="ruby">      #   button(&quot;Create post&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2462">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&#39;button&#39; type=&#39;submit&#39;&gt;Create post&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2463">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2464">
            
            

            

            <code class="ruby">      #   button do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2465">
            
            

            

            <code class="ruby">      #     content_tag(:strong, &#39;Ask me!&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2466">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2467">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&#39;button&#39; type=&#39;submit&#39;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2468">
            
            

            

            <code class="ruby">      #   #      &lt;strong&gt;Ask me!&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2469">
            
            

            

            <code class="ruby">      #   #    &lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2470">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2471">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def button(value = nil, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2472">
            
            

            

            <code class="ruby">        value, options = nil, value if value.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2473">
            
            

            

            <code class="ruby">        value ||= submit_default_value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2474">
            
            

            

            <code class="ruby">        @template.button_tag(value, options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2475">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2476">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2477">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def emitted_hidden_id? # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2478">
            
            

            

            <code class="ruby">        @emitted_hidden_id ||= nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2479">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2480">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2481">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2482">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def objectify_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2483">
            
            

            

            <code class="ruby">          result = @default_options.merge(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2484">
            
            

            

            <code class="ruby">          result[:object] = @object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2485">
            
            

            

            <code class="ruby">          result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2486">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2487">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2488">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def submit_default_value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2489">
            
            

            

            <code class="ruby">          object = convert_to_model(@object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2490">
            
            

            

            <code class="ruby">          key    = object ? (object.persisted? ? :update : :create) : :submit</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2491">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2492">
            
            

            

            <code class="ruby">          model = if object.respond_to?(:model_name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2493">
            
            

            

            <code class="ruby">            object.model_name.human</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2494">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2495">
            
            

            

            <code class="ruby">            @object_name.to_s.humanize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2496">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2497">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2498">
            
            

            

            <code class="ruby">          defaults = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2499">
            
            

            

            <code class="ruby">          # Object is a model and it is not overwritten by as and scope option.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2500">
            
            

            

            <code class="ruby">          if object.respond_to?(:model_name) &amp;&amp; object_name.to_s == model.downcase</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2501">
            
            

            

            <code class="ruby">            defaults &lt;&lt; :&quot;helpers.submit.#{object.model_name.i18n_key}.#{key}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2502">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2503">
            
            

            

            <code class="ruby">            defaults &lt;&lt; :&quot;helpers.submit.#{object_name}.#{key}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2504">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2505">
            
            

            

            <code class="ruby">          defaults &lt;&lt; :&quot;helpers.submit.#{key}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2506">
            
            

            

            <code class="ruby">          defaults &lt;&lt; &quot;#{key.to_s.humanize} #{model}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2507">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2508">
            
            

            

            <code class="ruby">          I18n.t(defaults.shift, model: model, default: defaults)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2509">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2510">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2511">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def nested_attributes_association?(association_name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2512">
            
            

            

            <code class="ruby">          @object.respond_to?(&quot;#{association_name}_attributes=&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2513">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2514">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2515">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def fields_for_with_nested_attributes(association_name, association, options, block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2516">
            
            

            

            <code class="ruby">          name = &quot;#{object_name}[#{association_name}_attributes]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2517">
            
            

            

            <code class="ruby">          association = convert_to_model(association)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2518">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2519">
            
            

            

            <code class="ruby">          if association.respond_to?(:persisted?)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2520">
            
            

            

            <code class="ruby">            association = [association] if @object.send(association_name).respond_to?(:to_ary)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2521">
            
            

            

            <code class="ruby">          elsif !association.respond_to?(:to_ary)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2522">
            
            

            

            <code class="ruby">            association = @object.send(association_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2523">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2524">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2525">
            
            

            

            <code class="ruby">          if association.respond_to?(:to_ary)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2526">
            
            

            

            <code class="ruby">            explicit_child_index = options[:child_index]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2527">
            
            

            

            <code class="ruby">            output = ActiveSupport::SafeBuffer.new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2528">
            
            

            

            <code class="ruby">            association.each do |child|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2529">
            
            

            

            <code class="ruby">              if explicit_child_index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2530">
            
            

            

            <code class="ruby">                options[:child_index] = explicit_child_index.call if explicit_child_index.respond_to?(:call)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2531">
            
            

            

            <code class="ruby">              else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2532">
            
            

            

            <code class="ruby">                options[:child_index] = nested_child_index(name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2533">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2534">
            
            

            

            <code class="ruby">              output &lt;&lt; fields_for_nested_model(&quot;#{name}[#{options[:child_index]}]&quot;, child, options, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2535">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2536">
            
            

            

            <code class="ruby">            output</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2537">
            
            

            

            <code class="ruby">          elsif association</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2538">
            
            

            

            <code class="ruby">            fields_for_nested_model(name, association, options, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2539">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2540">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2541">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2542">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def fields_for_nested_model(name, object, fields_options, block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2543">
            
            

            

            <code class="ruby">          object = convert_to_model(object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2544">
            
            

            

            <code class="ruby">          emit_hidden_id = object.persisted? &amp;&amp; fields_options.fetch(:include_id) {</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2545">
            
            

            

            <code class="ruby">            options.fetch(:include_id, true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2546">
            
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2547">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2548">
            
            

            

            <code class="ruby">          @template.fields_for(name, object, fields_options) do |f|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2549">
            
            

            

            <code class="ruby">            output = @template.capture(f, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2550">
            
            

            

            <code class="ruby">            output.concat f.hidden_field(:id) if output &amp;&amp; emit_hidden_id &amp;&amp; !f.emitted_hidden_id?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2551">
            
            

            

            <code class="ruby">            output</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2552">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2553">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2554">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2555">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def nested_child_index(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2556">
            
            

            

            <code class="ruby">          @nested_child_index[name] ||= -1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2557">
            
            

            

            <code class="ruby">          @nested_child_index[name] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2558">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2559">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2560">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def convert_to_legacy_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2561">
            
            

            

            <code class="ruby">          if options.key?(:skip_id)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2562">
            
            

            

            <code class="ruby">            options[:include_id] = !options.delete(:skip_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2563">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2564">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2565">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2566">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2567">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2568">
            <span class="hits">1</span>
            

            

            <code class="ruby">  ActiveSupport.on_load(:action_view) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2569">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :default_form_builder, instance_writer: false, instance_reader: false, default: ::ActionView::Helpers::FormBuilder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2570">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2571">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="61d135232ca3fadb7ee1ce1e77313e99d844f606">
  <div class="header">
    <h3>lib/action_view/helpers/form_options_helper.rb</h3>
    <h4>
      <span class="red">
  32.17%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>115</b> relevant lines.
      <span class="green"><b>37</b> lines covered</span> and
      <span class="red"><b>78</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;cgi&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;erb&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/form_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/array/extract_options&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/array/wrap&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # = Action View Form Option Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # Provides a number of methods for turning different kinds of containers into a set of option tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    # The &lt;tt&gt;collection_select&lt;/tt&gt;, &lt;tt&gt;select&lt;/tt&gt; and &lt;tt&gt;time_zone_select&lt;/tt&gt; methods take an &lt;tt&gt;options&lt;/tt&gt; parameter, a hash:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:include_blank&lt;/tt&gt; - set to true or a prompt string if the first option element of the select element is a blank. Useful if there is not a default value required for the select element.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    #     select(&quot;post&quot;, &quot;category&quot;, Post::CATEGORIES, { include_blank: true })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    #   could become:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    #     &lt;select name=&quot;post[category]&quot; id=&quot;post_category&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;&quot; label=&quot; &quot;&gt;&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;joke&quot;&gt;joke&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;poem&quot;&gt;poem&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    #     &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    #   Another common case is a select tag for a &lt;tt&gt;belongs_to&lt;/tt&gt;-associated object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    #   Example with &lt;tt&gt;@post.person_id =&gt; 2&lt;/tt&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    #     select(&quot;post&quot;, &quot;person_id&quot;, Person.all.collect { |p| [ p.name, p.id ] }, { include_blank: &#39;None&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    #   could become:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    #     &lt;select name=&quot;post[person_id]&quot; id=&quot;post_person_id&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;&quot;&gt;None&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;2&quot; selected=&quot;selected&quot;&gt;Eileen&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;3&quot;&gt;Rafael&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    #     &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:prompt&lt;/tt&gt; - set to true or a prompt string. When the select element doesn&#39;t have a value yet, this prepends an option with a generic prompt -- &quot;Please select&quot; -- or the given prompt string.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    #     select(&quot;post&quot;, &quot;person_id&quot;, Person.all.collect { |p| [ p.name, p.id ] }, { prompt: &#39;Select Person&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    #   could become:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    #     &lt;select name=&quot;post[person_id]&quot; id=&quot;post_person_id&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;&quot;&gt;Select Person&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;2&quot;&gt;Eileen&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;3&quot;&gt;Rafael&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    #     &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:index&lt;/tt&gt; - like the other form helpers, +select+ can accept an &lt;tt&gt;:index&lt;/tt&gt; option to manually set the ID used in the resulting output. Unlike other helpers, +select+ expects this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    #   option to be in the +html_options+ parameter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    #     select(&quot;album[]&quot;, &quot;genre&quot;, %w[rap rock country], {}, { index: nil })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    #   becomes:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">    #     &lt;select name=&quot;album[][genre]&quot; id=&quot;album__genre&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;rap&quot;&gt;rap&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;rock&quot;&gt;rock&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;country&quot;&gt;country&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    #     &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:disabled&lt;/tt&gt; - can be a single value or an array of values that will be disabled options in the final output.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    #     select(&quot;post&quot;, &quot;category&quot;, Post::CATEGORIES, { disabled: &#39;restricted&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    #   could become:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">    #     &lt;select name=&quot;post[category]&quot; id=&quot;post_category&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;joke&quot;&gt;joke&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;poem&quot;&gt;poem&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    #       &lt;option disabled=&quot;disabled&quot; value=&quot;restricted&quot;&gt;restricted&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">    #     &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    #   When used with the &lt;tt&gt;collection_select&lt;/tt&gt; helper, &lt;tt&gt;:disabled&lt;/tt&gt; can also be a Proc that identifies those options that should be disabled.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    #     collection_select(:post, :category_id, Category.all, :id, :name, { disabled: -&gt; (category) { category.archived? } })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    #   If the categories &quot;2008 stuff&quot; and &quot;Christmas&quot; return true when the method &lt;tt&gt;archived?&lt;/tt&gt; is called, this would return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    #     &lt;select name=&quot;post[category_id]&quot; id=&quot;post_category_id&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;1&quot; disabled=&quot;disabled&quot;&gt;2008 stuff&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;2&quot; disabled=&quot;disabled&quot;&gt;Christmas&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;3&quot;&gt;Jokes&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">    #       &lt;option value=&quot;4&quot;&gt;Poems&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    #     &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module FormOptionsHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      # ERB::Util can mask some helpers like textilize. Make sure to include them.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TextHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      # Create a select tag and a series of contained option tags for the provided object and method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      # The option currently held by the object will be selected, provided that the object is available.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      # There are two possible formats for the +choices+ parameter, corresponding to other helpers&#39; output:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      # * A flat collection (see +options_for_select+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      # * A nested collection (see +grouped_options_for_select+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #   select(&quot;post&quot;, &quot;person_id&quot;, Person.all.collect { |p| [ p.name, p.id ] }, { include_blank: true })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      # would become:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #   &lt;select name=&quot;post[person_id]&quot; id=&quot;post_person_id&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;&quot; label=&quot; &quot;&gt;&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;1&quot; selected=&quot;selected&quot;&gt;David&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;2&quot;&gt;Eileen&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;3&quot;&gt;Rafael&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #   &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      # assuming the associated person has ID 1.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      # This can be used to provide a default set of options in the standard way: before rendering the create form, a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      # new model instance is assigned the default options and bound to @model_name. Usually this model is not saved</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      # to the database. Instead, a second model object is created when the create request is received.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      # This allows the user to submit a form page more than once with the expected results of creating multiple records.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      # In addition, this allows a single partial to be used to generate form inputs for both edit and create forms.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      # By default, &lt;tt&gt;post.person_id&lt;/tt&gt; is the selected option. Specify &lt;tt&gt;selected: value&lt;/tt&gt; to use a different selection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      # or &lt;tt&gt;selected: nil&lt;/tt&gt; to leave all options unselected. Similarly, you can specify values to be disabled in the option</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      # tags by specifying the &lt;tt&gt;:disabled&lt;/tt&gt; option. This can either be a single value or an array of values to be disabled.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # A block can be passed to +select+ to customize how the options tags will be rendered. This</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      # is useful when the options tag has complex attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #   select(report, &quot;campaign_ids&quot;) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      #     available_campaigns.each do |c|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      #       content_tag(:option, c.name, value: c.id, data: { tags: c.tags.to_json })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      # ==== Gotcha</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      # The HTML specification says when +multiple+ parameter passed to select and all options got deselected</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      # web browsers do not send any value to server. Unfortunately this introduces a gotcha:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      # if a +User+ model has many +roles+ and have +role_ids+ accessor, and in the form that edits roles of the user</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      # the user deselects all roles from +role_ids+ multiple select box, no +role_ids+ parameter is sent. So,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      # any mass-assignment idiom like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      #   @user.update(params[:user])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      # wouldn&#39;t update roles.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      # To prevent this the helper generates an auxiliary hidden field before</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      # every multiple select. The hidden field has the same name as multiple select and blank value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      # &lt;b&gt;Note:&lt;/b&gt; The client either sends only the hidden field (representing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      # the deselected multiple select box), or both fields. This means that the resulting array</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      # always contains a blank string.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      # In case if you don&#39;t want the helper to generate this hidden field you can specify</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      # &lt;tt&gt;include_hidden: false&lt;/tt&gt; option.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select(object, method, choices = nil, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="164">
            
            

            

            <code class="ruby">        Tags::Select.new(object, method, self, choices, options, html_options, &amp;block).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      # Returns &lt;tt&gt;&lt;select&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags for the collection of existing return values of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      # +method+ for +object+&#39;s class. The value returned from calling +method+ on the instance +object+ will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      # be selected. If calling +method+ returns +nil+, no selection is made without including &lt;tt&gt;:prompt&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      # or &lt;tt&gt;:include_blank&lt;/tt&gt; in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;:value_method&lt;/tt&gt; and &lt;tt&gt;:text_method&lt;/tt&gt; parameters are methods to be called on each member</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      # of +collection+. The return values are used as the +value+ attribute and contents of each</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      # &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tag, respectively. They can also be any object that responds to +call+, such</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      # as a +proc+, that will be called for each member of the +collection+ to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      # retrieve the value/text.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      # Example object structure for use with this method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #   class Post &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #     belongs_to :author</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #   class Author &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #     has_many :posts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      #     def name_with_initial</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #       &quot;#{first_name.first}. #{last_name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      # Sample usage (selecting the associated Author for an instance of Post, &lt;tt&gt;@post&lt;/tt&gt;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      #   collection_select(:post, :author_id, Author.all, :id, :name_with_initial, prompt: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      # If &lt;tt&gt;@post.author_id&lt;/tt&gt; is already &lt;tt&gt;1&lt;/tt&gt;, this would return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      #   &lt;select name=&quot;post[author_id]&quot; id=&quot;post_author_id&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;1&quot; selected=&quot;selected&quot;&gt;D. Heinemeier Hansson&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;2&quot;&gt;D. Thomas&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;3&quot;&gt;M. Clark&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      #   &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="202">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_select(object, method, collection, value_method, text_method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="203">
            
            

            

            <code class="ruby">        Tags::CollectionSelect.new(object, method, self, collection, value_method, text_method, options, html_options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      # Returns &lt;tt&gt;&lt;select&gt;&lt;/tt&gt;, &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags for the collection of existing return values of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      # +method+ for +object+&#39;s class. The value returned from calling +method+ on the instance +object+ will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # be selected. If calling +method+ returns +nil+, no selection is made without including &lt;tt&gt;:prompt&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # or &lt;tt&gt;:include_blank&lt;/tt&gt; in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      # Parameters:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      # * +object+ - The instance of the class to be used for the select tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      # * +method+ - The attribute of +object+ corresponding to the select tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      # * +collection+ - An array of objects representing the &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      # * +group_method+ - The name of a method which, when called on a member of +collection+, returns an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      #   array of child objects representing the &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags. It can also be any object that responds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      #   to +call+, such as a +proc+, that will be called for each member of the +collection+ to retrieve the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      #   value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      # * +group_label_method+ - The name of a method which, when called on a member of +collection+, returns a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      #   string to be used as the +label+ attribute for its &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; tag. It can also be any object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      #   that responds to +call+, such as a +proc+, that will be called for each member of the +collection+ to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      #   retrieve the label.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # * +option_key_method+ - The name of a method which, when called on a child object of a member of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      #   +collection+, returns a value to be used as the +value+ attribute for its &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      # * +option_value_method+ - The name of a method which, when called on a child object of a member of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      #   +collection+, returns a value to be used as the contents of its &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # Example object structure for use with this method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      #   class Continent &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      #     has_many :countries</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      #     # attribs: id, name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      #   class Country &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      #     belongs_to :continent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      #     # attribs: id, name, continent_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      #   class City &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #     belongs_to :country</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      #     # attribs: id, name, country_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      # Sample usage:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #   grouped_collection_select(:city, :country_id, @continents, :countries, :name, :id, :name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      # Possible output:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      #   &lt;select name=&quot;city[country_id]&quot; id=&quot;city_country_id&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      #     &lt;optgroup label=&quot;Africa&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;1&quot;&gt;South Africa&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;3&quot;&gt;Somalia&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      #     &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      #     &lt;optgroup label=&quot;Europe&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;7&quot; selected=&quot;selected&quot;&gt;Denmark&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;2&quot;&gt;Ireland&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #     &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      #   &lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def grouped_collection_select(object, method, collection, group_method, group_label_method, option_key_method, option_value_method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="263">
            
            

            

            <code class="ruby">        Tags::GroupedCollectionSelect.new(object, method, self, collection, group_method, group_label_method, option_key_method, option_value_method, options, html_options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      # Returns select and option tags for the given object and method, using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      # #time_zone_options_for_select to generate the list of option tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      # In addition to the &lt;tt&gt;:include_blank&lt;/tt&gt; option documented above,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      # this method also supports a &lt;tt&gt;:model&lt;/tt&gt; option, which defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      # to ActiveSupport::TimeZone. This may be used by users to specify a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      # different time zone model object. (See +time_zone_options_for_select+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      # for more information.)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      # You can also supply an array of ActiveSupport::TimeZone objects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      # as +priority_zones+ so that they will be listed above the rest of the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      # (long) list. You can use ActiveSupport::TimeZone.us_zones for a list</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      # of US time zones, ActiveSupport::TimeZone.country_zones(country_code)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      # for another country&#39;s time zones, or a Regexp to select the zones of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      # your choice.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      # Finally, this method supports a &lt;tt&gt;:default&lt;/tt&gt; option, which selects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      # a default ActiveSupport::TimeZone if the object&#39;s time zone is +nil+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">      #   time_zone_select(&quot;user&quot;, &quot;time_zone&quot;, nil, include_blank: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      #   time_zone_select(&quot;user&quot;, &quot;time_zone&quot;, nil, default: &quot;Pacific Time (US &amp; Canada)&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      #   time_zone_select(&quot;user&quot;, &#39;time_zone&#39;, ActiveSupport::TimeZone.us_zones, default: &quot;Pacific Time (US &amp; Canada)&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      #   time_zone_select(&quot;user&quot;, &#39;time_zone&#39;, [ ActiveSupport::TimeZone[&#39;Alaska&#39;], ActiveSupport::TimeZone[&#39;Hawaii&#39;] ])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      #   time_zone_select(&quot;user&quot;, &#39;time_zone&#39;, /Australia/)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      #   time_zone_select(&quot;user&quot;, &quot;time_zone&quot;, ActiveSupport::TimeZone.all.sort, model: ActiveSupport::TimeZone)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="296">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_zone_select(object, method, priority_zones = nil, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="297">
            
            

            

            <code class="ruby">        Tags::TimeZoneSelect.new(object, method, self, priority_zones, options, html_options).render</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      # Accepts a container (hash, array, enumerable, your type) and returns a string of option tags. Given a container</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      # where the elements respond to first and last (such as a two-element array), the &quot;lasts&quot; serve as option values and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      # the &quot;firsts&quot; as option text. Hashes are turned into this form automatically, so the keys become &quot;firsts&quot; and values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      # become lasts. If +selected+ is specified, the matching &quot;last&quot; or element will get the selected option-tag. +selected+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      # may also be an array of values to be selected when using a multiple select.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      #   options_for_select([[&quot;Dollar&quot;, &quot;$&quot;], [&quot;Kroner&quot;, &quot;DKK&quot;]])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;$&quot;&gt;Dollar&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;DKK&quot;&gt;Kroner&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      #   options_for_select([ &quot;VISA&quot;, &quot;MasterCard&quot; ], &quot;MasterCard&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;VISA&quot;&gt;VISA&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option selected=&quot;selected&quot; value=&quot;MasterCard&quot;&gt;MasterCard&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #   options_for_select({ &quot;Basic&quot; =&gt; &quot;$20&quot;, &quot;Plus&quot; =&gt; &quot;$40&quot; }, &quot;$40&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;$20&quot;&gt;Basic&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;$40&quot; selected=&quot;selected&quot;&gt;Plus&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #   options_for_select([ &quot;VISA&quot;, &quot;MasterCard&quot;, &quot;Discover&quot; ], [&quot;VISA&quot;, &quot;Discover&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option selected=&quot;selected&quot; value=&quot;VISA&quot;&gt;VISA&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;MasterCard&quot;&gt;MasterCard&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option selected=&quot;selected&quot; value=&quot;Discover&quot;&gt;Discover&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">      # You can optionally provide HTML attributes as the last element of the array.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      #   options_for_select([ &quot;Denmark&quot;, [&quot;USA&quot;, { class: &#39;bold&#39; }], &quot;Sweden&quot; ], [&quot;USA&quot;, &quot;Sweden&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;USA&quot; class=&quot;bold&quot; selected=&quot;selected&quot;&gt;USA&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Sweden&quot; selected=&quot;selected&quot;&gt;Sweden&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #   options_for_select([[&quot;Dollar&quot;, &quot;$&quot;, { class: &quot;bold&quot; }], [&quot;Kroner&quot;, &quot;DKK&quot;, { onclick: &quot;alert(&#39;HI&#39;);&quot; }]])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;$&quot; class=&quot;bold&quot;&gt;Dollar&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;DKK&quot; onclick=&quot;alert(&#39;HI&#39;);&quot;&gt;Kroner&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      # If you wish to specify disabled option tags, set +selected+ to be a hash, with &lt;tt&gt;:disabled&lt;/tt&gt; being either a value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      # or array of values to be disabled. In this case, you can use &lt;tt&gt;:selected&lt;/tt&gt; to specify selected option tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      #   options_for_select([&quot;Free&quot;, &quot;Basic&quot;, &quot;Advanced&quot;, &quot;Super Platinum&quot;], disabled: &quot;Super Platinum&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Advanced&quot;&gt;Advanced&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #   options_for_select([&quot;Free&quot;, &quot;Basic&quot;, &quot;Advanced&quot;, &quot;Super Platinum&quot;], disabled: [&quot;Advanced&quot;, &quot;Super Platinum&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Advanced&quot; disabled=&quot;disabled&quot;&gt;Advanced&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      #   options_for_select([&quot;Free&quot;, &quot;Basic&quot;, &quot;Advanced&quot;, &quot;Super Platinum&quot;], selected: &quot;Free&quot;, disabled: &quot;Super Platinum&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Free&quot; selected=&quot;selected&quot;&gt;Free&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Basic&quot;&gt;Basic&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Advanced&quot;&gt;Advanced&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;Super Platinum&quot; disabled=&quot;disabled&quot;&gt;Super Platinum&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      # NOTE: Only the option tags are returned, you have to wrap this call in a regular HTML select tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="356">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def options_for_select(container, selected = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="357">
            
            

            

            <code class="ruby">        return container if String === container</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="359">
            
            

            

            <code class="ruby">        selected, disabled = extract_selected_and_disabled(selected).map do |r|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="360">
            
            

            

            <code class="ruby">          Array(r).map(&amp;:to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">        container.map do |element|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="364">
            
            

            

            <code class="ruby">          html_attributes = option_html_attributes(element)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="365">
            
            

            

            <code class="ruby">          text, value = option_text_and_value(element).map(&amp;:to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="367">
            
            

            

            <code class="ruby">          html_attributes[:selected] ||= option_value_selected?(value, selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="368">
            
            

            

            <code class="ruby">          html_attributes[:disabled] ||= disabled &amp;&amp; option_value_selected?(value, disabled)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="369">
            
            

            

            <code class="ruby">          html_attributes[:value] = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="371">
            
            

            

            <code class="ruby">          tag_builder.content_tag_string(:option, text, html_attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="372">
            
            

            

            <code class="ruby">        end.join(&quot;\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      # Returns a string of option tags that have been compiled by iterating over the +collection+ and assigning</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      # the result of a call to the +value_method+ as the option value and the +text_method+ as the option text.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      #   options_from_collection_for_select(@people, &#39;id&#39;, &#39;name&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;option value=&quot;#{person.id}&quot;&gt;#{person.name}&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      # This is more often than not used inside a #select_tag like this example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      #   select_tag &#39;person&#39;, options_from_collection_for_select(@people, &#39;id&#39;, &#39;name&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      # If +selected+ is specified as a value or array of values, the element(s) returning a match on +value_method+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      # will be selected option tag(s).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      # If +selected+ is specified as a Proc, those members of the collection that return true for the anonymous</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      # function are the selected values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      # +selected+ can also be a hash, specifying both &lt;tt&gt;:selected&lt;/tt&gt; and/or &lt;tt&gt;:disabled&lt;/tt&gt; values as required.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      # Be sure to specify the same class as the +value_method+ when specifying selected or disabled options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      # Failure to do this will produce undesired results. Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #   options_from_collection_for_select(@people, &#39;id&#39;, &#39;name&#39;, &#39;1&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      # Will not select a person with the id of 1 because 1 (an Integer) is not the same as &#39;1&#39; (a string)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #   options_from_collection_for_select(@people, &#39;id&#39;, &#39;name&#39;, 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      # should produce the desired results.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="399">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def options_from_collection_for_select(collection, value_method, text_method, selected = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="400">
            
            

            

            <code class="ruby">        options = collection.map do |element|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="401">
            
            

            

            <code class="ruby">          [value_for_collection(element, text_method), value_for_collection(element, value_method), option_html_attributes(element)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="403">
            
            

            

            <code class="ruby">        selected, disabled = extract_selected_and_disabled(selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="404">
            
            

            

            <code class="ruby">        select_deselect = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">          selected: extract_values_from_collection(collection, value_method, selected),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">          disabled: extract_values_from_collection(collection, value_method, disabled)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="409">
            
            

            

            <code class="ruby">        options_for_select(options, select_deselect)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">      # Returns a string of &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags, like &lt;tt&gt;options_from_collection_for_select&lt;/tt&gt;, but</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      # groups them by &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; tags based on the object relationships of the arguments.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      # Parameters:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">      # * +collection+ - An array of objects representing the &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      # * +group_method+ - The name of a method which, when called on a member of +collection+, returns an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">      #   array of child objects representing the &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">      # * +group_label_method+ - The name of a method which, when called on a member of +collection+, returns a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      #   string to be used as the +label+ attribute for its &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      # * +option_key_method+ - The name of a method which, when called on a child object of a member of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      #   +collection+, returns a value to be used as the +value+ attribute for its &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      # * +option_value_method+ - The name of a method which, when called on a child object of a member of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #   +collection+, returns a value to be used as the contents of its &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      # * +selected_key+ - A value equal to the +value+ attribute for one of the &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      #   which will have the +selected+ attribute set. Corresponds to the return value of one of the calls</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      #   to +option_key_method+. If +nil+, no selection is made. Can also be a hash if disabled values are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      #   to be specified.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">      # Example object structure for use with this method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">      #   class Continent &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">      #     has_many :countries</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">      #     # attribs: id, name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">      #   class Country &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">      #     belongs_to :continent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">      #     # attribs: id, name, continent_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            
            

            

            <code class="ruby">      # Sample usage:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">      #   option_groups_from_collection_for_select(@continents, :countries, :name, :id, :name, 3)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby">      # Possible output:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            
            

            

            <code class="ruby">      #   &lt;optgroup label=&quot;Africa&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;1&quot;&gt;Egypt&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;4&quot;&gt;Rwanda&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby">      #   &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">      #   &lt;optgroup label=&quot;Asia&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;3&quot; selected=&quot;selected&quot;&gt;China&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;12&quot;&gt;India&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;5&quot;&gt;Japan&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">      #     ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">      #   &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">      # &lt;b&gt;Note:&lt;/b&gt; Only the &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags are returned, so you still have to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">      # wrap the output in an appropriate &lt;tt&gt;&lt;select&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="460">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def option_groups_from_collection_for_select(collection, group_method, group_label_method, option_key_method, option_value_method, selected_key = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">        collection.map do |group|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="462">
            
            

            

            <code class="ruby">          option_tags = options_from_collection_for_select(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">            value_for_collection(group, group_method), option_key_method, option_value_method, selected_key)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="465">
            
            

            

            <code class="ruby">          content_tag(&quot;optgroup&quot;, option_tags, label: value_for_collection(group, group_label_method))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="466">
            
            

            

            <code class="ruby">        end.join.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">      # Returns a string of &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags, like &lt;tt&gt;options_for_select&lt;/tt&gt;, but</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">      # wraps them with &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; tags:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">      #   grouped_options = [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">      #    [&#39;North America&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">      #      [[&#39;United States&#39;,&#39;US&#39;],&#39;Canada&#39;]],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">      #    [&#39;Europe&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">      #      [&#39;Denmark&#39;,&#39;Germany&#39;,&#39;France&#39;]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">      #   ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">      #   grouped_options_for_select(grouped_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">      #   grouped_options = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">      #     &#39;North America&#39; =&gt; [[&#39;United States&#39;,&#39;US&#39;], &#39;Canada&#39;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby">      #     &#39;Europe&#39; =&gt; [&#39;Denmark&#39;,&#39;Germany&#39;,&#39;France&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">      #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">      #   grouped_options_for_select(grouped_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            
            

            

            <code class="ruby">      # Possible output:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            
            

            

            <code class="ruby">      #   &lt;optgroup label=&quot;North America&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;Canada&quot;&gt;Canada&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">      #   &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">      #   &lt;optgroup label=&quot;Europe&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">      #     &lt;option value=&quot;France&quot;&gt;France&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">      #   &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">      # Parameters:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">      # * +grouped_options+ - Accepts a nested array or hash of strings. The first value serves as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; label while the second value must be an array of options. The second value can be a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">      #   nested array of text-value pairs. See &lt;tt&gt;options_for_select&lt;/tt&gt; for more info.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">      #    Ex. [&quot;North America&quot;,[[&quot;United States&quot;,&quot;US&quot;],[&quot;Canada&quot;,&quot;CA&quot;]]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">      # * +selected_key+ - A value equal to the +value+ attribute for one of the &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">      #   which will have the +selected+ attribute set. Note: It is possible for this value to match multiple options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">      #   as you might have the same option in multiple groups. Each will then get &lt;tt&gt;selected=&quot;selected&quot;&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">      # Options:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:prompt&lt;/tt&gt; - set to true or a prompt string. When the select element doesn&#39;t have a value yet, this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">      #   prepends an option with a generic prompt - &quot;Please select&quot; - or the given prompt string.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:divider&lt;/tt&gt; - the divider for the options groups.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            
            

            

            <code class="ruby">      #     grouped_options = [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby">      #       [[&#39;United States&#39;,&#39;US&#39;], &#39;Canada&#39;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">      #       [&#39;Denmark&#39;,&#39;Germany&#39;,&#39;France&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            
            

            

            <code class="ruby">      #     ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">      #     grouped_options_for_select(grouped_options, nil, divider: &#39;---------&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            
            

            

            <code class="ruby">      #   Possible output:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby">      #     &lt;optgroup label=&quot;---------&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;Canada&quot;&gt;Canada&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">      #     &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">      #     &lt;optgroup label=&quot;---------&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            
            

            

            <code class="ruby">      #       &lt;option value=&quot;France&quot;&gt;France&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            
            

            

            <code class="ruby">      #     &lt;/optgroup&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">      # &lt;b&gt;Note:&lt;/b&gt; Only the &lt;tt&gt;&lt;optgroup&gt;&lt;/tt&gt; and &lt;tt&gt;&lt;option&gt;&lt;/tt&gt; tags are returned, so you still have to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">      # wrap the output in an appropriate &lt;tt&gt;&lt;select&gt;&lt;/tt&gt; tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="530">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def grouped_options_for_select(grouped_options, selected_key = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="531">
            
            

            

            <code class="ruby">        prompt  = options[:prompt]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="532">
            
            

            

            <code class="ruby">        divider = options[:divider]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="534">
            
            

            

            <code class="ruby">        body = &quot;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="536">
            
            

            

            <code class="ruby">        if prompt</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="537">
            
            

            

            <code class="ruby">          body.safe_concat content_tag(&quot;option&quot;, prompt_text(prompt), value: &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="540">
            
            

            

            <code class="ruby">        grouped_options.each do |container|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="541">
            
            

            

            <code class="ruby">          html_attributes = option_html_attributes(container)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="543">
            
            

            

            <code class="ruby">          if divider</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="544">
            
            

            

            <code class="ruby">            label = divider</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="546">
            
            

            

            <code class="ruby">            label, container = container</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="549">
            
            

            

            <code class="ruby">          html_attributes = { label: label }.merge!(html_attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="550">
            
            

            

            <code class="ruby">          body.safe_concat content_tag(&quot;optgroup&quot;, options_for_select(container, selected_key), html_attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="553">
            
            

            

            <code class="ruby">        body</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">      # Returns a string of option tags for pretty much any time zone in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="557">
            
            

            

            <code class="ruby">      # world. Supply an ActiveSupport::TimeZone name as +selected+ to have it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            
            

            

            <code class="ruby">      # marked as the selected option tag. You can also supply an array of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            
            

            

            <code class="ruby">      # ActiveSupport::TimeZone objects as +priority_zones+, so that they will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby">      # be listed above the rest of the (long) list. (You can use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            
            

            

            <code class="ruby">      # ActiveSupport::TimeZone.us_zones as a convenience for obtaining a list</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            
            

            

            <code class="ruby">      # of the US time zones, or a Regexp to select the zones of your choice)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">      # The +selected+ parameter must be either +nil+, or a string that names</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby">      # an ActiveSupport::TimeZone.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="567">
            
            

            

            <code class="ruby">      # By default, +model+ is the ActiveSupport::TimeZone constant (which can</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">      # be obtained in Active Record as a value object). The +model+ parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="569">
            
            

            

            <code class="ruby">      # must respond to +all+ and return an array of objects that represent time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">      # zones; each object must respond to +name+. If a Regexp is given it will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">      # attempt to match the zones using &lt;code&gt;match?&lt;/code&gt; method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">      # NOTE: Only the option tags are returned, you have to wrap this call in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">      # a regular HTML select tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="575">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_zone_options_for_select(selected = nil, priority_zones = nil, model = ::ActiveSupport::TimeZone)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="576">
            
            

            

            <code class="ruby">        zone_options = &quot;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="578">
            
            

            

            <code class="ruby">        zones = model.all</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="579">
            
            

            

            <code class="ruby">        convert_zones = lambda { |list| list.map { |z| [ z.to_s, z.name ] } }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="581">
            
            

            

            <code class="ruby">        if priority_zones</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="582">
            
            

            

            <code class="ruby">          if priority_zones.is_a?(Regexp)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="583">
            
            

            

            <code class="ruby">            priority_zones = zones.select { |z| z.match?(priority_zones) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="586">
            
            

            

            <code class="ruby">          zone_options.safe_concat options_for_select(convert_zones[priority_zones], selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="587">
            
            

            

            <code class="ruby">          zone_options.safe_concat content_tag(&quot;option&quot;, &quot;-------------&quot;, value: &quot;&quot;, disabled: true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="588">
            
            

            

            <code class="ruby">          zone_options.safe_concat &quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="589">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="590">
            
            

            

            <code class="ruby">          zones = zones - priority_zones</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="593">
            
            

            

            <code class="ruby">        zone_options.safe_concat options_for_select(convert_zones[zones], selected)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">      # Returns radio button tags for the collection of existing return values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            
            

            

            <code class="ruby">      # of +method+ for +object+&#39;s class. The value returned from calling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">      # +method+ on the instance +object+ will be selected. If calling +method+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            
            

            

            <code class="ruby">      # returns +nil+, no selection is made.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;:value_method&lt;/tt&gt; and &lt;tt&gt;:text_method&lt;/tt&gt; parameters are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">      # methods to be called on each member of +collection+. The return values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">      # are used as the +value+ attribute and contents of each radio button tag,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">      # respectively. They can also be any object that responds to +call+, such</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">      # as a +proc+, that will be called for each member of the +collection+ to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            
            

            

            <code class="ruby">      # retrieve the value/text.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="607">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby">      # Example object structure for use with this method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby">      #   class Post &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            
            

            

            <code class="ruby">      #     belongs_to :author</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">      #   class Author &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            
            

            

            <code class="ruby">      #     has_many :posts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            
            

            

            <code class="ruby">      #     def name_with_initial</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="615">
            
            

            

            <code class="ruby">      #       &quot;#{first_name.first}. #{last_name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="616">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="618">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">      # Sample usage (selecting the associated Author for an instance of Post, &lt;tt&gt;@post&lt;/tt&gt;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            
            

            

            <code class="ruby">      #   collection_radio_buttons(:post, :author_id, Author.all, :id, :name_with_initial)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="622">
            
            

            

            <code class="ruby">      # If &lt;tt&gt;@post.author_id&lt;/tt&gt; is already &lt;tt&gt;1&lt;/tt&gt;, this would return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">      #   &lt;input id=&quot;post_author_id_1&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">      #   &lt;label for=&quot;post_author_id_1&quot;&gt;D. Heinemeier Hansson&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">      #   &lt;input id=&quot;post_author_id_2&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;2&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">      #   &lt;label for=&quot;post_author_id_2&quot;&gt;D. Thomas&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            
            

            

            <code class="ruby">      #   &lt;input id=&quot;post_author_id_3&quot; name=&quot;post[author_id]&quot; type=&quot;radio&quot; value=&quot;3&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            
            

            

            <code class="ruby">      #   &lt;label for=&quot;post_author_id_3&quot;&gt;M. Clark&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby">      # It is also possible to customize the way the elements will be shown by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">      # giving a block to the method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby">      #   collection_radio_buttons(:post, :author_id, Author.all, :id, :name_with_initial) do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            
            

            

            <code class="ruby">      #     b.label { b.radio_button }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="634">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">      # The argument passed to the block is a special kind of builder for this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            
            

            

            <code class="ruby">      # collection, which has the ability to generate the label and radio button</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            
            

            

            <code class="ruby">      # for the current item in the collection, with proper text and value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">      # Using it, you can change the label and radio button display order or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby">      # even use the label as wrapper, as in the example above.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="642">
            
            

            

            <code class="ruby">      # The builder methods &lt;tt&gt;label&lt;/tt&gt; and &lt;tt&gt;radio_button&lt;/tt&gt; also accept</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            
            

            

            <code class="ruby">      # extra HTML options:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            
            

            

            <code class="ruby">      #   collection_radio_buttons(:post, :author_id, Author.all, :id, :name_with_initial) do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            
            

            

            <code class="ruby">      #     b.label(class: &quot;radio_button&quot;) { b.radio_button(class: &quot;radio_button&quot;) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="646">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="648">
            
            

            

            <code class="ruby">      # There are also three special methods available: &lt;tt&gt;object&lt;/tt&gt;, &lt;tt&gt;text&lt;/tt&gt; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="649">
            
            

            

            <code class="ruby">      # &lt;tt&gt;value&lt;/tt&gt;, which are the current item being rendered, its text and value methods,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="650">
            
            

            

            <code class="ruby">      # respectively. You can use them like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="651">
            
            

            

            <code class="ruby">      #   collection_radio_buttons(:post, :author_id, Author.all, :id, :name_with_initial) do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            
            

            

            <code class="ruby">      #      b.label(:&quot;data-value&quot; =&gt; b.value) { b.radio_button + b.text }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="654">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            
            

            

            <code class="ruby">      # ==== Gotcha</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="656">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            
            

            

            <code class="ruby">      # The HTML specification says when nothing is selected on a collection of radio buttons</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="658">
            
            

            

            <code class="ruby">      # web browsers do not send any value to server.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="659">
            
            

            

            <code class="ruby">      # Unfortunately this introduces a gotcha:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            
            

            

            <code class="ruby">      # if a +User+ model has a +category_id+ field and in the form no category is selected, no +category_id+ parameter is sent. So,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby">      # any strong parameters idiom like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="663">
            
            

            

            <code class="ruby">      #   params.require(:user).permit(...)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            
            

            

            <code class="ruby">      # will raise an error since no &lt;tt&gt;{user: ...}&lt;/tt&gt; will be present.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="667">
            
            

            

            <code class="ruby">      # To prevent this the helper generates an auxiliary hidden field before</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="668">
            
            

            

            <code class="ruby">      # every collection of radio buttons. The hidden field has the same name as collection radio button and blank value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="670">
            
            

            

            <code class="ruby">      # In case if you don&#39;t want the helper to generate this hidden field you can specify</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="671">
            
            

            

            <code class="ruby">      # &lt;tt&gt;include_hidden: false&lt;/tt&gt; option.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="672">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_radio_buttons(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="673">
            
            

            

            <code class="ruby">        Tags::CollectionRadioButtons.new(object, method, self, collection, value_method, text_method, options, html_options).render(&amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="674">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            
            

            

            <code class="ruby">      # Returns check box tags for the collection of existing return values of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby">      # +method+ for +object+&#39;s class. The value returned from calling +method+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="678">
            
            

            

            <code class="ruby">      # on the instance +object+ will be selected. If calling +method+ returns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">      # +nil+, no selection is made.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;:value_method&lt;/tt&gt; and &lt;tt&gt;:text_method&lt;/tt&gt; parameters are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="682">
            
            

            

            <code class="ruby">      # methods to be called on each member of +collection+. The return values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            
            

            

            <code class="ruby">      # are used as the +value+ attribute and contents of each check box tag,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="684">
            
            

            

            <code class="ruby">      # respectively. They can also be any object that responds to +call+, such</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="685">
            
            

            

            <code class="ruby">      # as a +proc+, that will be called for each member of the +collection+ to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            
            

            

            <code class="ruby">      # retrieve the value/text.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            
            

            

            <code class="ruby">      # Example object structure for use with this method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            
            

            

            <code class="ruby">      #   class Post &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="690">
            
            

            

            <code class="ruby">      #     has_and_belongs_to_many :authors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="691">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="692">
            
            

            

            <code class="ruby">      #   class Author &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="693">
            
            

            

            <code class="ruby">      #     has_and_belongs_to_many :posts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="694">
            
            

            

            <code class="ruby">      #     def name_with_initial</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="695">
            
            

            

            <code class="ruby">      #       &quot;#{first_name.first}. #{last_name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="696">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="697">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="698">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            
            

            

            <code class="ruby">      # Sample usage (selecting the associated Author for an instance of Post, &lt;tt&gt;@post&lt;/tt&gt;):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="700">
            
            

            

            <code class="ruby">      #   collection_check_boxes(:post, :author_ids, Author.all, :id, :name_with_initial)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="701">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="702">
            
            

            

            <code class="ruby">      # If &lt;tt&gt;@post.author_ids&lt;/tt&gt; is already &lt;tt&gt;[1]&lt;/tt&gt;, this would return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="703">
            
            

            

            <code class="ruby">      #   &lt;input id=&quot;post_author_ids_1&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby">      #   &lt;label for=&quot;post_author_ids_1&quot;&gt;D. Heinemeier Hansson&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="705">
            
            

            

            <code class="ruby">      #   &lt;input id=&quot;post_author_ids_2&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;2&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="706">
            
            

            

            <code class="ruby">      #   &lt;label for=&quot;post_author_ids_2&quot;&gt;D. Thomas&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            
            

            

            <code class="ruby">      #   &lt;input id=&quot;post_author_ids_3&quot; name=&quot;post[author_ids][]&quot; type=&quot;checkbox&quot; value=&quot;3&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            
            

            

            <code class="ruby">      #   &lt;label for=&quot;post_author_ids_3&quot;&gt;M. Clark&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            
            

            

            <code class="ruby">      #   &lt;input name=&quot;post[author_ids][]&quot; type=&quot;hidden&quot; value=&quot;&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="710">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            
            

            

            <code class="ruby">      # It is also possible to customize the way the elements will be shown by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">      # giving a block to the method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby">      #   collection_check_boxes(:post, :author_ids, Author.all, :id, :name_with_initial) do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="714">
            
            

            

            <code class="ruby">      #     b.label { b.check_box }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="715">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="716">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            
            

            

            <code class="ruby">      # The argument passed to the block is a special kind of builder for this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby">      # collection, which has the ability to generate the label and check box</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            
            

            

            <code class="ruby">      # for the current item in the collection, with proper text and value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            
            

            

            <code class="ruby">      # Using it, you can change the label and check box display order or even</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            
            

            

            <code class="ruby">      # use the label as wrapper, as in the example above.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="723">
            
            

            

            <code class="ruby">      # The builder methods &lt;tt&gt;label&lt;/tt&gt; and &lt;tt&gt;check_box&lt;/tt&gt; also accept</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="724">
            
            

            

            <code class="ruby">      # extra HTML options:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">      #   collection_check_boxes(:post, :author_ids, Author.all, :id, :name_with_initial) do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby">      #     b.label(class: &quot;check_box&quot;) { b.check_box(class: &quot;check_box&quot;) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            
            

            

            <code class="ruby">      # There are also three special methods available: &lt;tt&gt;object&lt;/tt&gt;, &lt;tt&gt;text&lt;/tt&gt; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            
            

            

            <code class="ruby">      # &lt;tt&gt;value&lt;/tt&gt;, which are the current item being rendered, its text and value methods,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            
            

            

            <code class="ruby">      # respectively. You can use them like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            
            

            

            <code class="ruby">      #   collection_check_boxes(:post, :author_ids, Author.all, :id, :name_with_initial) do |b|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            
            

            

            <code class="ruby">      #      b.label(:&quot;data-value&quot; =&gt; b.value) { b.check_box + b.text }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            
            

            

            <code class="ruby">      # ==== Gotcha</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="738">
            
            

            

            <code class="ruby">      # When no selection is made for a collection of checkboxes most</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="739">
            
            

            

            <code class="ruby">      # web browsers will not send any value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="741">
            
            

            

            <code class="ruby">      # For example, if we have a +User+ model with +category_ids+ field and we</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="742">
            
            

            

            <code class="ruby">      # have the following code in our update action:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="743">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="744">
            
            

            

            <code class="ruby">      #   @user.update(params[:user])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            
            

            

            <code class="ruby">      # If no +category_ids+ are selected then we can safely assume this field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="747">
            
            

            

            <code class="ruby">      # will not be updated.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="748">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="749">
            
            

            

            <code class="ruby">      # This is possible thanks to a hidden field generated by the helper method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="750">
            
            

            

            <code class="ruby">      # for every collection of checkboxes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="751">
            
            

            

            <code class="ruby">      # This hidden field is given the same field name as the checkboxes with a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            
            

            

            <code class="ruby">      # blank value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="753">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="754">
            
            

            

            <code class="ruby">      # In the rare case you don&#39;t want this hidden field, you can pass the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="755">
            
            

            

            <code class="ruby">      # &lt;tt&gt;include_hidden: false&lt;/tt&gt; option to the helper method.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="756">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_check_boxes(object, method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="757">
            
            

            

            <code class="ruby">        Tags::CollectionCheckBoxes.new(object, method, self, collection, value_method, text_method, options, html_options).render(&amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="758">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="759">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="760">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="761">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def option_html_attributes(element)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="762">
            
            

            

            <code class="ruby">          if Array === element</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="763">
            
            

            

            <code class="ruby">            element.select { |e| Hash === e }.reduce({}, :merge!)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="765">
            
            

            

            <code class="ruby">            {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="766">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="768">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="769">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def option_text_and_value(option)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="770">
            
            

            

            <code class="ruby">          # Options are [text, value] pairs or strings used for both.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="771">
            
            

            

            <code class="ruby">          if !option.is_a?(String) &amp;&amp; option.respond_to?(:first) &amp;&amp; option.respond_to?(:last)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="772">
            
            

            

            <code class="ruby">            option = option.reject { |e| Hash === e } if Array === option</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="773">
            
            

            

            <code class="ruby">            [option.first, option.last]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="774">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="775">
            
            

            

            <code class="ruby">            [option, option]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="776">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="777">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="778">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="779">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def option_value_selected?(value, selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="780">
            
            

            

            <code class="ruby">          Array(selected).include? value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="781">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="782">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="783">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def extract_selected_and_disabled(selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="784">
            
            

            

            <code class="ruby">          if selected.is_a?(Proc)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="785">
            
            

            

            <code class="ruby">            [selected, nil]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="786">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="787">
            
            

            

            <code class="ruby">            selected = Array.wrap(selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="788">
            
            

            

            <code class="ruby">            options = selected.extract_options!.symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="789">
            
            

            

            <code class="ruby">            selected_items = options.fetch(:selected, selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="790">
            
            

            

            <code class="ruby">            [selected_items, options[:disabled]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="791">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="792">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="793">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="794">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def extract_values_from_collection(collection, value_method, selected)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="795">
            
            

            

            <code class="ruby">          if selected.is_a?(Proc)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="796">
            
            

            

            <code class="ruby">            collection.map do |element|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="797">
            
            

            

            <code class="ruby">              public_or_deprecated_send(element, value_method) if selected.call(element)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="798">
            
            

            

            <code class="ruby">            end.compact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="799">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="800">
            
            

            

            <code class="ruby">            selected</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="801">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="802">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="803">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="804">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def value_for_collection(item, value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="805">
            
            

            

            <code class="ruby">          value.respond_to?(:call) ? value.call(item) : public_or_deprecated_send(item, value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="806">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="807">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="808">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def public_or_deprecated_send(item, value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="809">
            
            

            

            <code class="ruby">          item.public_send(value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="810">
            
            

            

            <code class="ruby">        rescue NoMethodError</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="811">
            
            

            

            <code class="ruby">          raise unless item.respond_to?(value, true) &amp;&amp; !item.respond_to?(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="812">
            
            

            

            <code class="ruby">          ActiveSupport::Deprecation.warn &quot;Using private methods from view helpers is deprecated (calling private #{item.class}##{value})&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="813">
            
            

            

            <code class="ruby">          item.send(value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="814">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="815">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="816">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def prompt_text(prompt)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="817">
            
            

            

            <code class="ruby">          prompt.kind_of?(String) ? prompt : I18n.translate(&quot;helpers.select.prompt&quot;, default: &quot;Please select&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="818">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="819">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="820">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="821">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class FormBuilder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="822">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormOptionsHelper#select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="823">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="824">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="825">
            
            

            

            <code class="ruby">      #     &lt;%= f.select :person_id, Person.all.collect { |p| [ p.name, p.id ] }, include_blank: true %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="826">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="827">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="828">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="829">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="830">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select(method, choices = nil, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="831">
            
            

            

            <code class="ruby">        @template.select(@object_name, method, choices, objectify_options(options), @default_html_options.merge(html_options), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="832">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="833">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="834">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormOptionsHelper#collection_select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="835">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="836">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="837">
            
            

            

            <code class="ruby">      #     &lt;%= f.collection_select :person_id, Author.all, :id, :name_with_initial, prompt: true %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="838">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="839">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="840">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="841">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="842">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_select(method, collection, value_method, text_method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="843">
            
            

            

            <code class="ruby">        @template.collection_select(@object_name, method, collection, value_method, text_method, objectify_options(options), @default_html_options.merge(html_options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="844">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="845">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="846">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormOptionsHelper#grouped_collection_select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="847">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="848">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @city do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="849">
            
            

            

            <code class="ruby">      #     &lt;%= f.grouped_collection_select :country_id, @continents, :countries, :name, :id, :name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="850">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="851">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="853">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="854">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def grouped_collection_select(method, collection, group_method, group_label_method, option_key_method, option_value_method, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="855">
            
            

            

            <code class="ruby">        @template.grouped_collection_select(@object_name, method, collection, group_method, group_label_method, option_key_method, option_value_method, objectify_options(options), @default_html_options.merge(html_options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="856">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="857">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="858">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormOptionsHelper#time_zone_select for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="859">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="860">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @user do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="861">
            
            

            

            <code class="ruby">      #     &lt;%= f.time_zone_select :time_zone, nil, include_blank: true %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="862">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="863">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="864">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="865">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="866">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_zone_select(method, priority_zones = nil, options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="867">
            
            

            

            <code class="ruby">        @template.time_zone_select(@object_name, method, priority_zones, objectify_options(options), @default_html_options.merge(html_options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="868">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="869">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="870">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormOptionsHelper#collection_check_boxes for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="871">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="872">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="873">
            
            

            

            <code class="ruby">      #     &lt;%= f.collection_check_boxes :author_ids, Author.all, :id, :name_with_initial %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="874">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="875">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="876">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="877">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="878">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_check_boxes(method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="879">
            
            

            

            <code class="ruby">        @template.collection_check_boxes(@object_name, method, collection, value_method, text_method, objectify_options(options), @default_html_options.merge(html_options), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="880">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="881">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="882">
            
            

            

            <code class="ruby">      # Wraps ActionView::Helpers::FormOptionsHelper#collection_radio_buttons for form builders:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="883">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="884">
            
            

            

            <code class="ruby">      #   &lt;%= form_for @post do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="885">
            
            

            

            <code class="ruby">      #     &lt;%= f.collection_radio_buttons :author_id, Author.all, :id, :name_with_initial %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="886">
            
            

            

            <code class="ruby">      #     &lt;%= f.submit %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="887">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="888">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="889">
            
            

            

            <code class="ruby">      # Please refer to the documentation of the base helper for details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="890">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_radio_buttons(method, collection, value_method, text_method, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="891">
            
            

            

            <code class="ruby">        @template.collection_radio_buttons(@object_name, method, collection, value_method, text_method, objectify_options(options), @default_html_options.merge(html_options), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="892">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="893">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="894">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="895">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3408746e5ab8c8171f22ba47bcbbad8ec74c4ba6">
  <div class="header">
    <h3>lib/action_view/helpers/form_tag_helper.rb</h3>
    <h4>
      <span class="red">
  30.91%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>165</b> relevant lines.
      <span class="green"><b>51</b> lines covered</span> and
      <span class="red"><b>114</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;cgi&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/symbol/starts_ends_with&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # = Action View Form Tag Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # Provides a number of methods for creating form tags that don&#39;t rely on an Active Record object assigned to the template like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # FormHelper does. Instead, you provide the names and values manually.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    # NOTE: The HTML options &lt;tt&gt;disabled&lt;/tt&gt;, &lt;tt&gt;readonly&lt;/tt&gt;, and &lt;tt&gt;multiple&lt;/tt&gt; can all be treated as booleans. So specifying</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    # &lt;tt&gt;disabled: true&lt;/tt&gt; will give &lt;tt&gt;disabled=&quot;disabled&quot;&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module FormTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include UrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TextHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">      mattr_accessor :embed_authenticity_token_in_remote_forms</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">      self.embed_authenticity_token_in_remote_forms = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      mattr_accessor :default_enforce_utf8, default: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      # Starts a form tag that points the action to a URL configured with &lt;tt&gt;url_for_options&lt;/tt&gt; just like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # ActionController::Base#url_for. The method for the form defaults to POST.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:multipart&lt;/tt&gt; - If set to true, the enctype is set to &quot;multipart/form-data&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:method&lt;/tt&gt; - The method to use when submitting the form, usually either &quot;get&quot; or &quot;post&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #   If &quot;patch&quot;, &quot;put&quot;, &quot;delete&quot;, or another verb is used, a hidden input with name &lt;tt&gt;_method&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #   is added to simulate the verb over post.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:authenticity_token&lt;/tt&gt; - Authenticity token to use in the form. Use only if you need to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #   pass custom authenticity token string, or to not add authenticity_token field at all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      #   (by passing &lt;tt&gt;false&lt;/tt&gt;).  Remote forms may omit the embedded authenticity token</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      #   by setting &lt;tt&gt;config.action_view.embed_authenticity_token_in_remote_forms = false&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #   This is helpful when you&#39;re fragment-caching the form. Remote forms get the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #   authenticity token from the &lt;tt&gt;meta&lt;/tt&gt; tag, so embedding is unnecessary unless you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #   support browsers without JavaScript.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:remote&lt;/tt&gt; - If set to true, will allow the Unobtrusive JavaScript drivers to control the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #   submit behavior. By default this behavior is an ajax submit.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:enforce_utf8&lt;/tt&gt; - If set to false, a hidden input with name utf8 is not output.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #   form_tag(&#39;/posts&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;form action=&quot;/posts&quot; method=&quot;post&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #   form_tag(&#39;/posts/1&#39;, method: :put)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;form action=&quot;/posts/1&quot; method=&quot;post&quot;&gt; ... &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;put&quot; /&gt; ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      #   form_tag(&#39;/upload&#39;, multipart: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   &lt;%= form_tag(&#39;/posts&#39;) do -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #     &lt;div&gt;&lt;%= submit_tag &#39;Save&#39; %&gt;&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   &lt;% end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;form action=&quot;/posts&quot; method=&quot;post&quot;&gt;&lt;div&gt;&lt;input type=&quot;submit&quot; name=&quot;commit&quot; value=&quot;Save&quot; /&gt;&lt;/div&gt;&lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      #   &lt;%= form_tag(&#39;/posts&#39;, remote: true) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #   form_tag(&#39;http://far.away.com/form&#39;, authenticity_token: false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #   # form without authenticity token</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #   form_tag(&#39;http://far.away.com/form&#39;, authenticity_token: &quot;cf50faa3fe97702ca1ae&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #   # form with custom authenticity token</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def form_tag(url_for_options = {}, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">        html_options = html_options_for_form(url_for_options, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">        if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">          form_tag_with_body(html_options, capture(&amp;block))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">          form_tag_html(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      # Creates a dropdown selection box, or if the &lt;tt&gt;:multiple&lt;/tt&gt; option is set to true, a multiple</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      # choice selection box.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      # Helpers::FormOptions can be used to create common select boxes such as countries, time zones, or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      # associated records. &lt;tt&gt;option_tags&lt;/tt&gt; is a string containing the option tags for the select box.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:multiple&lt;/tt&gt; - If set to true, the selection will allow multiple choices.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:include_blank&lt;/tt&gt; - If set to true, an empty option will be created. If set to a string, the string will be used as the option&#39;s content and the value will be empty.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:prompt&lt;/tt&gt; - Create a prompt option with blank value and the text asking user to select something.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #   select_tag &quot;people&quot;, options_from_collection_for_select(@people, &quot;id&quot;, &quot;name&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      #   # &lt;select id=&quot;people&quot; name=&quot;people&quot;&gt;&lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      #   select_tag &quot;people&quot;, options_from_collection_for_select(@people, &quot;id&quot;, &quot;name&quot;, &quot;1&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      #   # &lt;select id=&quot;people&quot; name=&quot;people&quot;&gt;&lt;option value=&quot;1&quot; selected=&quot;selected&quot;&gt;David&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      #   select_tag &quot;people&quot;, raw(&quot;&lt;option&gt;David&lt;/option&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;people&quot; name=&quot;people&quot;&gt;&lt;option&gt;David&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      #   select_tag &quot;count&quot;, raw(&quot;&lt;option&gt;1&lt;/option&gt;&lt;option&gt;2&lt;/option&gt;&lt;option&gt;3&lt;/option&gt;&lt;option&gt;4&lt;/option&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;count&quot; name=&quot;count&quot;&gt;&lt;option&gt;1&lt;/option&gt;&lt;option&gt;2&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      #   #    &lt;option&gt;3&lt;/option&gt;&lt;option&gt;4&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      #   select_tag &quot;colors&quot;, raw(&quot;&lt;option&gt;Red&lt;/option&gt;&lt;option&gt;Green&lt;/option&gt;&lt;option&gt;Blue&lt;/option&gt;&quot;), multiple: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;colors&quot; multiple=&quot;multiple&quot; name=&quot;colors[]&quot;&gt;&lt;option&gt;Red&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      #   #    &lt;option&gt;Green&lt;/option&gt;&lt;option&gt;Blue&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #   select_tag &quot;locations&quot;, raw(&quot;&lt;option&gt;Home&lt;/option&gt;&lt;option selected=&#39;selected&#39;&gt;Work&lt;/option&gt;&lt;option&gt;Out&lt;/option&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;locations&quot; name=&quot;locations&quot;&gt;&lt;option&gt;Home&lt;/option&gt;&lt;option selected=&#39;selected&#39;&gt;Work&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      #   #    &lt;option&gt;Out&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      #   select_tag &quot;access&quot;, raw(&quot;&lt;option&gt;Read&lt;/option&gt;&lt;option&gt;Write&lt;/option&gt;&quot;), multiple: true, class: &#39;form_input&#39;, id: &#39;unique_id&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select class=&quot;form_input&quot; id=&quot;unique_id&quot; multiple=&quot;multiple&quot; name=&quot;access[]&quot;&gt;&lt;option&gt;Read&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #   #    &lt;option&gt;Write&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      #   select_tag &quot;people&quot;, options_from_collection_for_select(@people, &quot;id&quot;, &quot;name&quot;), include_blank: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;people&quot; name=&quot;people&quot;&gt;&lt;option value=&quot;&quot; label=&quot; &quot;&gt;&lt;/option&gt;&lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #   select_tag &quot;people&quot;, options_from_collection_for_select(@people, &quot;id&quot;, &quot;name&quot;), include_blank: &quot;All&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;people&quot; name=&quot;people&quot;&gt;&lt;option value=&quot;&quot;&gt;All&lt;/option&gt;&lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      #   select_tag &quot;people&quot;, options_from_collection_for_select(@people, &quot;id&quot;, &quot;name&quot;), prompt: &quot;Select something&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;people&quot; name=&quot;people&quot;&gt;&lt;option value=&quot;&quot;&gt;Select something&lt;/option&gt;&lt;option value=&quot;1&quot;&gt;David&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #   select_tag &quot;destination&quot;, raw(&quot;&lt;option&gt;NYC&lt;/option&gt;&lt;option&gt;Paris&lt;/option&gt;&lt;option&gt;Rome&lt;/option&gt;&quot;), disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select disabled=&quot;disabled&quot; id=&quot;destination&quot; name=&quot;destination&quot;&gt;&lt;option&gt;NYC&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #   #    &lt;option&gt;Paris&lt;/option&gt;&lt;option&gt;Rome&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #   select_tag &quot;credit_card&quot;, options_for_select([ &quot;VISA&quot;, &quot;MasterCard&quot; ], &quot;MasterCard&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;select id=&quot;credit_card&quot; name=&quot;credit_card&quot;&gt;&lt;option&gt;VISA&lt;/option&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #   #    &lt;option selected=&quot;selected&quot;&gt;MasterCard&lt;/option&gt;&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def select_tag(name, option_tags = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">        option_tags ||= &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="138">
            
            

            

            <code class="ruby">        html_name = (options[:multiple] == true &amp;&amp; !name.end_with?(&quot;[]&quot;)) ? &quot;#{name}[]&quot; : name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="140">
            
            

            

            <code class="ruby">        if options.include?(:include_blank)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">          include_blank = options[:include_blank]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">          options = options.except(:include_blank)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">          options_for_blank_options_tag = { value: &quot;&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="145">
            
            

            

            <code class="ruby">          if include_blank == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">            include_blank = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">            options_for_blank_options_tag[:label] = &quot; &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="150">
            
            

            

            <code class="ruby">          if include_blank</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="151">
            
            

            

            <code class="ruby">            option_tags = content_tag(&quot;option&quot;, include_blank, options_for_blank_options_tag).safe_concat(option_tags)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="155">
            
            

            

            <code class="ruby">        if prompt = options.delete(:prompt)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="156">
            
            

            

            <code class="ruby">          option_tags = content_tag(&quot;option&quot;, prompt, value: &quot;&quot;).safe_concat(option_tags)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="159">
            
            

            

            <code class="ruby">        content_tag &quot;select&quot;, option_tags, { &quot;name&quot; =&gt; html_name, &quot;id&quot; =&gt; sanitize_to_id(name) }.update(options.stringify_keys)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      # Creates a standard text field; use these text fields to input smaller chunks of text like a username</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      # or a search query.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:size&lt;/tt&gt; - The number of visible characters that will fit in the input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:maxlength&lt;/tt&gt; - The maximum number of characters that the browser will allow the user to enter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:placeholder&lt;/tt&gt; - The text contained in the field by default which is removed when the field receives focus.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #   If set to true, use a translation is found in the current I18n locale</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #   (through helpers.placeholders.&lt;modelname&gt;.&lt;attribute&gt;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;text&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;query&#39;, &#39;Enter your search query here&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;query&quot; name=&quot;query&quot; type=&quot;text&quot; value=&quot;Enter your search query here&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;search&#39;, nil, placeholder: &#39;Enter search term...&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;search&quot; name=&quot;search&quot; placeholder=&quot;Enter search term...&quot; type=&quot;text&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;request&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;request&quot; name=&quot;request&quot; type=&quot;text&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;address&#39;, &#39;&#39;, size: 75</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;address&quot; name=&quot;address&quot; size=&quot;75&quot; type=&quot;text&quot; value=&quot;&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;zip&#39;, nil, maxlength: 5</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;zip&quot; maxlength=&quot;5&quot; name=&quot;zip&quot; type=&quot;text&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;payment_amount&#39;, &#39;$0.00&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; id=&quot;payment_amount&quot; name=&quot;payment_amount&quot; type=&quot;text&quot; value=&quot;$0.00&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      #   text_field_tag &#39;ip&#39;, &#39;0.0.0.0&#39;, maxlength: 15, size: 20, class: &quot;ip-input&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;ip-input&quot; id=&quot;ip&quot; maxlength=&quot;15&quot; name=&quot;ip&quot; size=&quot;20&quot; type=&quot;text&quot; value=&quot;0.0.0.0&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="198">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def text_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="199">
            
            

            

            <code class="ruby">        tag :input, { &quot;type&quot; =&gt; &quot;text&quot;, &quot;name&quot; =&gt; name, &quot;id&quot; =&gt; sanitize_to_id(name), &quot;value&quot; =&gt; value }.update(options.stringify_keys)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      # Creates a label element. Accepts a block.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      # * Creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      #   label_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      #   label_tag &#39;name&#39;, &#39;Your name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;name&quot;&gt;Your name&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      #   label_tag &#39;name&#39;, nil, class: &#39;small_label&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;label for=&quot;name&quot; class=&quot;small_label&quot;&gt;Name&lt;/label&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="216">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def label_tag(name = nil, content_or_options = nil, options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="217">
            
            

            

            <code class="ruby">        if block_given? &amp;&amp; content_or_options.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="218">
            
            

            

            <code class="ruby">          options = content_or_options = content_or_options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="220">
            
            

            

            <code class="ruby">          options ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="221">
            
            

            

            <code class="ruby">          options = options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="223">
            
            

            

            <code class="ruby">        options[&quot;for&quot;] = sanitize_to_id(name) unless name.blank? || options.has_key?(&quot;for&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="224">
            
            

            

            <code class="ruby">        content_tag :label, content_or_options || name.to_s.humanize, options, &amp;block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      # Creates a hidden form input field used to transmit data that would be lost due to HTTP&#39;s statelessness or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # data that should be hidden from the user.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      # * Creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      #   hidden_field_tag &#39;tags_list&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;tags_list&quot; name=&quot;tags_list&quot; type=&quot;hidden&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      #   hidden_field_tag &#39;token&#39;, &#39;VUBJKB23UIVI1UU1VOBVI@&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;token&quot; name=&quot;token&quot; type=&quot;hidden&quot; value=&quot;VUBJKB23UIVI1UU1VOBVI@&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      #   hidden_field_tag &#39;collected_input&#39;, &#39;&#39;, onchange: &quot;alert(&#39;Input collected!&#39;)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;collected_input&quot; name=&quot;collected_input&quot; onchange=&quot;alert(&#39;Input collected!&#39;)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      #   #    type=&quot;hidden&quot; value=&quot;&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def hidden_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="244">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :hidden))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      # Creates a file upload field. If you are using file uploads then you will also need</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      # to set the multipart option for the form tag:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #   &lt;%= form_tag &#39;/upload&#39;, multipart: true do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      #     &lt;label for=&quot;file&quot;&gt;File to Upload&lt;/label&gt; &lt;%= file_field_tag &quot;file&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      #     &lt;%= submit_tag %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      # The specified URL will then be passed a File object containing the selected file, or if the field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      # was left blank, a StringIO object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      # * Creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:multiple&lt;/tt&gt; - If set to true, *in most updated browsers* the user will be allowed to select multiple files.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:accept&lt;/tt&gt; - If set to one or multiple mime-types, the user will be suggested a filter when choosing a file. You still need to set up model validations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      #   file_field_tag &#39;attachment&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;attachment&quot; name=&quot;attachment&quot; type=&quot;file&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      #   file_field_tag &#39;avatar&#39;, class: &#39;profile_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;profile_input&quot; id=&quot;avatar&quot; name=&quot;avatar&quot; type=&quot;file&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      #   file_field_tag &#39;picture&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; id=&quot;picture&quot; name=&quot;picture&quot; type=&quot;file&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      #   file_field_tag &#39;resume&#39;, value: &#39;~/resume.doc&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;resume&quot; name=&quot;resume&quot; type=&quot;file&quot; value=&quot;~/resume.doc&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #   file_field_tag &#39;user_pic&#39;, accept: &#39;image/png,image/gif,image/jpeg&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input accept=&quot;image/png,image/gif,image/jpeg&quot; id=&quot;user_pic&quot; name=&quot;user_pic&quot; type=&quot;file&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      #   file_field_tag &#39;file&#39;, accept: &#39;text/html&#39;, class: &#39;upload&#39;, value: &#39;index.html&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input accept=&quot;text/html&quot; class=&quot;upload&quot; id=&quot;file&quot; name=&quot;file&quot; type=&quot;file&quot; value=&quot;index.html&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="282">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def file_field_tag(name, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="283">
            
            

            

            <code class="ruby">        text_field_tag(name, nil, convert_direct_upload_option_to_url(options.merge(type: :file)))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      # Creates a password field, a masked text field that will hide the users input behind a mask character.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:size&lt;/tt&gt; - The number of visible characters that will fit in the input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:maxlength&lt;/tt&gt; - The maximum number of characters that the browser will allow the user to enter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;pass&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;pass&quot; name=&quot;pass&quot; type=&quot;password&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;secret&#39;, &#39;Your secret here&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;secret&quot; name=&quot;secret&quot; type=&quot;password&quot; value=&quot;Your secret here&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;masked&#39;, nil, class: &#39;masked_input_field&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;masked_input_field&quot; id=&quot;masked&quot; name=&quot;masked&quot; type=&quot;password&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;token&#39;, &#39;&#39;, size: 15</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;token&quot; name=&quot;token&quot; size=&quot;15&quot; type=&quot;password&quot; value=&quot;&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;key&#39;, nil, maxlength: 16</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;key&quot; maxlength=&quot;16&quot; name=&quot;key&quot; type=&quot;password&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;confirm_pass&#39;, nil, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; id=&quot;confirm_pass&quot; name=&quot;confirm_pass&quot; type=&quot;password&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      #   password_field_tag &#39;pin&#39;, &#39;1234&#39;, maxlength: 4, size: 6, class: &quot;pin_input&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;pin_input&quot; id=&quot;pin&quot; maxlength=&quot;4&quot; name=&quot;pin&quot; size=&quot;6&quot; type=&quot;password&quot; value=&quot;1234&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="315">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def password_field_tag(name = &quot;password&quot;, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="316">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :password))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      # Creates a text input area; use a textarea for longer text inputs such as blog posts or descriptions.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:size&lt;/tt&gt; - A string specifying the dimensions (columns by rows) of the textarea (e.g., &quot;25x10&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:rows&lt;/tt&gt; - Specify the number of rows in the textarea</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:cols&lt;/tt&gt; - Specify the number of columns in the textarea</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:escape&lt;/tt&gt; - By default, the contents of the text input are HTML escaped.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      #   If you need unescaped contents, set this to false.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML attributes for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      #   text_area_tag &#39;post&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea id=&quot;post&quot; name=&quot;post&quot;&gt;&lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      #   text_area_tag &#39;bio&#39;, @user.bio</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea id=&quot;bio&quot; name=&quot;bio&quot;&gt;This is my biography.&lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      #   text_area_tag &#39;body&#39;, nil, rows: 10, cols: 25</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea cols=&quot;25&quot; id=&quot;body&quot; name=&quot;body&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      #   text_area_tag &#39;body&#39;, nil, size: &quot;25x10&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea name=&quot;body&quot; id=&quot;body&quot; cols=&quot;25&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #   text_area_tag &#39;description&#39;, &quot;Description goes here.&quot;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea disabled=&quot;disabled&quot; id=&quot;description&quot; name=&quot;description&quot;&gt;Description goes here.&lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      #   text_area_tag &#39;comment&#39;, nil, class: &#39;comment_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;textarea class=&quot;comment_input&quot; id=&quot;comment&quot; name=&quot;comment&quot;&gt;&lt;/textarea&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="348">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def text_area_tag(name, content = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="349">
            
            

            

            <code class="ruby">        options = options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="351">
            
            

            

            <code class="ruby">        if size = options.delete(&quot;size&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="352">
            
            

            

            <code class="ruby">          options[&quot;cols&quot;], options[&quot;rows&quot;] = size.split(&quot;x&quot;) if size.respond_to?(:split)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="355">
            
            

            

            <code class="ruby">        escape = options.delete(&quot;escape&quot;) { true }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="356">
            
            

            

            <code class="ruby">        content = ERB::Util.html_escape(content) if escape</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="358">
            
            

            

            <code class="ruby">        content_tag :textarea, content.to_s.html_safe, { &quot;name&quot; =&gt; name, &quot;id&quot; =&gt; sanitize_to_id(name) }.update(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">      # Creates a check box form input tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML options for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      #   check_box_tag &#39;accept&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;accept&quot; name=&quot;accept&quot; type=&quot;checkbox&quot; value=&quot;1&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #   check_box_tag &#39;rock&#39;, &#39;rock music&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;rock&quot; name=&quot;rock&quot; type=&quot;checkbox&quot; value=&quot;rock music&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      #   check_box_tag &#39;receive_email&#39;, &#39;yes&#39;, true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input checked=&quot;checked&quot; id=&quot;receive_email&quot; name=&quot;receive_email&quot; type=&quot;checkbox&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #   check_box_tag &#39;tos&#39;, &#39;yes&#39;, false, class: &#39;accept_tos&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;accept_tos&quot; id=&quot;tos&quot; name=&quot;tos&quot; type=&quot;checkbox&quot; value=&quot;yes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      #   check_box_tag &#39;eula&#39;, &#39;accepted&#39;, false, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; id=&quot;eula&quot; name=&quot;eula&quot; type=&quot;checkbox&quot; value=&quot;accepted&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="382">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def check_box_tag(name, value = &quot;1&quot;, checked = false, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="383">
            
            

            

            <code class="ruby">        html_options = { &quot;type&quot; =&gt; &quot;checkbox&quot;, &quot;name&quot; =&gt; name, &quot;id&quot; =&gt; sanitize_to_id(name), &quot;value&quot; =&gt; value }.update(options.stringify_keys)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="384">
            
            

            

            <code class="ruby">        html_options[&quot;checked&quot;] = &quot;checked&quot; if checked</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="385">
            
            

            

            <code class="ruby">        tag :input, html_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      # Creates a radio button; use groups of radio buttons named the same to allow users to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      # select from a group of options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML options for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #   radio_button_tag &#39;favorite_color&#39;, &#39;maroon&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;favorite_color_maroon&quot; name=&quot;favorite_color&quot; type=&quot;radio&quot; value=&quot;maroon&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #   radio_button_tag &#39;receive_updates&#39;, &#39;no&#39;, true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input checked=&quot;checked&quot; id=&quot;receive_updates_no&quot; name=&quot;receive_updates&quot; type=&quot;radio&quot; value=&quot;no&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">      #   radio_button_tag &#39;time_slot&#39;, &quot;3:00 p.m.&quot;, false, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; id=&quot;time_slot_3:00_p.m.&quot; name=&quot;time_slot&quot; type=&quot;radio&quot; value=&quot;3:00 p.m.&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">      #   radio_button_tag &#39;color&#39;, &quot;green&quot;, true, class: &quot;color_input&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input checked=&quot;checked&quot; class=&quot;color_input&quot; id=&quot;color_green&quot; name=&quot;color&quot; type=&quot;radio&quot; value=&quot;green&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def radio_button_tag(name, value, checked = false, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="408">
            
            

            

            <code class="ruby">        html_options = { &quot;type&quot; =&gt; &quot;radio&quot;, &quot;name&quot; =&gt; name, &quot;id&quot; =&gt; &quot;#{sanitize_to_id(name)}_#{sanitize_to_id(value)}&quot;, &quot;value&quot; =&gt; value }.update(options.stringify_keys)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="409">
            
            

            

            <code class="ruby">        html_options[&quot;checked&quot;] = &quot;checked&quot; if checked</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="410">
            
            

            

            <code class="ruby">        tag :input, html_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      # Creates a submit button with the text &lt;tt&gt;value&lt;/tt&gt; as the caption.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:data&lt;/tt&gt; - This option can be used to add custom data attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML options for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      # ==== Data attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;confirm: &#39;question?&#39;&lt;/tt&gt; - If present the unobtrusive JavaScript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      #   drivers will provide a prompt with the question specified. If the user accepts,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #   the form is processed normally, otherwise no action is taken.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disable_with&lt;/tt&gt; - Value of this parameter will be used as the value for a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      #   disabled version of the submit button when the form is submitted. This feature is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      #   provided by the unobtrusive JavaScript driver. To disable this feature for a single submit tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      #   pass &lt;tt&gt;:data =&gt; { disable_with: false }&lt;/tt&gt; Defaults to value attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">      #   submit_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;commit&quot; data-disable-with=&quot;Save changes&quot; type=&quot;submit&quot; value=&quot;Save changes&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">      #   submit_tag &quot;Edit this article&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;commit&quot; data-disable-with=&quot;Edit this article&quot; type=&quot;submit&quot; value=&quot;Edit this article&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">      #   submit_tag &quot;Save edits&quot;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; name=&quot;commit&quot; data-disable-with=&quot;Save edits&quot; type=&quot;submit&quot; value=&quot;Save edits&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">      #   submit_tag &quot;Complete sale&quot;, data: { disable_with: &quot;Submitting...&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&quot;commit&quot; data-disable-with=&quot;Submitting...&quot; type=&quot;submit&quot; value=&quot;Complete sale&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">      #   submit_tag nil, class: &quot;form_submit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;form_submit&quot; name=&quot;commit&quot; type=&quot;submit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            
            

            

            <code class="ruby">      #   submit_tag &quot;Edit&quot;, class: &quot;edit_button&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;edit_button&quot; data-disable-with=&quot;Edit&quot; name=&quot;commit&quot; type=&quot;submit&quot; value=&quot;Edit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">      #   submit_tag &quot;Save&quot;, data: { confirm: &quot;Are you sure?&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input name=&#39;commit&#39; type=&#39;submit&#39; value=&#39;Save&#39; data-disable-with=&quot;Save&quot; data-confirm=&quot;Are you sure?&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="452">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def submit_tag(value = &quot;Save changes&quot;, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="453">
            
            

            

            <code class="ruby">        options = options.deep_stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="454">
            
            

            

            <code class="ruby">        tag_options = { &quot;type&quot; =&gt; &quot;submit&quot;, &quot;name&quot; =&gt; &quot;commit&quot;, &quot;value&quot; =&gt; value }.update(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="455">
            
            

            

            <code class="ruby">        set_default_disable_with value, tag_options</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="456">
            
            

            

            <code class="ruby">        tag :input, tag_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">      # Creates a button element that defines a &lt;tt&gt;submit&lt;/tt&gt; button,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">      # &lt;tt&gt;reset&lt;/tt&gt; button or a generic button which can be used in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">      # JavaScript, for example. You can use the button tag as a regular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">      # submit tag but it isn&#39;t supported in legacy browsers. However,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">      # the button tag does allow for richer labels such as images and emphasis,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">      # so this helper will also accept a block. By default, it will create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">      # a button tag with type &lt;tt&gt;submit&lt;/tt&gt;, if type is not given.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:data&lt;/tt&gt; - This option can be used to add custom data attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If true, the user will not be able to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">      #   use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML options for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">      # ==== Data attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;confirm: &#39;question?&#39;&lt;/tt&gt; - If present, the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">      #   unobtrusive JavaScript drivers will provide a prompt with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">      #   the question specified. If the user accepts, the form is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">      #   processed normally, otherwise no action is taken.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disable_with&lt;/tt&gt; - Value of this parameter will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">      #   used as the value for a disabled version of the submit</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">      #   button when the form is submitted. This feature is provided</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby">      #   by the unobtrusive JavaScript driver.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">      #   button_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&quot;button&quot; type=&quot;submit&quot;&gt;Button&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            
            

            

            <code class="ruby">      #   button_tag &#39;Reset&#39;, type: &#39;reset&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&quot;button&quot; type=&quot;reset&quot;&gt;Reset&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">      #   button_tag &#39;Button&#39;, type: &#39;button&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&quot;button&quot; type=&quot;button&quot;&gt;Button&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">      #   button_tag &#39;Reset&#39;, type: &#39;reset&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&quot;button&quot; type=&quot;reset&quot; disabled=&quot;disabled&quot;&gt;Reset&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">      #   button_tag(type: &#39;button&#39;) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">      #     content_tag(:strong, &#39;Ask me!&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&quot;button&quot; type=&quot;button&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">      #   #     &lt;strong&gt;Ask me!&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">      #   #    &lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">      #   button_tag &quot;Save&quot;, data: { confirm: &quot;Are you sure?&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button name=&quot;button&quot; type=&quot;submit&quot; data-confirm=&quot;Are you sure?&quot;&gt;Save&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">      #   button_tag &quot;Checkout&quot;, data: { disable_with: &quot;Please wait...&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;button data-disable-with=&quot;Please wait...&quot; name=&quot;button&quot; type=&quot;submit&quot;&gt;Checkout&lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="510">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def button_tag(content_or_options = nil, options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="511">
            
            

            

            <code class="ruby">        if content_or_options.is_a? Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="512">
            
            

            

            <code class="ruby">          options = content_or_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="514">
            
            

            

            <code class="ruby">          options ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="517">
            
            

            

            <code class="ruby">        options = { &quot;name&quot; =&gt; &quot;button&quot;, &quot;type&quot; =&gt; &quot;submit&quot; }.merge!(options.stringify_keys)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="519">
            
            

            

            <code class="ruby">        if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="520">
            
            

            

            <code class="ruby">          content_tag :button, options, &amp;block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="522">
            
            

            

            <code class="ruby">          content_tag :button, content_or_options || &quot;Button&quot;, options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            
            

            

            <code class="ruby">      # Displays an image which when clicked will submit the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">      # &lt;tt&gt;source&lt;/tt&gt; is passed to AssetTagHelper#path_to_image</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:data&lt;/tt&gt; - This option can be used to add custom data attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, the user will not be able to use this input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            
            

            

            <code class="ruby">      # * Any other key creates standard HTML options for the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            
            

            

            <code class="ruby">      # ==== Data attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;confirm: &#39;question?&#39;&lt;/tt&gt; - This will add a JavaScript confirm</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">      #   prompt with the question specified. If the user accepts, the form is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby">      #   processed normally, otherwise no action is taken.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby">      #   image_submit_tag(&quot;login.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input src=&quot;/assets/login.png&quot; type=&quot;image&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="544">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby">      #   image_submit_tag(&quot;purchase.png&quot;, disabled: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; src=&quot;/assets/purchase.png&quot; type=&quot;image&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            
            

            

            <code class="ruby">      #   image_submit_tag(&quot;search.png&quot;, class: &#39;search_button&#39;, alt: &#39;Find&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="549">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;search_button&quot; src=&quot;/assets/search.png&quot; type=&quot;image&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            
            

            

            <code class="ruby">      #   image_submit_tag(&quot;agree.png&quot;, disabled: true, class: &quot;agree_disagree_button&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;agree_disagree_button&quot; disabled=&quot;disabled&quot; src=&quot;/assets/agree.png&quot; type=&quot;image&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="553">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            
            

            

            <code class="ruby">      #   image_submit_tag(&quot;save.png&quot;, data: { confirm: &quot;Are you sure?&quot; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input src=&quot;/assets/save.png&quot; data-confirm=&quot;Are you sure?&quot; type=&quot;image&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="556">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def image_submit_tag(source, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="557">
            
            

            

            <code class="ruby">        options = options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="558">
            
            

            

            <code class="ruby">        src = path_to_image(source, skip_pipeline: options.delete(&quot;skip_pipeline&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="559">
            
            

            

            <code class="ruby">        tag :input, { &quot;type&quot; =&gt; &quot;image&quot;, &quot;src&quot; =&gt; src }.update(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            
            

            

            <code class="ruby">      # Creates a field set for grouping HTML form elements.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">      # &lt;tt&gt;legend&lt;/tt&gt; will become the fieldset&#39;s title (optional as per W3C).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby">      # &lt;tt&gt;options&lt;/tt&gt; accept the same values as tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="567">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">      #   &lt;%= field_set_tag do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="569">
            
            

            

            <code class="ruby">      #     &lt;p&gt;&lt;%= text_field_tag &#39;name&#39; %&gt;&lt;/p&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;fieldset&gt;&lt;p&gt;&lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;text&quot; /&gt;&lt;/p&gt;&lt;/fieldset&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">      #   &lt;%= field_set_tag &#39;Your details&#39; do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">      #     &lt;p&gt;&lt;%= text_field_tag &#39;name&#39; %&gt;&lt;/p&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="575">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;fieldset&gt;&lt;legend&gt;Your details&lt;/legend&gt;&lt;p&gt;&lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;text&quot; /&gt;&lt;/p&gt;&lt;/fieldset&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="578">
            
            

            

            <code class="ruby">      #   &lt;%= field_set_tag nil, class: &#39;format&#39; do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="579">
            
            

            

            <code class="ruby">      #     &lt;p&gt;&lt;%= text_field_tag &#39;name&#39; %&gt;&lt;/p&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;fieldset class=&quot;format&quot;&gt;&lt;p&gt;&lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;text&quot; /&gt;&lt;/p&gt;&lt;/fieldset&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="582">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def field_set_tag(legend = nil, options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="583">
            
            

            

            <code class="ruby">        output = tag(:fieldset, options, true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="584">
            
            

            

            <code class="ruby">        output.safe_concat(content_tag(&quot;legend&quot;, legend)) unless legend.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="585">
            
            

            

            <code class="ruby">        output.concat(capture(&amp;block)) if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="586">
            
            

            

            <code class="ruby">        output.safe_concat(&quot;&lt;/fieldset&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="589">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;color&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="590">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            
            

            

            <code class="ruby">      # * Accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            
            

            

            <code class="ruby">      #   color_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;color&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">      #   color_field_tag &#39;color&#39;, &#39;#DEF726&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;color&quot; name=&quot;color&quot; type=&quot;color&quot; value=&quot;#DEF726&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">      #   color_field_tag &#39;color&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;color&quot; name=&quot;color&quot; type=&quot;color&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">      #   color_field_tag &#39;color&#39;, &#39;#DEF726&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;color&quot; name=&quot;color&quot; type=&quot;color&quot; value=&quot;#DEF726&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="606">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def color_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="607">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :color))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;search&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            
            

            

            <code class="ruby">      # * Accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="615">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="616">
            
            

            

            <code class="ruby">      #   search_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="618">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">      #   search_field_tag &#39;search&#39;, &#39;Enter your search query here&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;search&quot; name=&quot;search&quot; type=&quot;search&quot; value=&quot;Enter your search query here&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="622">
            
            

            

            <code class="ruby">      #   search_field_tag &#39;search&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;search&quot; name=&quot;search&quot; type=&quot;search&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">      #   search_field_tag &#39;search&#39;, &#39;Enter your search query here&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;search&quot; name=&quot;search&quot; type=&quot;search&quot; value=&quot;Enter your search query here&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="627">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def search_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="628">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :search))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;tel&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="634">
            
            

            

            <code class="ruby">      # * Accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            
            

            

            <code class="ruby">      #   telephone_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;tel&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby">      #   telephone_field_tag &#39;tel&#39;, &#39;0123456789&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;tel&quot; name=&quot;tel&quot; type=&quot;tel&quot; value=&quot;0123456789&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="642">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            
            

            

            <code class="ruby">      #   telephone_field_tag &#39;tel&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;tel&quot; name=&quot;tel&quot; type=&quot;tel&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="646">
            
            

            

            <code class="ruby">      #   telephone_field_tag &#39;tel&#39;, &#39;0123456789&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;tel&quot; name=&quot;tel&quot; type=&quot;tel&quot; value=&quot;0123456789&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="648">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def telephone_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="649">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :tel))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="650">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="651">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias phone_field_tag telephone_field_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;date&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="654">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="656">
            
            

            

            <code class="ruby">      # * Accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="658">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="659">
            
            

            

            <code class="ruby">      #   date_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;date&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            
            

            

            <code class="ruby">      #   date_field_tag &#39;date&#39;, &#39;01/01/2014&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="663">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;date&quot; name=&quot;date&quot; type=&quot;date&quot; value=&quot;01/01/2014&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            
            

            

            <code class="ruby">      #   date_field_tag &#39;date&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;date&quot; name=&quot;date&quot; type=&quot;date&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="667">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="668">
            
            

            

            <code class="ruby">      #   date_field_tag &#39;date&#39;, &#39;01/01/2014&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;date&quot; name=&quot;date&quot; type=&quot;date&quot; value=&quot;01/01/2014&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="670">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def date_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="671">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :date))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="672">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="674">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;time&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            
            

            

            <code class="ruby">      # === Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:min&lt;/tt&gt; - The minimum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="678">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:max&lt;/tt&gt; - The maximum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:step&lt;/tt&gt; - The acceptable value granularity.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            
            

            

            <code class="ruby">      # * Otherwise accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="681">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def time_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="682">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :time))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="684">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="685">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;datetime-local&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            
            

            

            <code class="ruby">      # === Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:min&lt;/tt&gt; - The minimum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:max&lt;/tt&gt; - The maximum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="690">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:step&lt;/tt&gt; - The acceptable value granularity.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="691">
            
            

            

            <code class="ruby">      # * Otherwise accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="692">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def datetime_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="693">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: &quot;datetime-local&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="694">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="695">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="696">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias datetime_local_field_tag datetime_field_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="697">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="698">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;month&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="700">
            
            

            

            <code class="ruby">      # === Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="701">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:min&lt;/tt&gt; - The minimum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="702">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:max&lt;/tt&gt; - The maximum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="703">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:step&lt;/tt&gt; - The acceptable value granularity.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby">      # * Otherwise accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="705">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def month_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="706">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :month))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;week&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="710">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            
            

            

            <code class="ruby">      # === Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:min&lt;/tt&gt; - The minimum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:max&lt;/tt&gt; - The maximum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="714">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:step&lt;/tt&gt; - The acceptable value granularity.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="715">
            
            

            

            <code class="ruby">      # * Otherwise accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="716">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def week_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="717">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :week))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;url&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="723">
            
            

            

            <code class="ruby">      # * Accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="724">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby">      #   url_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;url&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            
            

            

            <code class="ruby">      #   url_field_tag &#39;url&#39;, &#39;http://rubyonrails.org&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;url&quot; name=&quot;url&quot; type=&quot;url&quot; value=&quot;http://rubyonrails.org&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            
            

            

            <code class="ruby">      #   url_field_tag &#39;url&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;url&quot; name=&quot;url&quot; type=&quot;url&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">      #   url_field_tag &#39;url&#39;, &#39;http://rubyonrails.org&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;url&quot; name=&quot;url&quot; type=&quot;url&quot; value=&quot;http://rubyonrails.org&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="737">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def url_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="738">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :url))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="739">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="741">
            
            

            

            <code class="ruby">      # Creates a text field of type &quot;email&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="742">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="743">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="744">
            
            

            

            <code class="ruby">      # * Accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="747">
            
            

            

            <code class="ruby">      #   email_field_tag &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="748">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;name&quot; name=&quot;name&quot; type=&quot;email&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="749">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="750">
            
            

            

            <code class="ruby">      #   email_field_tag &#39;email&#39;, &#39;email@example.com&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="751">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;email&quot; name=&quot;email&quot; type=&quot;email&quot; value=&quot;email@example.com&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="753">
            
            

            

            <code class="ruby">      #   email_field_tag &#39;email&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="754">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;email&quot; name=&quot;email&quot; type=&quot;email&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="755">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="756">
            
            

            

            <code class="ruby">      #   email_field_tag &#39;email&#39;, &#39;email@example.com&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="757">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;email&quot; name=&quot;email&quot; type=&quot;email&quot; value=&quot;email@example.com&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="758">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def email_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="759">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options.merge(type: :email))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="760">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="761">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="762">
            
            

            

            <code class="ruby">      # Creates a number field.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="763">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:min&lt;/tt&gt; - The minimum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="766">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:max&lt;/tt&gt; - The maximum acceptable value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:in&lt;/tt&gt; - A range specifying the &lt;tt&gt;:min&lt;/tt&gt; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="768">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;:max&lt;/tt&gt; values.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="769">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:within&lt;/tt&gt; - Same as &lt;tt&gt;:in&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="770">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:step&lt;/tt&gt; - The acceptable value granularity.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="771">
            
            

            

            <code class="ruby">      # * Otherwise accepts the same options as text_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="772">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="773">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="774">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="775">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="776">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="777">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, &#39;1&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="778">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; type=&quot;number&quot; value=&quot;1&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="779">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="780">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, class: &#39;special_input&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="781">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;special_input&quot; id=&quot;quantity&quot; name=&quot;quantity&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="782">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="783">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, min: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="784">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; min=&quot;1&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="785">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="786">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, max: 9</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="787">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; max=&quot;9&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="788">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="789">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, in: 1...10</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="790">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; min=&quot;1&quot; max=&quot;9&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="791">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="792">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, within: 1...10</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="793">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; min=&quot;1&quot; max=&quot;9&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="794">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="795">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, min: 1, max: 10</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="796">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; min=&quot;1&quot; max=&quot;10&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="797">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="798">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, nil, min: 1, max: 10, step: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="799">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input id=&quot;quantity&quot; name=&quot;quantity&quot; min=&quot;1&quot; max=&quot;10&quot; step=&quot;2&quot; type=&quot;number&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="800">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="801">
            
            

            

            <code class="ruby">      #   number_field_tag &#39;quantity&#39;, &#39;1&#39;, class: &#39;special_input&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="802">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input disabled=&quot;disabled&quot; class=&quot;special_input&quot; id=&quot;quantity&quot; name=&quot;quantity&quot; type=&quot;number&quot; value=&quot;1&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="803">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="804">
            
            

            

            <code class="ruby">        options = options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="805">
            
            

            

            <code class="ruby">        options[&quot;type&quot;] ||= &quot;number&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="806">
            
            

            

            <code class="ruby">        if range = options.delete(&quot;in&quot;) || options.delete(&quot;within&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="807">
            
            

            

            <code class="ruby">          options.update(&quot;min&quot; =&gt; range.min, &quot;max&quot; =&gt; range.max)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="808">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="809">
            
            

            

            <code class="ruby">        text_field_tag(name, value, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="810">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="811">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="812">
            
            

            

            <code class="ruby">      # Creates a range form element.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="813">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="814">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="815">
            
            

            

            <code class="ruby">      # * Accepts the same options as number_field_tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="816">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def range_field_tag(name, value = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="817">
            
            

            

            <code class="ruby">        number_field_tag(name, value, options.merge(type: :range))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="818">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="819">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="820">
            
            

            

            <code class="ruby">      # Creates the hidden UTF8 enforcer tag. Override this method in a helper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="821">
            
            

            

            <code class="ruby">      # to customize the tag.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="822">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def utf8_enforcer_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="823">
            
            

            

            <code class="ruby">        # Use raw HTML to ensure the value is written as an HTML entity; it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="824">
            
            

            

            <code class="ruby">        # needs to be the right character regardless of which encoding the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="825">
            
            

            

            <code class="ruby">        # browser infers.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="826">
            
            

            

            <code class="ruby">        &#39;&lt;input name=&quot;utf8&quot; type=&quot;hidden&quot; value=&quot;&amp;#x2713;&quot; /&gt;&#39;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="827">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="828">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="829">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="830">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def html_options_for_form(url_for_options, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="831">
            
            

            

            <code class="ruby">          options.stringify_keys.tap do |html_options|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="832">
            
            

            

            <code class="ruby">            html_options[&quot;enctype&quot;] = &quot;multipart/form-data&quot; if html_options.delete(&quot;multipart&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="833">
            
            

            

            <code class="ruby">            # The following URL is unescaped, this is just a hash of options, and it is the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="834">
            
            

            

            <code class="ruby">            # responsibility of the caller to escape all the values.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="835">
            
            

            

            <code class="ruby">            html_options[&quot;action&quot;]  = url_for(url_for_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="836">
            
            

            

            <code class="ruby">            html_options[&quot;accept-charset&quot;] = &quot;UTF-8&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="837">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="838">
            
            

            

            <code class="ruby">            html_options[&quot;data-remote&quot;] = true if html_options.delete(&quot;remote&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="839">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="840">
            
            

            

            <code class="ruby">            if html_options[&quot;data-remote&quot;] &amp;&amp;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="841">
            
            

            

            <code class="ruby">               !embed_authenticity_token_in_remote_forms &amp;&amp;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="842">
            
            

            

            <code class="ruby">               html_options[&quot;authenticity_token&quot;].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="843">
            
            

            

            <code class="ruby">              # The authenticity token is taken from the meta tag in this case</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="844">
            
            

            

            <code class="ruby">              html_options[&quot;authenticity_token&quot;] = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="845">
            
            

            

            <code class="ruby">            elsif html_options[&quot;authenticity_token&quot;] == true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="846">
            
            

            

            <code class="ruby">              # Include the default authenticity_token, which is only generated when its set to nil,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="847">
            
            

            

            <code class="ruby">              # but we needed the true value to override the default of no authenticity_token on data-remote.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="848">
            
            

            

            <code class="ruby">              html_options[&quot;authenticity_token&quot;] = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="849">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="850">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="851">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="853">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def extra_tags_for_form(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="854">
            
            

            

            <code class="ruby">          authenticity_token = html_options.delete(&quot;authenticity_token&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="855">
            
            

            

            <code class="ruby">          method = html_options.delete(&quot;method&quot;).to_s.downcase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="856">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="857">
            
            

            

            <code class="ruby">          method_tag = \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="858">
            
            

            

            <code class="ruby">            case method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="859">
            
            

            

            <code class="ruby">            when &quot;get&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="860">
            
            

            

            <code class="ruby">              html_options[&quot;method&quot;] = &quot;get&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="861">
            
            

            

            <code class="ruby">              &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="862">
            
            

            

            <code class="ruby">            when &quot;post&quot;, &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="863">
            
            

            

            <code class="ruby">              html_options[&quot;method&quot;] = &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="864">
            
            

            

            <code class="ruby">              token_tag(authenticity_token, form_options: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="865">
            
            

            

            <code class="ruby">                action: html_options[&quot;action&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="866">
            
            

            

            <code class="ruby">                method: &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="867">
            
            

            

            <code class="ruby">              })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="868">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="869">
            
            

            

            <code class="ruby">              html_options[&quot;method&quot;] = &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="870">
            
            

            

            <code class="ruby">              method_tag(method) + token_tag(authenticity_token, form_options: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="871">
            
            

            

            <code class="ruby">                action: html_options[&quot;action&quot;],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="872">
            
            

            

            <code class="ruby">                method: method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="873">
            
            

            

            <code class="ruby">              })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="874">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="875">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="876">
            
            

            

            <code class="ruby">          if html_options.delete(&quot;enforce_utf8&quot;) { default_enforce_utf8 }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="877">
            
            

            

            <code class="ruby">            utf8_enforcer_tag + method_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="878">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="879">
            
            

            

            <code class="ruby">            method_tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="880">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="881">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="882">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="883">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def form_tag_html(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="884">
            
            

            

            <code class="ruby">          extra_tags = extra_tags_for_form(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="885">
            
            

            

            <code class="ruby">          tag(:form, html_options, true) + extra_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="886">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="887">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="888">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def form_tag_with_body(html_options, content)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="889">
            
            

            

            <code class="ruby">          output = form_tag_html(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="890">
            
            

            

            <code class="ruby">          output &lt;&lt; content</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="891">
            
            

            

            <code class="ruby">          output.safe_concat(&quot;&lt;/form&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="892">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="893">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="894">
            
            

            

            <code class="ruby">        # see http://www.w3.org/TR/html4/types.html#type-name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="895">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def sanitize_to_id(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="896">
            
            

            

            <code class="ruby">          name.to_s.delete(&quot;]&quot;).tr(&quot;^-a-zA-Z0-9:.&quot;, &quot;_&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="897">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="898">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="899">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def set_default_disable_with(value, tag_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="900">
            
            

            

            <code class="ruby">          return unless ActionView::Base.automatically_disable_submit_tag</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="901">
            
            

            

            <code class="ruby">          data = tag_options[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="902">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="903">
            
            

            

            <code class="ruby">          unless tag_options[&quot;data-disable-with&quot;] == false || (data &amp;&amp; data[&quot;disable_with&quot;] == false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="904">
            
            

            

            <code class="ruby">            disable_with_text = tag_options[&quot;data-disable-with&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="905">
            
            

            

            <code class="ruby">            disable_with_text ||= data[&quot;disable_with&quot;] if data</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="906">
            
            

            

            <code class="ruby">            disable_with_text ||= value.to_s.clone</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="907">
            
            

            

            <code class="ruby">            tag_options.deep_merge!(&quot;data&quot; =&gt; { &quot;disable_with&quot; =&gt; disable_with_text })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="908">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="909">
            
            

            

            <code class="ruby">            data.delete(&quot;disable_with&quot;) if data</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="910">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="911">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="912">
            
            

            

            <code class="ruby">          tag_options.delete(&quot;data-disable-with&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="913">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="914">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="915">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def convert_direct_upload_option_to_url(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="916">
            
            

            

            <code class="ruby">          if options.delete(:direct_upload) &amp;&amp; respond_to?(:rails_direct_uploads_url)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="917">
            
            

            

            <code class="ruby">            options[&quot;data-direct-upload-url&quot;] = rails_direct_uploads_url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="918">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="919">
            
            

            

            <code class="ruby">          options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="920">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="921">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="922">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="923">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="35cec2a337d57a60ab49738ed95000f8a9a24166">
  <div class="header">
    <h3>lib/action_view/helpers/javascript_helper.rb</h3>
    <h4>
      <span class="red">
  44.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>25</b> relevant lines.
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>14</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module JavaScriptHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      JS_ESCAPE_MAP = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">        &#39;\\&#39;    =&gt; &#39;\\\\&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">        &quot;&lt;/&quot;    =&gt; &#39;&lt;\/&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">        &quot;\r\n&quot;  =&gt; &#39;\n&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">        &quot;\n&quot;    =&gt; &#39;\n&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        &quot;\r&quot;    =&gt; &#39;\n&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">        &#39;&quot;&#39;     =&gt; &#39;\\&quot;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">        &quot;&#39;&quot;     =&gt; &quot;\\&#39;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">        &quot;`&quot;     =&gt; &quot;\\`&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        &quot;$&quot;     =&gt; &quot;\\$&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">      JS_ESCAPE_MAP[(+&quot;\342\200\250&quot;).force_encoding(Encoding::UTF_8).encode!] = &quot;&amp;#x2028;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">      JS_ESCAPE_MAP[(+&quot;\342\200\251&quot;).force_encoding(Encoding::UTF_8).encode!] = &quot;&amp;#x2029;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      # Escapes carriage returns and single and double quotes for JavaScript segments.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # Also available through the alias j(). This is particularly helpful in JavaScript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      # responses, like:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #   $(&#39;some_element&#39;).replaceWith(&#39;&lt;%= j render &#39;some/element_template&#39; %&gt;&#39;);</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def escape_javascript(javascript)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">        javascript = javascript.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">        if javascript.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">          result = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">          result = javascript.gsub(/(\\|&lt;\/|\r\n|\342\200\250|\342\200\251|[\n\r&quot;&#39;]|[`]|[$])/u, JS_ESCAPE_MAP)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">        javascript.html_safe? ? result.html_safe : result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :j, :escape_javascript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # Returns a JavaScript tag with the +content+ inside. Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #   javascript_tag &quot;alert(&#39;All is good&#39;)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      # Returns:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #   &lt;script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #   //&lt;![CDATA[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #   alert(&#39;All is good&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #   //]]&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #   &lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      # +html_options+ may be a hash of attributes for the &lt;tt&gt;\&lt;script&gt;&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      # tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #   javascript_tag &quot;alert(&#39;All is good&#39;)&quot;, type: &#39;application/javascript&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # Returns:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #   &lt;script type=&quot;application/javascript&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   //&lt;![CDATA[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #   alert(&#39;All is good&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   //]]&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #   &lt;/script&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      # Instead of passing the content as an argument, you can also use a block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      # in which case, you pass your +html_options+ as the first parameter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #   &lt;%= javascript_tag type: &#39;application/javascript&#39; do -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #     alert(&#39;All is good&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #   &lt;% end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # If you have a content security policy enabled then you can add an automatic</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      # nonce value by passing &lt;tt&gt;nonce: true&lt;/tt&gt; as part of +html_options+. Example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #   &lt;%= javascript_tag nonce: true do -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #     alert(&#39;All is good&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #   &lt;% end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def javascript_tag(content_or_options_with_block = nil, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">        content =</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">          if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">            html_options = content_or_options_with_block if content_or_options_with_block.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">            capture(&amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">            content_or_options_with_block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="85">
            
            

            

            <code class="ruby">        if html_options[:nonce] == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">          html_options[:nonce] = content_security_policy_nonce</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">        content_tag(&quot;script&quot;, javascript_cdata_section(content), html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def javascript_cdata_section(content) #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">        &quot;\n//#{cdata_section(&quot;\n#{content}\n//&quot;)}\n&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d2bdea47495648ca5a9ab9981c56a5778bb000ee">
  <div class="header">
    <h3>lib/action_view/helpers/number_helper.rb</h3>
    <h4>
      <span class="red">
  41.07%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>56</b> relevant lines.
      <span class="green"><b>23</b> lines covered</span> and
      <span class="red"><b>33</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/hash/keys&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/number_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # = Action View Number Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # Provides methods for converting numbers into formatted strings.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    # Methods are provided for phone numbers, currency, percentage,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # precision, positional notation, file size and pretty printing.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # Most methods expect a +number+ argument, and will return it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    # unchanged if can&#39;t be converted into a valid number.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module NumberHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # Raised when argument +number+ param given to the helpers is invalid and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      # the option :raise is set to  +true+.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class InvalidNumberError &lt; StandardError</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_accessor :number</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">          @number = number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      # Formats a +number+ into a phone number (US by default e.g., (555)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      # 123-9876). You can customize the format in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:area_code&lt;/tt&gt; - Adds parentheses around the area code.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Specifies the delimiter to use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      #   (defaults to &quot;-&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:extension&lt;/tt&gt; - Specifies an extension to add to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #   end of the generated number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:country_code&lt;/tt&gt; - Sets the country code for the phone</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #   number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:pattern&lt;/tt&gt; - Specifies how the number is divided into three</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      #   groups with the custom regexp to override the default format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #   number_to_phone(5551234)                                           # =&gt; 555-1234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #   number_to_phone(&quot;5551234&quot;)                                         # =&gt; 555-1234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #   number_to_phone(1235551234)                                        # =&gt; 123-555-1234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #   number_to_phone(1235551234, area_code: true)                       # =&gt; (123) 555-1234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #   number_to_phone(1235551234, delimiter: &quot; &quot;)                        # =&gt; 123 555 1234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #   number_to_phone(1235551234, area_code: true, extension: 555)       # =&gt; (123) 555-1234 x 555</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #   number_to_phone(1235551234, country_code: 1)                       # =&gt; +1-123-555-1234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #   number_to_phone(&quot;123a456&quot;)                                         # =&gt; 123a456</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #   number_to_phone(&quot;1234a567&quot;, raise: true)                           # =&gt; InvalidNumberError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      #   number_to_phone(1235551234, country_code: 1, extension: 1343, delimiter: &quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      #   # =&gt; +1.123.555.1234 x 1343</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   number_to_phone(75561234567, pattern: /(\d{1,4})(\d{4})(\d{4})$/, area_code: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;(755) 6123-4567&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   number_to_phone(13312345678, pattern: /(\d{3})(\d{4})(\d{4})$/)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;133-1234-5678&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_to_phone(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">        return unless number</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">        options = options.symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">        parse_float(number, true) if options.delete(:raise)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">        ERB::Util.html_escape(ActiveSupport::NumberHelper.number_to_phone(number, options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # Formats a +number+ into a currency string (e.g., $13.65). You</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      # can customize the format in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      # The currency unit and number formatting of the current locale will be used</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      # unless otherwise specified in the provided options. No currency conversion</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      # is performed. If the user is given a way to change their locale, they will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      # also be able to change the relative value of the currency displayed with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      # this helper. If your application will ever support multiple locales, you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      # may want to specify a constant &lt;tt&gt;:locale&lt;/tt&gt; option or consider</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      # using a library capable of currency conversion.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #   (defaults to current locale).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the level of precision (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #   to 2).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:unit&lt;/tt&gt; - Sets the denomination of the currency</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      #   (defaults to &quot;$&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the units</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      #   (defaults to &quot;.&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #   to &quot;,&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:format&lt;/tt&gt; - Sets the format for non-negative numbers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #   (defaults to &quot;%u%n&quot;).  Fields are &lt;tt&gt;%u&lt;/tt&gt; for the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #   currency, and &lt;tt&gt;%n&lt;/tt&gt; for the number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:negative_format&lt;/tt&gt; - Sets the format for negative</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      #   numbers (defaults to prepending a hyphen to the formatted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      #   number given by &lt;tt&gt;:format&lt;/tt&gt;).  Accepts the same fields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      #   than &lt;tt&gt;:format&lt;/tt&gt;, except &lt;tt&gt;%n&lt;/tt&gt; is here the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #   absolute value of the number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      #   insignificant zeros after the decimal separator (defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      #   +false+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.50)                    # =&gt; $1,234,567,890.50</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.506)                   # =&gt; $1,234,567,890.51</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.506, precision: 3)     # =&gt; $1,234,567,890.506</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.506, locale: :fr)      # =&gt; 1 234 567 890,51 €</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #   number_to_currency(&quot;123a456&quot;)                        # =&gt; $123a456</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      #   number_to_currency(&quot;123a456&quot;, raise: true)           # =&gt; InvalidNumberError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #   number_to_currency(-0.456789, precision: 0)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;$0&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #   number_to_currency(-1234567890.50, negative_format: &quot;(%u%n)&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      #   # =&gt; ($1,234,567,890.50)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.50, unit: &quot;R$&quot;, separator: &quot;,&quot;, delimiter: &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      #   # =&gt; R$1234567890,50</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.50, unit: &quot;R$&quot;, separator: &quot;,&quot;, delimiter: &quot;&quot;, format: &quot;%n %u&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #   # =&gt; 1234567890,50 R$</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #   number_to_currency(1234567890.50, strip_insignificant_zeros: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;$1,234,567,890.5&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_to_currency(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">        delegate_number_helper_method(:number_to_currency, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      # Formats a +number+ as a percentage string (e.g., 65%). You can</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # customize the format in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      #   (defaults to current locale).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      #   (defaults to 3).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      #   of significant_digits. If +false+, the number of fractional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      #   digits (defaults to +false+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      #   fractional and integer digits (defaults to &quot;.&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      #   to &quot;&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #   insignificant zeros after the decimal separator (defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      #   +false+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:format&lt;/tt&gt; - Specifies the format of the percentage</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      #   string The number field is &lt;tt&gt;%n&lt;/tt&gt; (defaults to &quot;%n%&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      #   number_to_percentage(100)                                        # =&gt; 100.000%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      #   number_to_percentage(&quot;98&quot;)                                       # =&gt; 98.000%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      #   number_to_percentage(100, precision: 0)                          # =&gt; 100%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      #   number_to_percentage(1000, delimiter: &#39;.&#39;, separator: &#39;,&#39;)       # =&gt; 1.000,000%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #   number_to_percentage(302.24398923423, precision: 5)              # =&gt; 302.24399%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #   number_to_percentage(1000, locale: :fr)                          # =&gt; 1 000,000%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #   number_to_percentage(&quot;98a&quot;)                                      # =&gt; 98a%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #   number_to_percentage(100, format: &quot;%n  %&quot;)                       # =&gt; 100.000  %</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      #   number_to_percentage(&quot;98a&quot;, raise: true)                         # =&gt; InvalidNumberError</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_to_percentage(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="168">
            
            

            

            <code class="ruby">        delegate_number_helper_method(:number_to_percentage, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      # Formats a +number+ with grouped thousands using +delimiter+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      # (e.g., 12,324). You can customize the format in the +options+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      # hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #   (defaults to current locale).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #   to &quot;,&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      #   fractional and integer digits (defaults to &quot;.&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter_pattern&lt;/tt&gt; - Sets a custom regular expression used for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #   deriving the placement of delimiter. Helpful when using currency formats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #   like INR.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      #   number_with_delimiter(12345678)                        # =&gt; 12,345,678</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      #   number_with_delimiter(&quot;123456&quot;)                        # =&gt; 123,456</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      #   number_with_delimiter(12345678.05)                     # =&gt; 12,345,678.05</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #   number_with_delimiter(12345678, delimiter: &quot;.&quot;)        # =&gt; 12.345.678</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      #   number_with_delimiter(12345678, delimiter: &quot;,&quot;)        # =&gt; 12,345,678</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      #   number_with_delimiter(12345678.05, separator: &quot; &quot;)     # =&gt; 12,345,678 05</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      #   number_with_delimiter(12345678.05, locale: :fr)        # =&gt; 12 345 678,05</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      #   number_with_delimiter(&quot;112a&quot;)                          # =&gt; 112a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      #   number_with_delimiter(98765432.98, delimiter: &quot; &quot;, separator: &quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      #   # =&gt; 98 765 432,98</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      #   number_with_delimiter(&quot;123456.78&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      #     delimiter_pattern: /(\d+?)(?=(\d\d)+(\d)(?!\d))/)    # =&gt; &quot;1,23,456.78&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      #  number_with_delimiter(&quot;112a&quot;, raise: true)              # =&gt; raise InvalidNumberError</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="206">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_with_delimiter(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="207">
            
            

            

            <code class="ruby">        delegate_number_helper_method(:number_to_delimited, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      # Formats a +number+ with the specified level of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:precision&lt;/tt&gt; (e.g., 112.32 has a precision of 2 if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      # +:significant+ is +false+, and 5 if +:significant+ is +true+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      # You can customize the format in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      #   (defaults to current locale).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      #   (defaults to 3).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      #   of significant_digits. If +false+, the number of fractional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      #   digits (defaults to +false+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      #   fractional and integer digits (defaults to &quot;.&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #   to &quot;&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #   insignificant zeros after the decimal separator (defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      #   +false+).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      #   number_with_precision(111.2345)                                         # =&gt; 111.235</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      #   number_with_precision(111.2345, precision: 2)                           # =&gt; 111.23</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      #   number_with_precision(13, precision: 5)                                 # =&gt; 13.00000</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      #   number_with_precision(389.32314, precision: 0)                          # =&gt; 389</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      #   number_with_precision(111.2345, significant: true)                      # =&gt; 111</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #   number_with_precision(111.2345, precision: 1, significant: true)        # =&gt; 100</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      #   number_with_precision(13, precision: 5, significant: true)              # =&gt; 13.000</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #   number_with_precision(111.234, locale: :fr)                             # =&gt; 111,234</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      #   number_with_precision(13, precision: 5, significant: true, strip_insignificant_zeros: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #   # =&gt; 13</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #   number_with_precision(389.32314, precision: 4, significant: true)       # =&gt; 389.3</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #   number_with_precision(1111.2345, precision: 2, separator: &#39;,&#39;, delimiter: &#39;.&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #   # =&gt; 1.111,23</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="251">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_with_precision(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="252">
            
            

            

            <code class="ruby">        delegate_number_helper_method(:number_to_rounded, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      # Formats the bytes in +number+ into a more understandable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      # representation (e.g., giving it 1500 yields 1.46 KB). This</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      # method is useful for reporting file sizes to users. You can</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      # customize the format in the +options+ hash.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      # See &lt;tt&gt;number_to_human&lt;/tt&gt; if you want to pretty-print a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      # generic number.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      #   (defaults to current locale).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      #   (defaults to 3).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      #   of significant_digits. If +false+, the number of fractional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      #   digits (defaults to +true+)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      #   fractional and integer digits (defaults to &quot;.&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      #   to &quot;&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #   insignificant zeros after the decimal separator (defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      #   +true+)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      #   number_to_human_size(123)                                          # =&gt; 123 Bytes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234)                                         # =&gt; 1.21 KB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      #   number_to_human_size(12345)                                        # =&gt; 12.1 KB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567)                                      # =&gt; 1.18 MB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567890)                                   # =&gt; 1.15 GB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567890123)                                # =&gt; 1.12 TB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567890123456)                             # =&gt; 1.1 PB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567890123456789)                          # =&gt; 1.07 EB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567, precision: 2)                        # =&gt; 1.2 MB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      #   number_to_human_size(483989, precision: 2)                         # =&gt; 470 KB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567, precision: 2, separator: &#39;,&#39;)        # =&gt; 1,2 MB</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      #   number_to_human_size(1234567890123, precision: 5)                  # =&gt; &quot;1.1228 TB&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #   number_to_human_size(524288000, precision: 5)                      # =&gt; &quot;500 MB&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="297">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_to_human_size(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="298">
            
            

            

            <code class="ruby">        delegate_number_helper_method(:number_to_human_size, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      # Pretty prints (formats and approximates) a number in a way it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      # is more readable by humans (e.g.: 1200000000 becomes &quot;1.2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      # Billion&quot;). This is useful for numbers that can get very large</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      # (and too hard to read).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      # See &lt;tt&gt;number_to_human_size&lt;/tt&gt; if you want to print a file</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      # size.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      # You can also define your own unit-quantifier names if you want</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      # to use other decimal units (e.g.: 1500 becomes &quot;1.5</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      # kilometers&quot;, 0.150 becomes &quot;150 milliliters&quot;, etc). You may</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      # define a wide range of unit quantifiers, even fractional ones</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      # (centi, deci, mili, etc).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #   (defaults to current locale).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      #   (defaults to 3).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      #   of significant_digits. If +false+, the number of fractional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">      #   digits (defaults to +true+)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      #   fractional and integer digits (defaults to &quot;.&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      #   to &quot;&quot;).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #   insignificant zeros after the decimal separator (defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #   +true+)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:units&lt;/tt&gt; - A Hash of unit quantifier names. Or a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #   string containing an i18n scope where to find this hash. It</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #   might have the following keys:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      #   * *integers*: &lt;tt&gt;:unit&lt;/tt&gt;, &lt;tt&gt;:ten&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      #     &lt;tt&gt;:hundred&lt;/tt&gt;, &lt;tt&gt;:thousand&lt;/tt&gt;, &lt;tt&gt;:million&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #     &lt;tt&gt;:billion&lt;/tt&gt;, &lt;tt&gt;:trillion&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      #     &lt;tt&gt;:quadrillion&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #   * *fractionals*: &lt;tt&gt;:deci&lt;/tt&gt;, &lt;tt&gt;:centi&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      #     &lt;tt&gt;:mili&lt;/tt&gt;, &lt;tt&gt;:micro&lt;/tt&gt;, &lt;tt&gt;:nano&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      #     &lt;tt&gt;:pico&lt;/tt&gt;, &lt;tt&gt;:femto&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:format&lt;/tt&gt; - Sets the format of the output string</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #   (defaults to &quot;%n %u&quot;). The field types are:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #   * %u - The quantifier (ex.: &#39;thousand&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      #   * %n - The number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      #   the argument is invalid.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">      #   number_to_human(123)                                          # =&gt; &quot;123&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">      #   number_to_human(1234)                                         # =&gt; &quot;1.23 Thousand&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      #   number_to_human(12345)                                        # =&gt; &quot;12.3 Thousand&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      #   number_to_human(1234567)                                      # =&gt; &quot;1.23 Million&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">      #   number_to_human(1234567890)                                   # =&gt; &quot;1.23 Billion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      #   number_to_human(1234567890123)                                # =&gt; &quot;1.23 Trillion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">      #   number_to_human(1234567890123456)                             # =&gt; &quot;1.23 Quadrillion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">      #   number_to_human(1234567890123456789)                          # =&gt; &quot;1230 Quadrillion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">      #   number_to_human(489939, precision: 2)                         # =&gt; &quot;490 Thousand&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">      #   number_to_human(489939, precision: 4)                         # =&gt; &quot;489.9 Thousand&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">      #   number_to_human(1234567, precision: 4,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">      #                           significant: false)                   # =&gt; &quot;1.2346 Million&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">      #   number_to_human(1234567, precision: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">      #                           separator: &#39;,&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      #                           significant: false)                   # =&gt; &quot;1,2 Million&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      #   number_to_human(500000000, precision: 5)                      # =&gt; &quot;500 Million&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      #   number_to_human(12345012345, significant: false)              # =&gt; &quot;12.345 Billion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      # Non-significant zeros after the decimal separator are stripped</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      # out by default (set &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      # +false+ to change that):</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      # number_to_human(12.00001)                                       # =&gt; &quot;12&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      # number_to_human(12.00001, strip_insignificant_zeros: false)     # =&gt; &quot;12.0&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      # ==== Custom Unit Quantifiers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      # You can also use your own custom unit quantifiers:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #  number_to_human(500000, units: {unit: &quot;ml&quot;, thousand: &quot;lt&quot;})  # =&gt; &quot;500 lt&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      # If in your I18n locale you have:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      #   distance:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      #     centi:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      #       one: &quot;centimeter&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      #       other: &quot;centimeters&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      #     unit:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #       one: &quot;meter&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      #       other: &quot;meters&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      #     thousand:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #       one: &quot;kilometer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      #       other: &quot;kilometers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      #     billion: &quot;gazillion-distance&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      # Then you could do:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #  number_to_human(543934, units: :distance)              # =&gt; &quot;544 kilometers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #  number_to_human(54393498, units: :distance)            # =&gt; &quot;54400 kilometers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #  number_to_human(54393498000, units: :distance)         # =&gt; &quot;54.4 gazillion-distance&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #  number_to_human(343, units: :distance, precision: 1)   # =&gt; &quot;300 meters&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #  number_to_human(1, units: :distance)                   # =&gt; &quot;1 meter&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      #  number_to_human(0.34, units: :distance)                # =&gt; &quot;34 centimeters&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="403">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def number_to_human(number, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="404">
            
            

            

            <code class="ruby">        delegate_number_helper_method(:number_to_human, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="408">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def delegate_number_helper_method(method, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="409">
            
            

            

            <code class="ruby">          return unless number</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="410">
            
            

            

            <code class="ruby">          options = escape_unsafe_options(options.symbolize_keys)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="412">
            
            

            

            <code class="ruby">          wrap_with_output_safety_handling(number, options.delete(:raise)) {</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="413">
            
            

            

            <code class="ruby">            ActiveSupport::NumberHelper.public_send(method, number, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="417">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def escape_unsafe_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="418">
            
            

            

            <code class="ruby">          options[:format]          = ERB::Util.html_escape(options[:format]) if options[:format]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="419">
            
            

            

            <code class="ruby">          options[:negative_format] = ERB::Util.html_escape(options[:negative_format]) if options[:negative_format]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="420">
            
            

            

            <code class="ruby">          options[:separator]       = ERB::Util.html_escape(options[:separator]) if options[:separator]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="421">
            
            

            

            <code class="ruby">          options[:delimiter]       = ERB::Util.html_escape(options[:delimiter]) if options[:delimiter]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="422">
            
            

            

            <code class="ruby">          options[:unit]            = ERB::Util.html_escape(options[:unit]) if options[:unit] &amp;&amp; !options[:unit].html_safe?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="423">
            
            

            

            <code class="ruby">          options[:units]           = escape_units(options[:units]) if options[:units] &amp;&amp; Hash === options[:units]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="424">
            
            

            

            <code class="ruby">          options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="427">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def escape_units(units)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="428">
            
            

            

            <code class="ruby">          units.transform_values do |v|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="429">
            
            

            

            <code class="ruby">            ERB::Util.html_escape(v)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="433">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def wrap_with_output_safety_handling(number, raise_on_invalid, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="434">
            
            

            

            <code class="ruby">          valid_float = valid_float?(number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="435">
            
            

            

            <code class="ruby">          raise InvalidNumberError, number if raise_on_invalid &amp;&amp; !valid_float</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="437">
            
            

            

            <code class="ruby">          formatted_number = yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="439">
            
            

            

            <code class="ruby">          if valid_float || number.html_safe?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="440">
            
            

            

            <code class="ruby">            formatted_number.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="442">
            
            

            

            <code class="ruby">            formatted_number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def valid_float?(number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="447">
            
            

            

            <code class="ruby">          !parse_float(number, false).nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="450">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def parse_float(number, raise_error)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="451">
            
            

            

            <code class="ruby">          Float(number)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">        rescue ArgumentError, TypeError</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="453">
            
            

            

            <code class="ruby">          raise InvalidNumberError, number if raise_error</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bf8986d5096b7f9bcfd696934db15ed72e525b18">
  <div class="header">
    <h3>lib/action_view/helpers/output_safety_helper.rb</h3>
    <h4>
      <span class="red">
  33.33%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>21</b> relevant lines.
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>14</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # = Action View Raw Output Helper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module OutputSafetyHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">      # This method outputs without escaping a string. Since escaping tags is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      # now default, this can be used when you don&#39;t want Rails to automatically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # escape tags. This is not recommended if the data is coming from the user&#39;s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      # input.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #  raw @user.name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      #  # =&gt; &#39;Jimmy &lt;alert&gt;Tables&lt;/alert&gt;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def raw(stringish)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">        stringish.to_s.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      # This method returns an HTML safe string similar to what &lt;tt&gt;Array#join&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      # would return. The array is flattened, and all items, including</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      # the supplied separator, are HTML escaped unless they are HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # safe, and the returned string is marked as HTML safe.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      #   safe_join([raw(&quot;&lt;p&gt;foo&lt;/p&gt;&quot;), &quot;&lt;p&gt;bar&lt;/p&gt;&quot;], &quot;&lt;br /&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;foo&lt;/p&gt;&amp;lt;br /&amp;gt;&amp;lt;p&amp;gt;bar&amp;lt;/p&amp;gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      #   safe_join([raw(&quot;&lt;p&gt;foo&lt;/p&gt;&quot;), raw(&quot;&lt;p&gt;bar&lt;/p&gt;&quot;)], raw(&quot;&lt;br /&gt;&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;foo&lt;/p&gt;&lt;br /&gt;&lt;p&gt;bar&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def safe_join(array, sep = $,)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">        sep = ERB::Util.unwrapped_html_escape(sep)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">        array.flatten.map! { |i| ERB::Util.unwrapped_html_escape(i) }.join(sep).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # Converts the array to a comma-separated sentence where the last element is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      # joined by the connector word. This is the html_safe-aware version of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # ActiveSupport&#39;s {Array#to_sentence}[https://api.rubyonrails.org/classes/Array.html#method-i-to_sentence].</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def to_sentence(array, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">        options.assert_valid_keys(:words_connector, :two_words_connector, :last_word_connector, :locale)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        default_connectors = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">          words_connector: &quot;, &quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">          two_words_connector: &quot; and &quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">          last_word_connector: &quot;, and &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">        if defined?(I18n)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">          i18n_connectors = I18n.translate(:&#39;support.array&#39;, locale: options[:locale], default: {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">          default_connectors.merge!(i18n_connectors)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">        options = default_connectors.merge!(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="57">
            
            

            

            <code class="ruby">        case array.length</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">        when 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">          &quot;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">        when 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="61">
            
            

            

            <code class="ruby">          ERB::Util.html_escape(array[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">        when 2</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">          safe_join([array[0], array[1]], options[:two_words_connector])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">          safe_join([safe_join(array[0...-1], options[:words_connector]), options[:last_word_connector], array[-1]], nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b28ce7e2d205eb53769a97f84dca56ccb1cb7b9f">
  <div class="header">
    <h3>lib/action_view/helpers/rendering_helper.rb</h3>
    <h4>
      <span class="red">
  29.41%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>17</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>12</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">    # = Action View Rendering</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">    # Implements methods that allow rendering from a view context.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    # In order to use this module, all you need is to implement</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # view_renderer that returns an ActionView::Renderer object.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module RenderingHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # Returns the result of a render that&#39;s dictated by the options hash. The primary options are:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:partial&lt;/tt&gt; - See &lt;tt&gt;ActionView::PartialRenderer&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:file&lt;/tt&gt; - Renders an explicit template file (this used to be the old default), add :locals to pass in those.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:inline&lt;/tt&gt; - Renders an inline template similar to how it&#39;s done in the controller.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:plain&lt;/tt&gt; - Renders the text passed in out. Setting the content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      #   type as &lt;tt&gt;text/plain&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:html&lt;/tt&gt; - Renders the HTML safe string passed in out, otherwise</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      #   performs HTML escape on the string first. Setting the content type as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;text/html&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:body&lt;/tt&gt; - Renders the text passed in, and inherits the content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      #   type of &lt;tt&gt;text/plain&lt;/tt&gt; from &lt;tt&gt;ActionDispatch::Response&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      #   object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # If no &lt;tt&gt;options&lt;/tt&gt; hash is passed or if &lt;tt&gt;:update&lt;/tt&gt; is specified, then:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      # If an object responding to `render_in` is passed, `render_in` is called on the object,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      # passing in the current view context.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # Otherwise, a partial is rendered using the second parameter as the locals hash.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def render(options = {}, locals = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">        case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">          in_rendering_context(options) do |renderer|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="35">
            
            

            

            <code class="ruby">            if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">              view_renderer.render_partial(self, options.merge(partial: options[:layout]), &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">              view_renderer.render(self, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">          if options.respond_to?(:render_in)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">            options.render_in(self, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">            view_renderer.render_partial(self, partial: options, locals: locals, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      # Overwrites _layout_for in the context object so it supports the case a block is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      # passed to a partial. Returns the contents that are yielded to a layout, given a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      # name or a block.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      # You can think of a layout as a method that is called with a block. If the user calls</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # &lt;tt&gt;yield :some_name&lt;/tt&gt;, the block, by default, returns &lt;tt&gt;content_for(:some_name)&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # If the user calls simply +yield+, the default block returns &lt;tt&gt;content_for(:layout)&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      # The user can override this default by passing a block to the layout:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   # The template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #   &lt;%= render layout: &quot;my_layout&quot; do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      #     Content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #   # The layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #   &lt;html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #     &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # In this case, instead of the default block, which would return &lt;tt&gt;content_for(:layout)&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      # this method returns the block that was passed in to &lt;tt&gt;render :layout&lt;/tt&gt;, and the response</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      # would be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #   &lt;html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #     Content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      # Finally, the block can take block arguments, which can be passed in by +yield+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   # The template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #   &lt;%= render layout: &quot;my_layout&quot; do |customer| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #     Hello &lt;%= customer.name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #   # The layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #   &lt;html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      #     &lt;%= yield Struct.new(:name).new(&quot;David&quot;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      # In this case, the layout would receive the block passed into &lt;tt&gt;render :layout&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      # and the struct specified would be passed into the block as an argument. The result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      # would be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #   &lt;html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #     Hello David</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      #   &lt;/html&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _layout_for(*args, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">        name = args.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">        if block &amp;&amp; !name.is_a?(Symbol)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">          capture(*args, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">          super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="67601e9252e85cd952983f6c0c55e00e723bedde">
  <div class="header">
    <h3>lib/action_view/helpers/sanitize_helper.rb</h3>
    <h4>
      <span class="red">
  62.96%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>27</b> relevant lines.
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>10</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;rails-html-sanitizer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # = Action View Sanitize Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    # The SanitizeHelper module provides a set of methods for scrubbing text of undesired HTML elements.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # These helper methods extend Action View making them callable within your template files.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module SanitizeHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      # Sanitizes HTML input, stripping all but known-safe tags and attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # It also strips href/src attributes with unsafe protocols like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # &lt;tt&gt;javascript:&lt;/tt&gt;, while also protecting against attempts to use Unicode,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      # ASCII, and hex character references to work around these protocol filters.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # All special characters will be escaped.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      # The default sanitizer is Rails::Html::SafeListSanitizer. See {Rails HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      # Sanitizers}[https://github.com/rails/rails-html-sanitizer] for more information.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      # Custom sanitization rules can also be provided.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      # Please note that sanitizing user-provided text does not guarantee that the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # resulting markup is valid or even well-formed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:tags&lt;/tt&gt; - An array of allowed tags.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:attributes&lt;/tt&gt; - An array of allowed attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:scrubber&lt;/tt&gt; - A {Rails::Html scrubber}[https://github.com/rails/rails-html-sanitizer]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #   or {Loofah::Scrubber}[https://github.com/flavorjones/loofah] object that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      #   defines custom sanitization rules. A custom scrubber takes precedence over</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #   custom tags and attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      # Normal use:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      #   &lt;%= sanitize @comment.body %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      # Providing custom lists of permitted tags and attributes:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #   &lt;%= sanitize @comment.body, tags: %w(strong em a), attributes: %w(href) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      # Providing a custom Rails::Html scrubber:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #   class CommentScrubber &lt; Rails::Html::PermitScrubber</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #     def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #       super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #       self.tags = %w( form script comment blockquote )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #       self.attributes = %w( style )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      #     def skip_node?(node)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      #       node.text?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   &lt;%= sanitize @comment.body, scrubber: CommentScrubber.new %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      # See {Rails HTML Sanitizer}[https://github.com/rails/rails-html-sanitizer] for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      # documentation about Rails::Html scrubbers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      # Providing a custom Loofah::Scrubber:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #   scrubber = Loofah::Scrubber.new do |node|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #     node.remove if node.name == &#39;script&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #   &lt;%= sanitize @comment.body, scrubber: scrubber %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      # See {Loofah&#39;s documentation}[https://github.com/flavorjones/loofah] for more</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      # information about defining custom Loofah::Scrubber objects.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      # To set the default allowed tags or attributes across your application:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #   # In config/application.rb</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #   config.action_view.sanitized_allowed_tags = [&#39;strong&#39;, &#39;em&#39;, &#39;a&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   config.action_view.sanitized_allowed_attributes = [&#39;href&#39;, &#39;title&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def sanitize(html, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">        self.class.safe_list_sanitizer.sanitize(html, options)&amp;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      # Sanitizes a block of CSS code. Used by +sanitize+ when it comes across a style attribute.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def sanitize_css(style)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">        self.class.safe_list_sanitizer.sanitize_css(style)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      # Strips all HTML tags from +html+, including comments and special characters.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #   strip_tags(&quot;Strip &lt;i&gt;these&lt;/i&gt; tags!&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #   # =&gt; Strip these tags!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #   strip_tags(&quot;&lt;b&gt;Bold&lt;/b&gt; no more!  &lt;a href=&#39;more.html&#39;&gt;See more here&lt;/a&gt;...&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      #   # =&gt; Bold no more!  See more here...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      #   strip_tags(&quot;&lt;div id=&#39;top-bar&#39;&gt;Welcome to my website!&lt;/div&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      #   # =&gt; Welcome to my website!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      #   strip_tags(&quot;&gt; A quote from Smith &amp; Wesson&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #   # =&gt; &amp;gt; A quote from Smith &amp;amp; Wesson</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def strip_tags(html)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        self.class.full_sanitizer.sanitize(html)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # Strips all link tags from +html+ leaving just the link text.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #   strip_links(&#39;&lt;a href=&quot;http://www.rubyonrails.org&quot;&gt;Ruby on Rails&lt;/a&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      #   # =&gt; Ruby on Rails</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #   strip_links(&#39;Please e-mail me at &lt;a href=&quot;mailto:me@email.com&quot;&gt;me@email.com&lt;/a&gt;.&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #   # =&gt; Please e-mail me at me@email.com.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      #   strip_links(&#39;Blog: &lt;a href=&quot;http://www.myblog.com/&quot; class=&quot;nav&quot; target=\&quot;_blank\&quot;&gt;Visit&lt;/a&gt;.&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      #   # =&gt; Blog: Visit.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #   strip_links(&#39;&lt;&lt;a href=&quot;https://example.org&quot;&gt;malformed &amp; link&lt;/a&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #   # =&gt; &amp;lt;malformed &amp;amp; link</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def strip_links(html)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="121">
            
            

            

            <code class="ruby">        self.class.link_sanitizer.sanitize(html)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">      module ClassMethods #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_writer :full_sanitizer, :link_sanitizer, :safe_list_sanitizer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def sanitizer_vendor</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">          Rails::Html::Sanitizer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def sanitized_allowed_tags</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="132">
            
            

            

            <code class="ruby">          safe_list_sanitizer.allowed_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def sanitized_allowed_attributes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">          safe_list_sanitizer.allowed_attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">        # Gets the Rails::Html::FullSanitizer instance used by +strip_tags+. Replace with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">        # any object that responds to +sanitize+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">        #   class Application &lt; Rails::Application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        #     config.action_view.full_sanitizer = MySpecialSanitizer.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">        #   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def full_sanitizer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">          @full_sanitizer ||= sanitizer_vendor.full_sanitizer.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">        # Gets the Rails::Html::LinkSanitizer instance used by +strip_links+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">        # Replace with any object that responds to +sanitize+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">        #   class Application &lt; Rails::Application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">        #     config.action_view.link_sanitizer = MySpecialSanitizer.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">        #   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def link_sanitizer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="156">
            
            

            

            <code class="ruby">          @link_sanitizer ||= sanitizer_vendor.link_sanitizer.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">        # Gets the Rails::Html::SafeListSanitizer instance used by sanitize and +sanitize_css+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">        # Replace with any object that responds to +sanitize+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">        #   class Application &lt; Rails::Application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">        #     config.action_view.safe_list_sanitizer = MySpecialSanitizer.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">        #   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def safe_list_sanitizer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="166">
            
            

            

            <code class="ruby">          @safe_list_sanitizer ||= sanitizer_vendor.safe_list_sanitizer.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6c96d22916c60798e83c8fe37b3b50821d86b4ce">
  <div class="header">
    <h3>lib/action_view/helpers/tag_helper.rb</h3>
    <h4>
      <span class="red">
  41.58%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>101</b> relevant lines.
      <span class="green"><b>42</b> lines covered</span> and
      <span class="red"><b>59</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;set&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # = Action View Tag Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # Provides methods to generate HTML tags programmatically both as a modern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # HTML5 compliant builder style and legacy XHTML compliant tags.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include CaptureHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include OutputSafetyHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      BOOLEAN_ATTRIBUTES = %w(allowfullscreen allowpaymentrequest async autofocus</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">                              autoplay checked compact controls declare default</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">                              defaultchecked defaultmuted defaultselected defer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">                              disabled enabled formnovalidate hidden indeterminate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">                              inert ismap itemscope loop multiple muted nohref</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                              nomodule noresize noshade novalidate nowrap open</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                              pauseonexit playsinline readonly required reversed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                              scoped seamless selected sortable truespeed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                              typemustmatch visible).to_set</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      BOOLEAN_ATTRIBUTES.merge(BOOLEAN_ATTRIBUTES.map(&amp;:to_sym))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">      BOOLEAN_ATTRIBUTES.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">      TAG_PREFIXES = [&quot;aria&quot;, &quot;data&quot;, :aria, :data].to_set.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">      TAG_TYPES = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">      TAG_TYPES.merge! BOOLEAN_ATTRIBUTES.index_with(:boolean)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">      TAG_TYPES.merge! TAG_PREFIXES.index_with(:prefix)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">      TAG_TYPES.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PRE_CONTENT_STRINGS             = Hash.new { &quot;&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PRE_CONTENT_STRINGS[:textarea]  = &quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PRE_CONTENT_STRINGS[&quot;textarea&quot;] = &quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class TagBuilder #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">        include CaptureHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">        include OutputSafetyHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">        VOID_ELEMENTS = %i(area base br col embed hr img input keygen link meta param source track wbr).to_set</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(view_context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">          @view_context = view_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def tag_string(name, content = nil, escape_attributes: true, **options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">          content = @view_context.capture(self, &amp;block) if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">          if VOID_ELEMENTS.include?(name) &amp;&amp; content.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">            &quot;&lt;#{name.to_s.dasherize}#{tag_options(options, escape_attributes)}&gt;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">            content_tag_string(name.to_s.dasherize, content || &quot;&quot;, options, escape_attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def content_tag_string(name, content, options, escape = true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">          tag_options = tag_options(options, escape) if options</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="61">
            
            

            

            <code class="ruby">          content     = ERB::Util.unwrapped_html_escape(content) if escape</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="62">
            
            

            

            <code class="ruby">          &quot;&lt;#{name}#{tag_options}&gt;#{PRE_CONTENT_STRINGS[name]}#{content}&lt;/#{name}&gt;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def tag_options(options, escape = true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">          return if options.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">          output = +&quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="68">
            
            

            

            <code class="ruby">          sep    = &quot; &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">          options.each_pair do |key, value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">            type = TAG_TYPES[key]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">            if type == :prefix &amp;&amp; value.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="72">
            
            

            

            <code class="ruby">              value.each_pair do |k, v|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">                next if v.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">                output &lt;&lt; sep</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">                output &lt;&lt; prefix_tag_option(key, k, v, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">            elsif type == :boolean</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">              if value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">                output &lt;&lt; sep</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">                output &lt;&lt; boolean_tag_option(key)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">            elsif !value.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="83">
            
            

            

            <code class="ruby">              output &lt;&lt; sep</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">              output &lt;&lt; tag_option(key, value, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">          output unless output.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def boolean_tag_option(key)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">          %(#{key}=&quot;#{key}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def tag_option(key, value, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">          case value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">          when Array, Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">            value = TagHelper.build_tag_values(value) if key.to_s == &quot;class&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">            value = escape ? safe_join(value, &quot; &quot;) : value.join(&quot; &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">            value = escape ? ERB::Util.unwrapped_html_escape(value) : value.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">          value = value.gsub(&#39;&quot;&#39;, &quot;&amp;quot;&quot;) if value.include?(&#39;&quot;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">          %(#{key}=&quot;#{value}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">        private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def prefix_tag_option(prefix, key, value, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="108">
            
            

            

            <code class="ruby">            key = &quot;#{prefix}-#{key.to_s.dasherize}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">            unless value.is_a?(String) || value.is_a?(Symbol) || value.is_a?(BigDecimal)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">              value = value.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="112">
            
            

            

            <code class="ruby">            tag_option(key, value, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def respond_to_missing?(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">            true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def method_missing(called, *args, **options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">            tag_string(called, *args, **options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      # Returns an HTML tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      # === Building HTML tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      # Builds HTML5 compliant tags with a tag proxy. Every tag can be built with:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #   tag.&lt;tag name&gt;(optional content, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # where tag name can be e.g. br, div, section, article, or any tag really.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      # ==== Passing content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      # Tags can pass content to embed within it:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #   tag.h1 &#39;All titles fit to print&#39; # =&gt; &lt;h1&gt;All titles fit to print&lt;/h1&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      #   tag.div tag.p(&#39;Hello world!&#39;)  # =&gt; &lt;div&gt;&lt;p&gt;Hello world!&lt;/p&gt;&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      # Content can also be captured with a block, which is useful in templates:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      #   &lt;%= tag.p do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      #     The next great American novel starts here.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;p&gt;The next great American novel starts here.&lt;/p&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      # Use symbol keyed options to add attributes to the generated tag.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      #   tag.section class: %w( kitties puppies )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;section class=&quot;kitties puppies&quot;&gt;&lt;/section&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      #   tag.section id: dom_id(@post)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;section id=&quot;&lt;generated dom id&gt;&quot;&gt;&lt;/section&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      # Pass +true+ for any attributes that can render with no values, like +disabled+ and +readonly+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #   tag.input type: &#39;text&#39;, disabled: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; disabled=&quot;disabled&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      # HTML5 &lt;tt&gt;data-*&lt;/tt&gt; attributes can be set with a single +data+ key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      # pointing to a hash of sub-attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      # To play nicely with JavaScript conventions, sub-attributes are dasherized.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #   tag.article data: { user_id: 123 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;article data-user-id=&quot;123&quot;&gt;&lt;/article&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      # Thus &lt;tt&gt;data-user-id&lt;/tt&gt; can be accessed as &lt;tt&gt;dataset.userId&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      # Data attribute values are encoded to JSON, with the exception of strings, symbols and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      # BigDecimals.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      # This may come in handy when using jQuery&#39;s HTML5-aware &lt;tt&gt;.data()&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      # from 1.4.3.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #   tag.div data: { city_state: %w( Chicago IL ) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;div data-city-state=&quot;[&amp;quot;Chicago&amp;quot;,&amp;quot;IL&amp;quot;]&quot;&gt;&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      # The generated attributes are escaped by default. This can be disabled using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      # +escape_attributes+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #   tag.img src: &#39;open &amp; shut.png&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;open &amp;amp; shut.png&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      #   tag.img src: &#39;open &amp; shut.png&#39;, escape_attributes: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;open &amp; shut.png&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      # The tag builder respects</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      # {HTML5 void elements}[https://www.w3.org/TR/html5/syntax.html#void-elements]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      # if no content is passed, and omits closing tags for those elements.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      #   # A standard element:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      #   tag.div # =&gt; &lt;div&gt;&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      #   # A void element:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">      #   tag.br  # =&gt; &lt;br&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">      # === Legacy syntax</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      # The following format is for legacy syntax support. It will be deprecated in future versions of Rails.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      #   tag(name, options = nil, open = false, escape = true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      # It returns an empty HTML tag of type +name+ which by default is XHTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # compliant. Set +open+ to true to create an open tag compatible</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # with HTML 4.0 and below. Add HTML attributes by passing an attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      # hash to +options+. Set +escape+ to false to disable attribute value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      # escaping.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      # You can use symbols or strings for the attribute names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      # Use +true+ with boolean attributes that can render with no value, like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      # +disabled+ and +readonly+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      # HTML5 &lt;tt&gt;data-*&lt;/tt&gt; attributes can be set with a single +data+ key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      # pointing to a hash of sub-attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      #   tag(&quot;br&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;br /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      #   tag(&quot;br&quot;, nil, true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;br&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      #   tag(&quot;input&quot;, type: &#39;text&#39;, disabled: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input type=&quot;text&quot; disabled=&quot;disabled&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      #   tag(&quot;input&quot;, type: &#39;text&#39;, class: [&quot;strong&quot;, &quot;highlight&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;input class=&quot;strong highlight&quot; type=&quot;text&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      #   tag(&quot;img&quot;, src: &quot;open &amp; shut.png&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;open &amp;amp; shut.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      #   tag(&quot;img&quot;, { src: &quot;open &amp;amp; shut.png&quot; }, false, false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;img src=&quot;open &amp;amp; shut.png&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #   tag(&quot;div&quot;, data: { name: &#39;Stephen&#39;, city_state: %w(Chicago IL) })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;div data-name=&quot;Stephen&quot; data-city-state=&quot;[&amp;quot;Chicago&amp;quot;,&amp;quot;IL&amp;quot;]&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #   tag(&quot;div&quot;, class: { highlight: current_user.admin? })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;div class=&quot;highlight&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def tag(name = nil, options = nil, open = false, escape = true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="249">
            
            

            

            <code class="ruby">        if name.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="250">
            
            

            

            <code class="ruby">          tag_builder</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="252">
            
            

            

            <code class="ruby">          &quot;&lt;#{name}#{tag_builder.tag_options(options, escape) if options}#{open ? &quot;&gt;&quot; : &quot; /&gt;&quot;}&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      # Returns an HTML block tag of type +name+ surrounding the +content+. Add</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      # HTML attributes by passing an attributes hash to +options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      # Instead of passing the content as an argument, you can also use a block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      # in which case, you pass your +options+ as the second parameter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      # Set escape to false to disable attribute value escaping.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      # Note: this is legacy syntax, see +tag+ method description for details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      # The +options+ hash can be used with attributes with no value like (&lt;tt&gt;disabled&lt;/tt&gt; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      # &lt;tt&gt;readonly&lt;/tt&gt;), which you can give a value of true in the +options+ hash. You can use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      # symbols or strings for the attribute names.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      #   content_tag(:p, &quot;Hello world!&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      #    # =&gt; &lt;p&gt;Hello world!&lt;/p&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      #   content_tag(:div, content_tag(:p, &quot;Hello world!&quot;), class: &quot;strong&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      #    # =&gt; &lt;div class=&quot;strong&quot;&gt;&lt;p&gt;Hello world!&lt;/p&gt;&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      #   content_tag(:div, &quot;Hello world!&quot;, class: [&quot;strong&quot;, &quot;highlight&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      #    # =&gt; &lt;div class=&quot;strong highlight&quot;&gt;Hello world!&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      #   content_tag(:div, &quot;Hello world!&quot;, class: [&quot;strong&quot;, { highlight: current_user.admin? }])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      #    # =&gt; &lt;div class=&quot;strong highlight&quot;&gt;Hello world!&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #   content_tag(&quot;select&quot;, options, multiple: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      #    # =&gt; &lt;select multiple=&quot;multiple&quot;&gt;...options...&lt;/select&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      #   &lt;%= content_tag :div, class: &quot;strong&quot; do -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #     Hello world!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      #   &lt;% end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      #    # =&gt; &lt;div class=&quot;strong&quot;&gt;Hello world!&lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="284">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def content_tag(name, content_or_options_with_block = nil, options = nil, escape = true, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">        if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">          options = content_or_options_with_block if content_or_options_with_block.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="287">
            
            

            

            <code class="ruby">          tag_builder.content_tag_string(name, capture(&amp;block), options, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="289">
            
            

            

            <code class="ruby">          tag_builder.content_tag_string(name, content_or_options_with_block, options, escape)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      # Returns a string of class names built from +args+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #   class_names(&quot;foo&quot;, &quot;bar&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      #    # =&gt; &quot;foo bar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #   class_names({ foo: true, bar: false })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      #    # =&gt; &quot;foo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      #   class_names(nil, false, 123, &quot;&quot;, &quot;foo&quot;, { bar: true })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      #    # =&gt; &quot;123 foo bar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="302">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def class_names(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="303">
            
            

            

            <code class="ruby">        safe_join(build_tag_values(*args), &quot; &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      # Returns a CDATA section with the given +content+. CDATA sections</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      # are used to escape blocks of text containing characters which would</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      # otherwise be recognized as markup. CDATA sections begin with the string</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">      # &lt;tt&gt;&lt;![CDATA[&lt;/tt&gt; and end with (and may not contain) the string &lt;tt&gt;]]&gt;&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">      #   cdata_section(&quot;&lt;hello world&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;![CDATA[&lt;hello world&gt;]]&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      #   cdata_section(File.read(&quot;hello_world.txt&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;![CDATA[&lt;hello from a text file]]&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      #   cdata_section(&quot;hello]]&gt;world&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;![CDATA[hello]]]]&gt;&lt;![CDATA[&gt;world]]&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="319">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cdata_section(content)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="320">
            
            

            

            <code class="ruby">        splitted = content.to_s.gsub(/\]\]\&gt;/, &quot;]]]]&gt;&lt;![CDATA[&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="321">
            
            

            

            <code class="ruby">        &quot;&lt;![CDATA[#{splitted}]]&gt;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      # Returns an escaped version of +html+ without affecting existing escaped entities.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      #   escape_once(&quot;1 &lt; 2 &amp;amp; 3&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;1 &amp;lt; 2 &amp;amp; 3&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #   escape_once(&quot;&amp;lt;&amp;lt; Accept &amp; Checkout&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&amp;lt;&amp;lt; Accept &amp;amp; Checkout&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="331">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def escape_once(html)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="332">
            
            

            

            <code class="ruby">        ERB::Util.html_escape_once(html)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="335">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="336">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def build_tag_values(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="337">
            
            

            

            <code class="ruby">          tag_values = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="339">
            
            

            

            <code class="ruby">          args.each do |tag_value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="340">
            
            

            

            <code class="ruby">            case tag_value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">            when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="342">
            
            

            

            <code class="ruby">              tag_value.each do |key, val|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="343">
            
            

            

            <code class="ruby">                tag_values &lt;&lt; key.to_s if val &amp;&amp; key.present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">            when Array</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="346">
            
            

            

            <code class="ruby">              tag_values.concat build_tag_values(*tag_value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="348">
            
            

            

            <code class="ruby">              tag_values &lt;&lt; tag_value.to_s if tag_value.present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="352">
            
            

            

            <code class="ruby">          tag_values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="354">
            <span class="hits">1</span>
            

            

            <code class="ruby">        module_function :build_tag_values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="356">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def tag_builder</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="357">
            
            

            

            <code class="ruby">          @tag_builder ||= TagBuilder.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c5196ae90bc7f067540ecdc3249048ac0fcec27a">
  <div class="header">
    <h3>lib/action_view/helpers/tags.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>37</b> relevant lines.
      <span class="green"><b>37</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Tags #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Autoload</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      eager_autoload do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :Translator</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :CheckBox</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :CollectionCheckBoxes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :CollectionRadioButtons</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :CollectionSelect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :ColorField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :DateField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :DateSelect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :DatetimeField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :DatetimeLocalField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :DatetimeSelect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :EmailField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :FileField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :GroupedCollectionSelect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :HiddenField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :Label</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :MonthField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :NumberField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :PasswordField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :RadioButton</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :RangeField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :SearchField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :Select</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :TelField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :TextArea</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :TextField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :TimeField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :TimeSelect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :TimeZoneSelect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :UrlField</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :WeekField</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="500bfbac252df54fdfda6b8882351b3e982cbaa1">
  <div class="header">
    <h3>lib/action_view/helpers/tags/base.rb</h3>
    <h4>
      <span class="red">
  25.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>108</b> relevant lines.
      <span class="green"><b>27</b> lines covered</span> and
      <span class="red"><b>81</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Tags # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class Base # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">        include Helpers::ActiveModelInstanceTag, Helpers::TagHelper, Helpers::FormTagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">        include FormOptionsHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_reader :object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(object_name, method_name, template_object, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="13">
            
            

            

            <code class="ruby">          @object_name, @method_name = object_name.to_s.dup, method_name.to_s.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">          @template_object = template_object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">          @object_name.sub!(/\[\]$/, &quot;&quot;) || @object_name.sub!(/\[\]\]$/, &quot;]&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">          @object = retrieve_object(options.delete(:object))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">          @skip_default_ids = options.delete(:skip_default_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">          @allow_method_names_outside_object = options.delete(:allow_method_names_outside_object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">          @options = options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">          if Regexp.last_match</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">            @generate_indexed_names = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">            @auto_index = retrieve_autoindex(Regexp.last_match.pre_match)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">            @generate_indexed_names = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">            @auto_index = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">        # This is what child classes implement.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def render</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">          raise NotImplementedError, &quot;Subclasses must implement a render method&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">        private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">            if @allow_method_names_outside_object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">              object.public_send @method_name if object &amp;&amp; object.respond_to?(@method_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">              object.public_send @method_name if object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def value_before_type_cast</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">            unless object.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">              method_before_type_cast = @method_name + &quot;_before_type_cast&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">              if value_came_from_user? &amp;&amp; object.respond_to?(method_before_type_cast)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">                object.public_send(method_before_type_cast)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">              else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">                value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def value_came_from_user?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="58">
            
            

            

            <code class="ruby">            method_name = &quot;#{@method_name}_came_from_user?&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">            !object.respond_to?(method_name) || object.public_send(method_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def retrieve_object(object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">            if object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">              object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">            elsif @template_object.instance_variable_defined?(&quot;@#{@object_name}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">              @template_object.instance_variable_get(&quot;@#{@object_name}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">          rescue NameError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">            # As @object_name may contain the nested syntax (item[subobject]) we need to fallback to nil.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">            nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def retrieve_autoindex(pre_match)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">            object = self.object || @template_object.instance_variable_get(&quot;@#{pre_match}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">            if object &amp;&amp; object.respond_to?(:to_param)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">              object.to_param</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">              raise ArgumentError, &quot;object[] naming but object param and @object var don&#39;t exist or don&#39;t respond to to_param: #{object.inspect}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_default_name_and_id_for_value(tag_value, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="83">
            
            

            

            <code class="ruby">            if tag_value.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">              add_default_name_and_id(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">              specified_id = options[&quot;id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">              add_default_name_and_id(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">              if specified_id.blank? &amp;&amp; options[&quot;id&quot;].present?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="90">
            
            

            

            <code class="ruby">                options[&quot;id&quot;] += &quot;_#{sanitized_value(tag_value)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_default_name_and_id(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">            index = name_and_id_index(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">            options[&quot;name&quot;] = options.fetch(&quot;name&quot;) { tag_name(options[&quot;multiple&quot;], index) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">            if generate_ids?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">              options[&quot;id&quot;] = options.fetch(&quot;id&quot;) { tag_id(index) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">              if namespace = options.delete(&quot;namespace&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">                options[&quot;id&quot;] = options[&quot;id&quot;] ? &quot;#{namespace}_#{options[&#39;id&#39;]}&quot; : namespace</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def tag_name(multiple = false, index = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">            # a little duplication to construct fewer strings</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">            case</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">            when @object_name.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="111">
            
            

            

            <code class="ruby">              &quot;#{sanitized_method_name}#{multiple ? &quot;[]&quot; : &quot;&quot;}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">            when index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">              &quot;#{@object_name}[#{index}][#{sanitized_method_name}]#{multiple ? &quot;[]&quot; : &quot;&quot;}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="115">
            
            

            

            <code class="ruby">              &quot;#{@object_name}[#{sanitized_method_name}]#{multiple ? &quot;[]&quot; : &quot;&quot;}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def tag_id(index = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">            # a little duplication to construct fewer strings</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">            case</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">            when @object_name.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">              sanitized_method_name.dup</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">            when index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="125">
            
            

            

            <code class="ruby">              &quot;#{sanitized_object_name}_#{index}_#{sanitized_method_name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="127">
            
            

            

            <code class="ruby">              &quot;#{sanitized_object_name}_#{sanitized_method_name}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def sanitized_object_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="132">
            
            

            

            <code class="ruby">            @sanitized_object_name ||= @object_name.gsub(/\]\[|[^-a-zA-Z0-9:.]/, &quot;_&quot;).delete_suffix(&quot;_&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def sanitized_method_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">            @sanitized_method_name ||= @method_name.delete_suffix(&quot;?&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="139">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def sanitized_value(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="140">
            
            

            

            <code class="ruby">            value.to_s.gsub(/[\s\.]/, &quot;_&quot;).gsub(/[^-[[:word:]]]/, &quot;&quot;).downcase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def select_content_tag(option_tags, options, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="144">
            
            

            

            <code class="ruby">            html_options = html_options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="145">
            
            

            

            <code class="ruby">            add_default_name_and_id(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">            if placeholder_required?(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">              raise ArgumentError, &quot;include_blank cannot be false for a required field.&quot; if options[:include_blank] == false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="149">
            
            

            

            <code class="ruby">              options[:include_blank] ||= true unless options[:prompt]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">            value = options.fetch(:selected) { value() }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="153">
            
            

            

            <code class="ruby">            select = content_tag(&quot;select&quot;, add_options(option_tags, options, value), html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="155">
            
            

            

            <code class="ruby">            if html_options[&quot;multiple&quot;] &amp;&amp; options.fetch(:include_hidden, true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="156">
            
            

            

            <code class="ruby">              tag(&quot;input&quot;, disabled: html_options[&quot;disabled&quot;], name: html_options[&quot;name&quot;], type: &quot;hidden&quot;, value: &quot;&quot;) + select</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="158">
            
            

            

            <code class="ruby">              select</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def placeholder_required?(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">            # See https://html.spec.whatwg.org/multipage/forms.html#attr-select-required</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="164">
            
            

            

            <code class="ruby">            html_options[&quot;required&quot;] &amp;&amp; !html_options[&quot;multiple&quot;] &amp;&amp; html_options.fetch(&quot;size&quot;, 1).to_i == 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_options(option_tags, options, value = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="168">
            
            

            

            <code class="ruby">            if options[:include_blank]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="169">
            
            

            

            <code class="ruby">              content = (options[:include_blank] if options[:include_blank].is_a?(String))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="170">
            
            

            

            <code class="ruby">              label = (&quot; &quot; unless content)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="171">
            
            

            

            <code class="ruby">              option_tags = tag_builder.content_tag_string(&quot;option&quot;, content, value: &quot;&quot;, label: label) + &quot;\n&quot; + option_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="174">
            
            

            

            <code class="ruby">            if value.blank? &amp;&amp; options[:prompt]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="175">
            
            

            

            <code class="ruby">              tag_options = { value: &quot;&quot; }.tap do |prompt_opts|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="176">
            
            

            

            <code class="ruby">                prompt_opts[:disabled] = true if options[:disabled] == &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">                prompt_opts[:selected] = true if options[:selected] == &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="179">
            
            

            

            <code class="ruby">              option_tags = tag_builder.content_tag_string(&quot;option&quot;, prompt_text(options[:prompt]), tag_options) + &quot;\n&quot; + option_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="182">
            
            

            

            <code class="ruby">            option_tags</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def name_and_id_index(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="186">
            
            

            

            <code class="ruby">            if options.key?(&quot;index&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">              options.delete(&quot;index&quot;) || &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="188">
            
            

            

            <code class="ruby">            elsif @generate_indexed_names</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">              @auto_index || &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="193">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def generate_ids?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="194">
            
            

            

            <code class="ruby">            !@skip_default_ids</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e017e3bc468a2faa2a5f55db2a50242df62a1174">
  <div class="header">
    <h3>lib/action_view/helpers/text_helper.rb</h3>
    <h4>
      <span class="red">
  28.69%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>122</b> relevant lines.
      <span class="green"><b>35</b> lines covered</span> and
      <span class="red"><b>87</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/filters&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/array/extract_options&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # = Action View Text Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # The TextHelper module provides a set of methods for filtering, formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # and transforming strings, which can reduce the amount of inline Ruby code in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    # your views. These helper methods extend Action View making them callable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # within your template files.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # ==== Sanitization</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    # Most text helpers that generate HTML output sanitize the given input by default,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    # but do not escape it. This means HTML tags will appear in the page but all malicious</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    # code will be removed. Let&#39;s look at some examples using the +simple_format+ method:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    #   simple_format(&#39;&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    #   # =&gt; &quot;&lt;p&gt;&lt;a href=\&quot;http://example.com/\&quot;&gt;Example&lt;/a&gt;&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    #   simple_format(&#39;&lt;a href=&quot;javascript:alert(\&#39;no!\&#39;)&quot;&gt;Example&lt;/a&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    #   # =&gt; &quot;&lt;p&gt;&lt;a&gt;Example&lt;/a&gt;&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    # If you want to escape all content, you should invoke the +h+ method before</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    # calling the text helper.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    #   simple_format h(&#39;&lt;a href=&quot;http://example.com/&quot;&gt;Example&lt;/a&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    #   # =&gt; &quot;&lt;p&gt;&amp;lt;a href=\&quot;http://example.com/\&quot;&amp;gt;Example&amp;lt;/a&amp;gt;&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module TextHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include SanitizeHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include OutputSafetyHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      # The preferred method of outputting text in your views is to use the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # &lt;%= &quot;text&quot; %&gt; eRuby syntax. The regular _puts_ and _print_ methods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      # do not operate as expected in an eRuby code block. If you absolutely must</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # output text within a non-output code block (i.e., &lt;% %&gt;), you can use the concat method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      #   &lt;%</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #       concat &quot;hello&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #       # is the equivalent of &lt;%= &quot;hello&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #       if logged_in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      #         concat &quot;Logged in!&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      #       else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      #         concat link_to(&#39;login&#39;, action: :login)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      #       # will either display &quot;Logged in!&quot; or a login link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      #   %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def concat(string)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">        output_buffer &lt;&lt; string</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def safe_concat(string)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">        output_buffer.respond_to?(:safe_concat) ? output_buffer.safe_concat(string) : concat(string)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      # Truncates a given +text+ after a given &lt;tt&gt;:length&lt;/tt&gt; if +text+ is longer than &lt;tt&gt;:length&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      # (defaults to 30). The last characters will be replaced with the &lt;tt&gt;:omission&lt;/tt&gt; (defaults to &quot;...&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      # for a total length not exceeding &lt;tt&gt;:length&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      # Pass a &lt;tt&gt;:separator&lt;/tt&gt; to truncate +text+ at a natural break.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      # Pass a block if you want to show extra content when the text is truncated.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # The result is marked as HTML-safe, but it is escaped by default, unless &lt;tt&gt;:escape&lt;/tt&gt; is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      # +false+. Care should be taken if +text+ contains HTML tags or entities, because truncation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      # may produce invalid HTML (such as unbalanced or incomplete tags).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #   truncate(&quot;Once upon a time in a world far far away&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;Once upon a time in a world...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #   truncate(&quot;Once upon a time in a world far far away&quot;, length: 17)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;Once upon a ti...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   truncate(&quot;Once upon a time in a world far far away&quot;, length: 17, separator: &#39; &#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;Once upon a...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #   truncate(&quot;And they found that many people were sleeping better.&quot;, length: 25, omission: &#39;... (continued)&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;And they f... (continued)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      #   truncate(&quot;&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&amp;lt;p&amp;gt;Once upon a time in a wo...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      #   truncate(&quot;&lt;p&gt;Once upon a time in a world far far away&lt;/p&gt;&quot;, escape: false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;Once upon a time in a wo...&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #   truncate(&quot;Once upon a time in a world far far away&quot;) { link_to &quot;Continue&quot;, &quot;#&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;Once upon a time in a wo...&lt;a href=&quot;#&quot;&gt;Continue&lt;/a&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def truncate(text, options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">        if text</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">          length  = options.fetch(:length, 30)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">          content = text.truncate(length, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">          content = options[:escape] == false ? content.html_safe : ERB::Util.html_escape(content)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">          content &lt;&lt; capture(&amp;block) if block_given? &amp;&amp; text.length &gt; length</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">          content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      # Highlights one or more +phrases+ everywhere in +text+ by inserting it into</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      # a &lt;tt&gt;:highlighter&lt;/tt&gt; string. The highlighter can be specialized by passing &lt;tt&gt;:highlighter&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # as a single-quoted string with &lt;tt&gt;\1&lt;/tt&gt; where the phrase is to be inserted (defaults to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      # &#39;&lt;mark&gt;\1&lt;/mark&gt;&#39;) or passing a block that receives each matched term. By default +text+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      # is sanitized to prevent possible XSS attacks. If the input is trustworthy, passing false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      # for &lt;tt&gt;:sanitize&lt;/tt&gt; will turn sanitizing off.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #   highlight(&#39;You searched for: rails&#39;, &#39;rails&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #   # =&gt; You searched for: &lt;mark&gt;rails&lt;/mark&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      #   highlight(&#39;You searched for: rails&#39;, /for|rails/)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      #   # =&gt; You searched &lt;mark&gt;for&lt;/mark&gt;: &lt;mark&gt;rails&lt;/mark&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #   highlight(&#39;You searched for: ruby, rails, dhh&#39;, &#39;actionpack&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #   # =&gt; You searched for: ruby, rails, dhh</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #   highlight(&#39;You searched for: rails&#39;, [&#39;for&#39;, &#39;rails&#39;], highlighter: &#39;&lt;em&gt;\1&lt;/em&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      #   # =&gt; You searched &lt;em&gt;for&lt;/em&gt;: &lt;em&gt;rails&lt;/em&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #   highlight(&#39;You searched for: rails&#39;, &#39;rails&#39;, highlighter: &#39;&lt;a href=&quot;search?q=\1&quot;&gt;\1&lt;/a&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #   # =&gt; You searched for: &lt;a href=&quot;search?q=rails&quot;&gt;rails&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      #   highlight(&#39;You searched for: rails&#39;, &#39;rails&#39;) { |match| link_to(search_path(q: match, match)) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      #   # =&gt; You searched for: &lt;a href=&quot;search?q=rails&quot;&gt;rails&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #   highlight(&#39;&lt;a href=&quot;javascript:alert(\&#39;no!\&#39;)&quot;&gt;ruby&lt;/a&gt; on rails&#39;, &#39;rails&#39;, sanitize: false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;javascript:alert(&#39;no!&#39;)&quot;&gt;ruby&lt;/a&gt; on &lt;mark&gt;rails&lt;/mark&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def highlight(text, phrases, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="133">
            
            

            

            <code class="ruby">        text = sanitize(text) if options.fetch(:sanitize, true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">        if text.blank? || phrases.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">          text || &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="138">
            
            

            

            <code class="ruby">          match = Array(phrases).map do |p|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="139">
            
            

            

            <code class="ruby">            Regexp === p ? p.to_s : Regexp.escape(p)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">          end.join(&quot;|&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">          if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">            text.gsub(/(#{match})(?![^&lt;]*?&gt;)/i) { |found| yield found }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="145">
            
            

            

            <code class="ruby">            highlighter = options.fetch(:highlighter, &#39;&lt;mark&gt;\1&lt;/mark&gt;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">            text.gsub(/(#{match})(?![^&lt;]*?&gt;)/i, highlighter)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">        end.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      # Extracts an excerpt from +text+ that matches the first instance of +phrase+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      # The &lt;tt&gt;:radius&lt;/tt&gt; option expands the excerpt on each side of the first occurrence of +phrase+ by the number of characters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      # defined in &lt;tt&gt;:radius&lt;/tt&gt; (which defaults to 100). If the excerpt radius overflows the beginning or end of the +text+,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      # then the &lt;tt&gt;:omission&lt;/tt&gt; option (which defaults to &quot;...&quot;) will be prepended/appended accordingly. Use the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      # &lt;tt&gt;:separator&lt;/tt&gt; option to choose the delimitation. The resulting string will be stripped in any case. If the +phrase+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      # isn&#39;t found, +nil+ is returned.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      #   excerpt(&#39;This is an example&#39;, &#39;an&#39;, radius: 5)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      #   # =&gt; ...s is an exam...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      #   excerpt(&#39;This is an example&#39;, &#39;is&#39;, radius: 5)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #   # =&gt; This is a...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #   excerpt(&#39;This is an example&#39;, &#39;is&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      #   # =&gt; This is an example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      #   excerpt(&#39;This next thing is an example&#39;, &#39;ex&#39;, radius: 2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      #   # =&gt; ...next...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #   excerpt(&#39;This is also an example&#39;, &#39;an&#39;, radius: 8, omission: &#39;&lt;chop&gt; &#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;chop&gt; is also an example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #   excerpt(&#39;This is a very beautiful morning&#39;, &#39;very&#39;, separator: &#39; &#39;, radius: 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      #   # =&gt; ...a very beautiful...</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def excerpt(text, phrase, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="176">
            
            

            

            <code class="ruby">        return unless text &amp;&amp; phrase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="178">
            
            

            

            <code class="ruby">        separator = options.fetch(:separator, nil) || &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="179">
            
            

            

            <code class="ruby">        case phrase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">        when Regexp</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">          regex = phrase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="183">
            
            

            

            <code class="ruby">          regex = /#{Regexp.escape(phrase)}/i</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="186">
            
            

            

            <code class="ruby">        return unless matches = text.match(regex)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">        phrase = matches[0]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">        unless separator.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="190">
            
            

            

            <code class="ruby">          text.split(separator).each do |value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="191">
            
            

            

            <code class="ruby">            if value.match?(regex)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="192">
            
            

            

            <code class="ruby">              phrase = value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="193">
            
            

            

            <code class="ruby">              break</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="198">
            
            

            

            <code class="ruby">        first_part, second_part = text.split(phrase, 2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="200">
            
            

            

            <code class="ruby">        prefix, first_part   = cut_excerpt_part(:first, first_part, separator, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="201">
            
            

            

            <code class="ruby">        postfix, second_part = cut_excerpt_part(:second, second_part, separator, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="203">
            
            

            

            <code class="ruby">        affix = [first_part, separator, phrase, separator, second_part].join.strip</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="204">
            
            

            

            <code class="ruby">        [prefix, affix, postfix].join</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      # Attempts to pluralize the +singular+ word unless +count+ is 1. If</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # +plural+ is supplied, it will use that when count is &gt; 1, otherwise</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # it will use the Inflector to determine the plural form for the given locale,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      # which defaults to I18n.locale</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      # The word will be pluralized using rules defined for the locale</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      # (you must define your own inflection rules for languages other than English).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      # See ActiveSupport::Inflector.pluralize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      #   pluralize(1, &#39;person&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      #   # =&gt; 1 person</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      #   pluralize(2, &#39;person&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      #   # =&gt; 2 people</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      #   pluralize(3, &#39;person&#39;, plural: &#39;users&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      #   # =&gt; 3 users</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      #   pluralize(0, &#39;person&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      #   # =&gt; 0 people</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      #   pluralize(2, &#39;Person&#39;, locale: :de)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      #   # =&gt; 2 Personen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="230">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def pluralize(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="231">
            
            

            

            <code class="ruby">        word = if count == 1 || count.to_s.match?(/^1(\.0+)?$/)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="232">
            
            

            

            <code class="ruby">          singular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="234">
            
            

            

            <code class="ruby">          plural || singular.pluralize(locale)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="237">
            
            

            

            <code class="ruby">        &quot;#{count || 0} #{word}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # Wraps the +text+ into lines no longer than +line_width+ width. This method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      # breaks on the first whitespace character that does not exceed +line_width+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      # (which is 80 by default).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #   word_wrap(&#39;Once upon a time&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      #   # =&gt; Once upon a time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #   word_wrap(&#39;Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding a successor to the throne turned out to be more trouble than anyone could have imagined...&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #   # =&gt; Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding\na successor to the throne turned out to be more trouble than anyone could have\nimagined...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      #   word_wrap(&#39;Once upon a time&#39;, line_width: 8)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      #   # =&gt; Once\nupon a\ntime</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      #   word_wrap(&#39;Once upon a time&#39;, line_width: 1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      #   # =&gt; Once\nupon\na\ntime</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      #   You can also specify a custom +break_sequence+ (&quot;\n&quot; by default)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      #   word_wrap(&#39;Once upon a time&#39;, line_width: 1, break_sequence: &quot;\r\n&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #   # =&gt; Once\r\nupon\r\na\r\ntime</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="260">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def word_wrap(text, line_width: 80, break_sequence: &quot;\n&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">        text.split(&quot;\n&quot;).collect! do |line|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="262">
            
            

            

            <code class="ruby">          line.length &gt; line_width ? line.gsub(/(.{1,#{line_width}})(\s+|$)/, &quot;\\1#{break_sequence}&quot;).rstrip : line</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="263">
            
            

            

            <code class="ruby">        end * break_sequence</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      # Returns +text+ transformed into HTML using simple formatting rules.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      # Two or more consecutive newlines(&lt;tt&gt;\n\n&lt;/tt&gt; or &lt;tt&gt;\r\n\r\n&lt;/tt&gt;) are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      # considered a paragraph and wrapped in &lt;tt&gt;&lt;p&gt;&lt;/tt&gt; tags. One newline</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      # (&lt;tt&gt;\n&lt;/tt&gt; or &lt;tt&gt;\r\n&lt;/tt&gt;) is considered a linebreak and a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      # &lt;tt&gt;&lt;br /&gt;&lt;/tt&gt; tag is appended. This method does not remove the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      # newlines from the +text+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      # You can pass any HTML attributes into &lt;tt&gt;html_options&lt;/tt&gt;. These</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      # will be added to all created paragraphs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:sanitize&lt;/tt&gt; - If +false+, does not sanitize +text+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:wrapper_tag&lt;/tt&gt; - String representing the wrapper tag, defaults to &lt;tt&gt;&quot;p&quot;&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #   my_text = &quot;Here is some basic text...\n...with a line break.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      #   simple_format(my_text)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      #   simple_format(my_text, {}, wrapper_tag: &quot;div&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;div&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/div&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      #   more_text = &quot;We want to put a paragraph...\n\n...right there.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      #   simple_format(more_text)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;We want to put a paragraph...&lt;/p&gt;\n\n&lt;p&gt;...right there.&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #   simple_format(&quot;Look ma! A class!&quot;, class: &#39;description&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p class=&#39;description&#39;&gt;Look ma! A class!&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      #   simple_format(&quot;&lt;blink&gt;Unblinkable.&lt;/blink&gt;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;Unblinkable.&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      #   simple_format(&quot;&lt;blink&gt;Blinkable!&lt;/blink&gt; It&#39;s true.&quot;, {}, sanitize: false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;p&gt;&lt;blink&gt;Blinkable!&lt;/blink&gt; It&#39;s true.&lt;/p&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="302">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def simple_format(text, html_options = {}, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="303">
            
            

            

            <code class="ruby">        wrapper_tag = options.fetch(:wrapper_tag, :p)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="305">
            
            

            

            <code class="ruby">        text = sanitize(text) if options.fetch(:sanitize, true)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="306">
            
            

            

            <code class="ruby">        paragraphs = split_paragraphs(text)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="308">
            
            

            

            <code class="ruby">        if paragraphs.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="309">
            
            

            

            <code class="ruby">          content_tag(wrapper_tag, nil, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">          paragraphs.map! { |paragraph|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="312">
            
            

            

            <code class="ruby">            content_tag(wrapper_tag, raw(paragraph), html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="313">
            
            

            

            <code class="ruby">          }.join(&quot;\n\n&quot;).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">      # Creates a Cycle object whose _to_s_ method cycles through elements of an</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">      # array every time it is called. This can be used for example, to alternate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">      # classes for table rows. You can use named cycles to allow nesting in loops.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">      # Passing a Hash as the last parameter with a &lt;tt&gt;:name&lt;/tt&gt; key will create a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">      # named cycle. The default name for a cycle without a +:name+ key is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">      # &lt;tt&gt;&quot;default&quot;&lt;/tt&gt;. You can manually reset a cycle by calling reset_cycle</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">      # and passing the name of the cycle. The current cycle string can be obtained</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">      # anytime using the current_cycle method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      #   # Alternate CSS classes for even and odd numbers...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      #   @items = [1,2,3,4]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">      #   &lt;table&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">      #   &lt;% @items.each do |item| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">      #     &lt;tr class=&quot;&lt;%= cycle(&quot;odd&quot;, &quot;even&quot;) -%&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">      #       &lt;td&gt;&lt;%= item %&gt;&lt;/td&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">      #     &lt;/tr&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      #   &lt;/table&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">      #   # Cycle CSS classes for rows, and text colors for values within each row</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">      #   @items = x = [{first: &#39;Robert&#39;, middle: &#39;Daniel&#39;, last: &#39;James&#39;},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">      #                {first: &#39;Emily&#39;, middle: &#39;Shannon&#39;, maiden: &#39;Pike&#39;, last: &#39;Hicks&#39;},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">      #               {first: &#39;June&#39;, middle: &#39;Dae&#39;, last: &#39;Jones&#39;}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">      #   &lt;% @items.each do |item| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      #     &lt;tr class=&quot;&lt;%= cycle(&quot;odd&quot;, &quot;even&quot;, name: &quot;row_class&quot;) -%&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">      #       &lt;td&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      #         &lt;% item.values.each do |value| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">      #           &lt;%# Create a named cycle &quot;colors&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      #           &lt;span style=&quot;color:&lt;%= cycle(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, name: &quot;colors&quot;) -%&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      #             &lt;%= value %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">      #           &lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      #         &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">      #         &lt;% reset_cycle(&quot;colors&quot;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">      #       &lt;/td&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      #    &lt;/tr&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      #  &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="354">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cycle(first_value, *values)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="355">
            
            

            

            <code class="ruby">        options = values.extract_options!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="356">
            
            

            

            <code class="ruby">        name = options.fetch(:name, &quot;default&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="358">
            
            

            

            <code class="ruby">        values.unshift(*first_value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="360">
            
            

            

            <code class="ruby">        cycle = get_cycle(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="361">
            
            

            

            <code class="ruby">        unless cycle &amp;&amp; cycle.values == values</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="362">
            
            

            

            <code class="ruby">          cycle = set_cycle(name, Cycle.new(*values))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="364">
            
            

            

            <code class="ruby">        cycle.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      # Returns the current cycle string after a cycle has been started. Useful</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      # for complex table highlighting or any other design need which requires</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      # the current cycle string in more than one place.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #   # Alternate background colors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #   @items = [1,2,3,4]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      #   &lt;% @items.each do |item| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      #     &lt;div style=&quot;background-color:&lt;%= cycle(&quot;red&quot;,&quot;white&quot;,&quot;blue&quot;) %&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      #       &lt;span style=&quot;background-color:&lt;%= current_cycle %&gt;&quot;&gt;&lt;%= item %&gt;&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      #     &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="378">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def current_cycle(name = &quot;default&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="379">
            
            

            

            <code class="ruby">        cycle = get_cycle(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="380">
            
            

            

            <code class="ruby">        cycle.current_value if cycle</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      # Resets a cycle so that it starts from the first element the next time</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">      # it is called. Pass in +name+ to reset a named cycle.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      #   # Alternate CSS classes for even and odd numbers...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">      #   @items = [[1,2,3,4], [5,6,3], [3,4,5,6,7,4]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      #   &lt;table&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      #   &lt;% @items.each do |item| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      #     &lt;tr class=&quot;&lt;%= cycle(&quot;even&quot;, &quot;odd&quot;) -%&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      #         &lt;% item.each do |value| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      #           &lt;span style=&quot;color:&lt;%= cycle(&quot;#333&quot;, &quot;#666&quot;, &quot;#999&quot;, name: &quot;colors&quot;) -%&gt;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      #             &lt;%= value %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      #           &lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #         &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #         &lt;% reset_cycle(&quot;colors&quot;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #     &lt;/tr&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #   &lt;/table&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="401">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def reset_cycle(name = &quot;default&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="402">
            
            

            

            <code class="ruby">        cycle = get_cycle(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="403">
            
            

            

            <code class="ruby">        cycle.reset if cycle</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="406">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class Cycle #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_reader :values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="409">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(first_value, *values)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="410">
            
            

            

            <code class="ruby">          @values = values.unshift(first_value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="411">
            
            

            

            <code class="ruby">          reset</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="414">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def reset</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="415">
            
            

            

            <code class="ruby">          @index = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="418">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def current_value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="419">
            
            

            

            <code class="ruby">          @values[previous_index].to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="422">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="423">
            
            

            

            <code class="ruby">          value = @values[@index].to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="424">
            
            

            

            <code class="ruby">          @index = next_index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="425">
            
            

            

            <code class="ruby">          value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="428">
            <span class="hits">1</span>
            

            

            <code class="ruby">        private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="429">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def next_index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="430">
            
            

            

            <code class="ruby">            step_index(1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="433">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def previous_index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="434">
            
            

            

            <code class="ruby">            step_index(-1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="437">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def step_index(n)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="438">
            
            

            

            <code class="ruby">            (@index + n) % @values.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="442">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">        # The cycle helpers need to store the cycles in a place that is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">        # guaranteed to be reset every time a page is rendered, so it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby">        # uses an instance variable of ActionView::Base.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def get_cycle(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="447">
            
            

            

            <code class="ruby">          @_cycles = Hash.new unless defined?(@_cycles)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="448">
            
            

            

            <code class="ruby">          @_cycles[name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="451">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def set_cycle(name, cycle_object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="452">
            
            

            

            <code class="ruby">          @_cycles = Hash.new unless defined?(@_cycles)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="453">
            
            

            

            <code class="ruby">          @_cycles[name] = cycle_object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="456">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def split_paragraphs(text)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="457">
            
            

            

            <code class="ruby">          return [] if text.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="459">
            
            

            

            <code class="ruby">          text.to_str.gsub(/\r\n?/, &quot;\n&quot;).split(/\n\n+/).map! do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="460">
            
            

            

            <code class="ruby">            t.gsub!(/([^\n]\n)(?=[^\n])/, &#39;\1&lt;br /&gt;&#39;) || t</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="464">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def cut_excerpt_part(part_position, part, separator, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="465">
            
            

            

            <code class="ruby">          return &quot;&quot;, &quot;&quot; unless part</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="467">
            
            

            

            <code class="ruby">          radius   = options.fetch(:radius, 100)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="468">
            
            

            

            <code class="ruby">          omission = options.fetch(:omission, &quot;...&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="470">
            
            

            

            <code class="ruby">          part = part.split(separator)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="471">
            
            

            

            <code class="ruby">          part.delete(&quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="472">
            
            

            

            <code class="ruby">          affix = part.size &gt; radius ? omission : &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="474">
            
            

            

            <code class="ruby">          part = if part_position == :first</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="475">
            
            

            

            <code class="ruby">            drop_index = [part.length - radius, 0].max</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="476">
            
            

            

            <code class="ruby">            part.drop(drop_index)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="478">
            
            

            

            <code class="ruby">            part.first(radius)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="481">
            
            

            

            <code class="ruby">          return affix, part.join(separator)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="65499c1b0d2af204d9d55454da4887f9f996699f">
  <div class="header">
    <h3>lib/action_view/helpers/translation_helper.rb</h3>
    <h4>
      <span class="red">
  30.91%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>55</b> relevant lines.
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>38</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/tag_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/access&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;i18n/exceptions&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # = Action View Translation Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module TranslationHelper</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">      included do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="16">
            <span class="hits">3</span>
            

            

            <code class="ruby">        mattr_accessor :debug_missing_translation, default: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      # Delegates to &lt;tt&gt;I18n#translate&lt;/tt&gt; but also performs three additional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      # functions.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      # First, it will ensure that any thrown +MissingTranslation+ messages will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      # be rendered as inline spans that:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # * Have a &lt;tt&gt;translation-missing&lt;/tt&gt; class applied</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      # * Contain the missing key as the value of the +title+ attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      # * Have a titleized version of the last key segment as text</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # For example, the value returned for the missing translation key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # &lt;tt&gt;&quot;blog.post.title&quot;&lt;/tt&gt; will be:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #    &lt;span</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      #      class=&quot;translation_missing&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #      title=&quot;translation missing: en.blog.post.title&quot;&gt;Title&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # This allows for views to display rather reasonable strings while still</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      # giving developers a way to find missing translations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # If you would prefer missing translations to raise an error, you can</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      # opt out of span-wrapping behavior globally by setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # &lt;tt&gt;ActionView::Base.raise_on_missing_translations = true&lt;/tt&gt; or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      # individually by passing &lt;tt&gt;raise: true&lt;/tt&gt; as an option to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      # &lt;tt&gt;translate&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      # Second, if the key starts with a period &lt;tt&gt;translate&lt;/tt&gt; will scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      # the key by the current partial. Calling &lt;tt&gt;translate(&quot;.foo&quot;)&lt;/tt&gt; from</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      # the &lt;tt&gt;people/index.html.erb&lt;/tt&gt; template is equivalent to calling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      # &lt;tt&gt;translate(&quot;people.index.foo&quot;)&lt;/tt&gt;. This makes it less</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      # repetitive to translate many keys within the same partial and provides</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      # a convention to scope keys consistently.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      # Third, the translation will be marked as &lt;tt&gt;html_safe&lt;/tt&gt; if the key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      # has the suffix &quot;_html&quot; or the last element of the key is &quot;html&quot;. Calling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      # &lt;tt&gt;translate(&quot;footer_html&quot;)&lt;/tt&gt; or &lt;tt&gt;translate(&quot;footer.html&quot;)&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # will return an HTML safe string that won&#39;t be escaped by other HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # helper methods. This naming convention helps to identify translations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      # that include HTML tags so that you know what kind of output to expect</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      # when you call translate in a template and translators know which keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      # they can provide HTML values for.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def translate(key, **options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="61">
            
            

            

            <code class="ruby">        unless options[:default].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="62">
            
            

            

            <code class="ruby">          remaining_defaults = Array.wrap(options.delete(:default)).compact</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">          options[:default] = remaining_defaults unless remaining_defaults.first.kind_of?(Symbol)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">        # If the user has explicitly decided to NOT raise errors, pass that option to I18n.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">        # Otherwise, tell I18n to raise an exception, which we rescue further in this method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">        # Note: `raise_error` refers to us re-raising the error in this method. I18n is forced to raise by default.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">        if options[:raise] == false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">          raise_error = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">          i18n_raise = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">          raise_error = options[:raise] || ActionView::Base.raise_on_missing_translations</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">          i18n_raise = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">        if html_safe_translation_key?(key)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">          html_safe_options = options.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">          options.except(*I18n::RESERVED_KEYS).each do |name, value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">            unless name == :count &amp;&amp; value.is_a?(Numeric)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="81">
            
            

            

            <code class="ruby">              html_safe_options[name] = ERB::Util.html_escape(value.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">          translation = I18n.translate(scope_key_by_partial(key), **html_safe_options.merge(raise: i18n_raise))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="85">
            
            

            

            <code class="ruby">          if translation.respond_to?(:map)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">            translation.map { |element| element.respond_to?(:html_safe) ? element.html_safe : element }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">            translation.respond_to?(:html_safe) ? translation.html_safe : translation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">          I18n.translate(scope_key_by_partial(key), **options.merge(raise: i18n_raise))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      rescue I18n::MissingTranslationData =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="94">
            
            

            

            <code class="ruby">        if remaining_defaults.present?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">          translate remaining_defaults.shift, **options.merge(default: remaining_defaults)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">          raise e if raise_error</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">          keys = I18n.normalize_keys(e.locale, e.key, e.options[:scope])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">          title = +&quot;translation missing: #{keys.join(&#39;.&#39;)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">          interpolations = options.except(:default, :scope)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">          if interpolations.any?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">            title &lt;&lt; &quot;, &quot; &lt;&lt; interpolations.map { |k, v| &quot;#{k}: #{ERB::Util.html_escape(v)}&quot; }.join(&quot;, &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">          return title unless ActionView::Base.debug_missing_translation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">          content_tag(&quot;span&quot;, keys.last.to_s.titleize, class: &quot;translation_missing&quot;, title: title)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :t :translate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      # Delegates to &lt;tt&gt;I18n.localize&lt;/tt&gt; with no additional functionality.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      # See https://www.rubydoc.info/github/svenfuchs/i18n/master/I18n/Backend/Base:localize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      # for more information.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def localize(object, **options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="119">
            
            

            

            <code class="ruby">        I18n.localize(object, **options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :l :localize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def scope_key_by_partial(key)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="125">
            
            

            

            <code class="ruby">          stringified_key = key.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="126">
            
            

            

            <code class="ruby">          if stringified_key.start_with?(&quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="127">
            
            

            

            <code class="ruby">            if @current_template&amp;.virtual_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">              @_scope_key_by_partial_cache ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="129">
            
            

            

            <code class="ruby">              @_scope_key_by_partial_cache[@current_template.virtual_path] ||= @current_template.virtual_path.gsub(%r{/_?}, &quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="130">
            
            

            

            <code class="ruby">              &quot;#{@_scope_key_by_partial_cache[@current_template.virtual_path]}#{stringified_key}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="132">
            
            

            

            <code class="ruby">              raise &quot;Cannot use t(#{key.inspect}) shortcut because path is not available&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">            key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="139">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def html_safe_translation_key?(key)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="140">
            
            

            

            <code class="ruby">          /(?:_|\b)html\z/.match?(key.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="30bae4434f622bc5a2b480c8900e909a810fb679">
  <div class="header">
    <h3>lib/action_view/helpers/url_helper.rb</h3>
    <h4>
      <span class="red">
  22.5%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>160</b> relevant lines.
      <span class="green"><b>36</b> lines covered</span> and
      <span class="red"><b>124</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/helpers/javascript_helper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/array/access&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/hash/keys&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/string/output_safety&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  # = Action View URL Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Helpers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    # Provides a set of methods for making links and getting URLs that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # depend on the routing subsystem (see ActionDispatch::Routing).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # This allows you to use the same format for links in views</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # and controllers.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module UrlHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      # This helper may be included in any class that includes the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # URL helpers of a routes (routes.url_helpers). Some methods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      # provided here will only work in the context of a request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">      # (link_to_unless_current, for instance), which must be provided</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      # as a method called #request on the context.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">      BUTTON_TAG_METHOD_VERBS = %w{patch put delete}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include TagHelper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      module ClassMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def _url_for_modules</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">          ActionView::RoutingUrlFor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      # Basic implementation of url_for to allow use helpers without routes existence</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def url_for(options = nil) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">        case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        when String</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">          options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        when :back</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">          _back_url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">          raise ArgumentError, &quot;arguments passed to url_for can&#39;t be handled. Please require &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">                               &quot;routes or provide your own implementation&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _back_url # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        _filtered_referrer || &quot;javascript:history.back()&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private :_back_url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _filtered_referrer # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">        if controller.respond_to?(:request)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">          referrer = controller.request.env[&quot;HTTP_REFERER&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">          if referrer &amp;&amp; URI(referrer).scheme != &quot;javascript&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">            referrer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      rescue URI::InvalidURIError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private :_filtered_referrer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      # Creates an anchor element of the given +name+ using a URL created by the set of +options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      # See the valid options in the documentation for +url_for+. It&#39;s also possible to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      # pass a \String instead of an options hash, which generates an anchor element that uses the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      # value of the \String as the href for the link. Using a &lt;tt&gt;:back&lt;/tt&gt; \Symbol instead</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">      # of an options hash will generate a link to the referrer (a JavaScript back link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      # will be used in place of a referrer if none exists). If +nil+ is passed as the name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      # the value of the link itself will become the name.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">      # ==== Signatures</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">      #   link_to(body, url, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      #     # url is a String; you can use URL helpers like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      #     # posts_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      #   link_to(body, url_options = {}, html_options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      #     # url_options, except :method, is passed to url_for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      #   link_to(options = {}, html_options = {}) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      #     # name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      #   link_to(url, html_options = {}) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      #     # name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:data&lt;/tt&gt; - This option can be used to add custom data attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;method: symbol of HTTP verb&lt;/tt&gt; - This modifier will dynamically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      #   create an HTML form and immediately submit the form for processing using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      #   the HTTP verb specified. Useful for having links perform a POST operation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">      #   in dangerous actions like deleting a record (which search bots can follow</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      #   while spidering your site). Supported verbs are &lt;tt&gt;:post&lt;/tt&gt;, &lt;tt&gt;:delete&lt;/tt&gt;, &lt;tt&gt;:patch&lt;/tt&gt;, and &lt;tt&gt;:put&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      #   Note that if the user has JavaScript disabled, the request will fall back</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      #   to using GET. If &lt;tt&gt;href: &#39;#&#39;&lt;/tt&gt; is used and the user has JavaScript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">      #   disabled clicking the link will have no effect. If you are relying on the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      #   POST behavior, you should check for it in your controller&#39;s action by using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      #   the request object&#39;s methods for &lt;tt&gt;post?&lt;/tt&gt;, &lt;tt&gt;delete?&lt;/tt&gt;, &lt;tt&gt;patch?&lt;/tt&gt;, or &lt;tt&gt;put?&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;remote: true&lt;/tt&gt; - This will allow the unobtrusive JavaScript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      #   driver to make an Ajax request to the URL in question instead of following</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      #   the link. The drivers each provide mechanisms for listening for the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      #   completion of the Ajax request and performing JavaScript operations once</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      #   they&#39;re complete</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">      # ==== Data attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;confirm: &#39;question?&#39;&lt;/tt&gt; - This will allow the unobtrusive JavaScript</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      #   driver to prompt with the question specified (in this case, the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">      #   resulting text would be &lt;tt&gt;question?&lt;/tt&gt;. If the user accepts, the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      #   link is processed normally, otherwise no action is taken.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disable_with&lt;/tt&gt; - Value of this parameter will be used as the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      #   name for a disabled version of the link. This feature is provided by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      #   the unobtrusive JavaScript driver.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      # Because it relies on +url_for+, +link_to+ supports both older-style controller/action/id arguments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">      # and newer RESTful routes. Current Rails style favors RESTful routes whenever possible, so base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      # your application on resources and use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      #   link_to &quot;Profile&quot;, profile_path(@profile)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      # or the even pithier</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      #   link_to &quot;Profile&quot;, @profile</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">      # in place of the older more verbose, non-resource-oriented</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      #   link_to &quot;Profile&quot;, controller: &quot;profiles&quot;, action: &quot;show&quot;, id: @profile</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles/show/1&quot;&gt;Profile&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # Similarly,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      #   link_to &quot;Profiles&quot;, profiles_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">      # is better than</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      #   link_to &quot;Profiles&quot;, controller: &quot;profiles&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      # When name is +nil+ the href is presented instead</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      #   link_to nil, &quot;http://example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;http://www.example.com&quot;&gt;http://www.example.com&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      # You can use a block as well if your link target is hard to fit into the name parameter. ERB example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      #   &lt;%= link_to(@profile) do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      #     &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      #          &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">      #        &lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      # Classes and ids for CSS are easy to produce:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      #   link_to &quot;Articles&quot;, articles_path, id: &quot;news&quot;, class: &quot;article&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      # Be careful when using the older argument style, as an extra literal hash is needed:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      #   link_to &quot;Articles&quot;, { controller: &quot;articles&quot; }, id: &quot;news&quot;, class: &quot;article&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      # Leaving the hash off gives the wrong link:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">      #   link_to &quot;WRONG!&quot;, controller: &quot;articles&quot;, id: &quot;news&quot;, class: &quot;article&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/articles/index/news?class=article&quot;&gt;WRONG!&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      # +link_to+ can also produce links with anchors or query strings:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      #   link_to &quot;Comment wall&quot;, profile_path(@profile, anchor: &quot;wall&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/profiles/1#wall&quot;&gt;Comment wall&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">      #   link_to &quot;Ruby on Rails search&quot;, controller: &quot;searches&quot;, query: &quot;ruby on rails&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/searches?query=ruby+on+rails&quot;&gt;Ruby on Rails search&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">      #   link_to &quot;Nonsense search&quot;, searches_path(foo: &quot;bar&quot;, baz: &quot;quux&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/searches?foo=bar&amp;amp;baz=quux&quot;&gt;Nonsense search&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      # The only option specific to +link_to+ (&lt;tt&gt;:method&lt;/tt&gt;) is used as follows:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      #   link_to(&quot;Destroy&quot;, &quot;http://www.example.com&quot;, method: :delete)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&#39;http://www.example.com&#39; rel=&quot;nofollow&quot; data-method=&quot;delete&quot;&gt;Destroy&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">      # You can also use custom data attributes using the &lt;tt&gt;:data&lt;/tt&gt; option:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">      #   link_to &quot;Visit Other Site&quot;, &quot;http://www.rubyonrails.org/&quot;, data: { confirm: &quot;Are you sure?&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; data-confirm=&quot;Are you sure?&quot;&gt;Visit Other Site&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">      # Also you can set any link attributes such as &lt;tt&gt;target&lt;/tt&gt;, &lt;tt&gt;rel&lt;/tt&gt;, &lt;tt&gt;type&lt;/tt&gt;:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">      #   link_to &quot;External link&quot;, &quot;http://www.rubyonrails.org/&quot;, target: &quot;_blank&quot;, rel: &quot;nofollow&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;External link&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def link_to(name = nil, options = nil, html_options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="197">
            
            

            

            <code class="ruby">        html_options, options, name = options, name, block if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="198">
            
            

            

            <code class="ruby">        options ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="200">
            
            

            

            <code class="ruby">        html_options = convert_options_to_data_attributes(options, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="202">
            
            

            

            <code class="ruby">        url = url_for(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="203">
            
            

            

            <code class="ruby">        html_options[&quot;href&quot;] ||= url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="205">
            
            

            

            <code class="ruby">        content_tag(&quot;a&quot;, name || url, html_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      # Generates a form containing a single button that submits to the URL created</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # by the set of +options+. This is the safest method to ensure links that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">      # cause changes to your data are not triggered by search bots or accelerators.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">      # If the HTML button does not work with your layout, you can also consider</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      # using the +link_to+ method with the &lt;tt&gt;:method&lt;/tt&gt; modifier as described in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">      # the +link_to+ documentation.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      # By default, the generated form element has a class name of &lt;tt&gt;button_to&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">      # to allow styling of the form itself and its children. This can be changed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">      # using the &lt;tt&gt;:form_class&lt;/tt&gt; modifier within +html_options+. You can control</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      # the form submission and input element behavior using +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      # This method accepts the &lt;tt&gt;:method&lt;/tt&gt; modifier described in the +link_to+ documentation.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      # If no &lt;tt&gt;:method&lt;/tt&gt; modifier is given, it will default to performing a POST operation.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      # You can also disable the button by passing &lt;tt&gt;disabled: true&lt;/tt&gt; in +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      # If you are using RESTful routes, you can pass the &lt;tt&gt;:method&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # to change the HTTP verb used to submit the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      # The +options+ hash accepts the same options as +url_for+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # There are a few special +html_options+:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:method&lt;/tt&gt; - \Symbol of HTTP verb. Supported verbs are &lt;tt&gt;:post&lt;/tt&gt;, &lt;tt&gt;:get&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      #   &lt;tt&gt;:delete&lt;/tt&gt;, &lt;tt&gt;:patch&lt;/tt&gt;, and &lt;tt&gt;:put&lt;/tt&gt;. By default it will be &lt;tt&gt;:post&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disabled&lt;/tt&gt; - If set to true, it will generate a disabled button.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:data&lt;/tt&gt; - This option can be used to add custom data attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:remote&lt;/tt&gt; -  If set to true, will allow the Unobtrusive JavaScript drivers to control the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      #   submit behavior. By default this behavior is an ajax submit.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:form&lt;/tt&gt; - This hash will be form attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:form_class&lt;/tt&gt; - This controls the class of the form within which the submit button will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      #   be placed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:params&lt;/tt&gt; - \Hash of parameters to be rendered as hidden fields within the form.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # ==== Data attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:confirm&lt;/tt&gt; - This will use the unobtrusive JavaScript driver to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #   prompt with the question specified. If the user accepts, the link is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      #   processed normally, otherwise no action is taken.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:disable_with&lt;/tt&gt; - Value of this parameter will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      #   used as the value for a disabled version of the submit</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      #   button when the form is submitted. This feature is provided</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      #   by the unobtrusive JavaScript driver.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      #   &lt;%= button_to &quot;New&quot;, action: &quot;new&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;button_to&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      #   #      &lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      #   #    &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      #   &lt;%= button_to &quot;New&quot;, new_article_path %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/articles/new&quot; class=&quot;button_to&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      #   #      &lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      #   #    &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      #   &lt;%= button_to [:make_happy, @user] do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #     Make happy &lt;strong&gt;&lt;%= @user.name %&gt;&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/users/1/make_happy&quot; class=&quot;button_to&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      #   #      &lt;button type=&quot;submit&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      #   #        Make happy &lt;strong&gt;&lt;%= @user.name %&gt;&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      #   #      &lt;/button&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">      #   #    &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">      #   &lt;%= button_to &quot;New&quot;, { action: &quot;new&quot; }, form_class: &quot;new-thing&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;new-thing&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      #   #      &lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      #   #    &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      #   &lt;%= button_to &quot;Create&quot;, { action: &quot;create&quot; }, remote: true, form: { &quot;data-type&quot; =&gt; &quot;json&quot; } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/create&quot; class=&quot;button_to&quot; data-remote=&quot;true&quot; data-type=&quot;json&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      #   #      &lt;input value=&quot;Create&quot; type=&quot;submit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      #   #      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">      #   #    &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">      #   &lt;%= button_to &quot;Delete Image&quot;, { action: &quot;delete&quot;, id: @image.id },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">      #                                   method: :delete, data: { confirm: &quot;Are you sure?&quot; } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/delete/1&quot; class=&quot;button_to&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      #   #      &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      #   #      &lt;input data-confirm=&#39;Are you sure?&#39; value=&quot;Delete Image&quot; type=&quot;submit&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">      #   #      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      #   #    &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">      #   &lt;%= button_to(&#39;Destroy&#39;, &#39;http://www.example.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      #             method: :delete, remote: true, data: { confirm: &#39;Are you sure?&#39;, disable_with: &#39;loading...&#39; }) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      #   # =&gt; &quot;&lt;form class=&#39;button_to&#39; method=&#39;post&#39; action=&#39;http://www.example.com&#39; data-remote=&#39;true&#39;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      #   #       &lt;input name=&#39;_method&#39; value=&#39;delete&#39; type=&#39;hidden&#39; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">      #   #       &lt;input value=&#39;Destroy&#39; type=&#39;submit&#39; data-disable-with=&#39;loading...&#39; data-confirm=&#39;Are you sure?&#39; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      #   #       &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      #   #     &lt;/form&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      #   #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="300">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def button_to(name = nil, options = nil, html_options = nil, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="301">
            
            

            

            <code class="ruby">        html_options, options = options, name if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="302">
            
            

            

            <code class="ruby">        options      ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="303">
            
            

            

            <code class="ruby">        html_options ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="304">
            
            

            

            <code class="ruby">        html_options = html_options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="306">
            
            

            

            <code class="ruby">        url    = options.is_a?(String) ? options : url_for(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="307">
            
            

            

            <code class="ruby">        remote = html_options.delete(&quot;remote&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="308">
            
            

            

            <code class="ruby">        params = html_options.delete(&quot;params&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="310">
            
            

            

            <code class="ruby">        method     = html_options.delete(&quot;method&quot;).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="311">
            
            

            

            <code class="ruby">        method_tag = BUTTON_TAG_METHOD_VERBS.include?(method) ? method_tag(method) : &quot;&quot;.html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="313">
            
            

            

            <code class="ruby">        form_method  = method == &quot;get&quot; ? &quot;get&quot; : &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="314">
            
            

            

            <code class="ruby">        form_options = html_options.delete(&quot;form&quot;) || {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="315">
            
            

            

            <code class="ruby">        form_options[:class] ||= html_options.delete(&quot;form_class&quot;) || &quot;button_to&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="316">
            
            

            

            <code class="ruby">        form_options[:method] = form_method</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="317">
            
            

            

            <code class="ruby">        form_options[:action] = url</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="318">
            
            

            

            <code class="ruby">        form_options[:&#39;data-remote&#39;] = true if remote</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="320">
            
            

            

            <code class="ruby">        request_token_tag = if form_method == &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="321">
            
            

            

            <code class="ruby">          request_method = method.empty? ? &quot;post&quot; : method</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="322">
            
            

            

            <code class="ruby">          token_tag(nil, form_options: { action: url, method: request_method })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="324">
            
            

            

            <code class="ruby">          &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="327">
            
            

            

            <code class="ruby">        html_options = convert_options_to_data_attributes(options, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="328">
            
            

            

            <code class="ruby">        html_options[&quot;type&quot;] = &quot;submit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="330">
            
            

            

            <code class="ruby">        button = if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="331">
            
            

            

            <code class="ruby">          content_tag(&quot;button&quot;, html_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="333">
            
            

            

            <code class="ruby">          html_options[&quot;value&quot;] = name || url</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="334">
            
            

            

            <code class="ruby">          tag(&quot;input&quot;, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="337">
            
            

            

            <code class="ruby">        inner_tags = method_tag.safe_concat(button).safe_concat(request_token_tag)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="338">
            
            

            

            <code class="ruby">        if params</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="339">
            
            

            

            <code class="ruby">          to_form_params(params).each do |param|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="340">
            
            

            

            <code class="ruby">            inner_tags.safe_concat tag(:input, type: &quot;hidden&quot;, name: param[:name], value: param[:value])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="343">
            
            

            

            <code class="ruby">        content_tag(&quot;form&quot;, inner_tags, form_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      # Creates a link tag of the given +name+ using a URL created by the set of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">      # +options+ unless the current request URI is the same as the links, in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">      # which case only the name is returned (or the given block is yielded, if</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">      # one exists). You can give +link_to_unless_current+ a block which will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">      # specialize the default behavior (e.g., show a &quot;Start Here&quot; link rather</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">      # than the link&#39;s text).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">      # Let&#39;s say you have a navigation menu...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">      #   &lt;ul id=&quot;navbar&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;%= link_to_unless_current(&quot;Home&quot;, { action: &quot;index&quot; }) %&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;%= link_to_unless_current(&quot;About Us&quot;, { action: &quot;about&quot; }) %&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">      #   &lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">      # If in the &quot;about&quot; action, it will render...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">      #   &lt;ul id=&quot;navbar&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;a href=&quot;/controller/index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      #     &lt;li&gt;About Us&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">      #   &lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">      # ...but if in the &quot;index&quot; action, it will render:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">      #   &lt;ul id=&quot;navbar&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">      #     &lt;li&gt;Home&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">      #     &lt;li&gt;&lt;a href=&quot;/controller/about&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      #   &lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">      # The implicit block given to +link_to_unless_current+ is evaluated if the current</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">      # action is the action given. So, if we had a comments page and wanted to render a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      # &quot;Go Back&quot; link instead of a link to the comments page, we could do something like this...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">      #    &lt;%=</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">      #        link_to_unless_current(&quot;Comment&quot;, { controller: &quot;comments&quot;, action: &quot;new&quot; }) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      #           link_to(&quot;Go back&quot;, { controller: &quot;posts&quot;, action: &quot;index&quot; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">      #        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">      #     %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="384">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def link_to_unless_current(name, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="385">
            
            

            

            <code class="ruby">        link_to_unless current_page?(options), name, options, html_options, &amp;block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">      # Creates a link tag of the given +name+ using a URL created by the set of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      # +options+ unless +condition+ is true, in which case only the name is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">      # returned. To specialize the default behavior (i.e., show a login link rather</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      # than just the plaintext link text), you can pass a block that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      # accepts the name or the full argument list for +link_to_unless+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      #   &lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { action: &quot;reply&quot; }) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">      #   # If the user is logged in...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">      #   &lt;%=</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">      #      link_to_unless(@current_user.nil?, &quot;Reply&quot;, { action: &quot;reply&quot; }) do |name|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      #        link_to(name, { controller: &quot;accounts&quot;, action: &quot;signup&quot; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">      #      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">      #   %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">      #   # If the user is logged in...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">      #   # If not...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/accounts/signup&quot;&gt;Reply&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="408">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def link_to_unless(condition, name, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="409">
            
            

            

            <code class="ruby">        link_to_if !condition, name, options, html_options, &amp;block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">      # Creates a link tag of the given +name+ using a URL created by the set of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">      # +options+ if +condition+ is true, otherwise only the name is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">      # returned. To specialize the default behavior, you can pass a block that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      # accepts the name or the full argument list for +link_to_if+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">      #   &lt;%= link_to_if(@current_user.nil?, &quot;Login&quot;, { controller: &quot;sessions&quot;, action: &quot;new&quot; }) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">      #   # If the user isn&#39;t logged in...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      #   &lt;%=</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">      #      link_to_if(@current_user.nil?, &quot;Login&quot;, { controller: &quot;sessions&quot;, action: &quot;new&quot; }) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">      #        link_to(@current_user.login, { controller: &quot;accounts&quot;, action: &quot;show&quot;, id: @current_user })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">      #      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">      #   %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">      #   # If the user isn&#39;t logged in...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">      #   # If they are logged in...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;/accounts/show/3&quot;&gt;my_username&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="431">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def link_to_if(condition, name, options = {}, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="432">
            
            

            

            <code class="ruby">        if condition</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="433">
            
            

            

            <code class="ruby">          link_to(name, options, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="435">
            
            

            

            <code class="ruby">          if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="436">
            
            

            

            <code class="ruby">            block.arity &lt;= 1 ? capture(name, &amp;block) : capture(name, options, html_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="438">
            
            

            

            <code class="ruby">            ERB::Util.html_escape(name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            
            

            

            <code class="ruby">      # Creates a mailto link tag to the specified +email_address+, which is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">      # also used as the name of the link unless +name+ is specified. Additional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby">      # HTML attributes for the link can be passed in +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">      # +mail_to+ has several methods for customizing the email itself by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">      # passing special keys to +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:subject&lt;/tt&gt; - Preset the subject line of the email.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:body&lt;/tt&gt; - Preset the body of the email.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:cc&lt;/tt&gt; - Carbon Copy additional recipients on the email.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:bcc&lt;/tt&gt; - Blind Carbon Copy additional recipients on the email.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:reply_to&lt;/tt&gt; - Preset the Reply-To field of the email.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">      # ==== Obfuscation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">      # Prior to Rails 4.0, +mail_to+ provided options for encoding the address</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">      # in order to hinder email harvesters.  To take advantage of these options,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">      # install the +actionview-encoded_mail_to+ gem.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">      #   mail_to &quot;me@domain.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;me@domain.com&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">      #   mail_to &quot;me@domain.com&quot;, &quot;My email&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;My email&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">      #   mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, cc: &quot;ccaddress@domain.com&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">      #            subject: &quot;This is an example email&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;mailto:me@domain.com?cc=ccaddress@domain.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">      # You can use a block as well if your link target is hard to fit into the name parameter. ERB example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">      #   &lt;%= mail_to &quot;me@domain.com&quot; do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">      #     &lt;strong&gt;Email me:&lt;/strong&gt; &lt;span&gt;me@domain.com&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">      #          &lt;strong&gt;Email me:&lt;/strong&gt; &lt;span&gt;me@domain.com&lt;/span&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">      #        &lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="481">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def mail_to(email_address, name = nil, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="482">
            
            

            

            <code class="ruby">        html_options, name = name, nil if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="483">
            
            

            

            <code class="ruby">        html_options = (html_options || {}).stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="485">
            
            

            

            <code class="ruby">        extras = %w{ cc bcc body subject reply_to }.map! { |item|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="486">
            
            

            

            <code class="ruby">          option = html_options.delete(item).presence || next</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="487">
            
            

            

            <code class="ruby">          &quot;#{item.dasherize}=#{ERB::Util.url_encode(option)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            
            

            

            <code class="ruby">        }.compact</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="489">
            
            

            

            <code class="ruby">        extras = extras.empty? ? &quot;&quot; : &quot;?&quot; + extras.join(&quot;&amp;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="491">
            
            

            

            <code class="ruby">        encoded_email_address = ERB::Util.url_encode(email_address).gsub(&quot;%40&quot;, &quot;@&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="492">
            
            

            

            <code class="ruby">        html_options[&quot;href&quot;] = &quot;mailto:#{encoded_email_address}#{extras}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="494">
            
            

            

            <code class="ruby">        content_tag(&quot;a&quot;, name || email_address, html_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">      # True if the current request URI was generated by the given +options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">      # Let&#39;s say we&#39;re in the &lt;tt&gt;http://www.example.com/shop/checkout?order=desc&amp;page=1&lt;/tt&gt; action.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">      #   current_page?(action: &#39;process&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">      #   # =&gt; false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">      #   current_page?(action: &#39;checkout&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">      #   # =&gt; true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">      #   current_page?(controller: &#39;library&#39;, action: &#39;checkout&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">      #   # =&gt; false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            
            

            

            <code class="ruby">      #   current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby">      #   # =&gt; true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            
            

            

            <code class="ruby">      #   current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;, order: &#39;asc&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">      #   # =&gt; false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            
            

            

            <code class="ruby">      #   current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;, order: &#39;desc&#39;, page: &#39;1&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby">      #   # =&gt; true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">      #   current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;, order: &#39;desc&#39;, page: &#39;2&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">      #   # =&gt; false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">      #   current_page?(&#39;http://www.example.com/shop/checkout&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">      #   # =&gt; true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            
            

            

            <code class="ruby">      #   current_page?(&#39;http://www.example.com/shop/checkout&#39;, check_parameters: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            
            

            

            <code class="ruby">      #   # =&gt; false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">      #   current_page?(&#39;/shop/checkout&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">      #   # =&gt; true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            
            

            

            <code class="ruby">      #   current_page?(&#39;http://www.example.com/shop/checkout?order=desc&amp;page=1&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            
            

            

            <code class="ruby">      #   # =&gt; true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            
            

            

            <code class="ruby">      # Let&#39;s say we&#39;re in the &lt;tt&gt;http://www.example.com/products&lt;/tt&gt; action with method POST in case of invalid product.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            
            

            

            <code class="ruby">      #   current_page?(controller: &#39;product&#39;, action: &#39;index&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">      #   # =&gt; false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            
            

            

            <code class="ruby">      # We can also pass in the symbol arguments instead of strings.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="542">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def current_page?(options, check_parameters: false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="543">
            
            

            

            <code class="ruby">        unless request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="544">
            
            

            

            <code class="ruby">          raise &quot;You cannot use helpers that need to determine the current &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby">                &quot;page unless your view context provides a Request object &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            
            

            

            <code class="ruby">                &quot;in a #request method&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="549">
            
            

            

            <code class="ruby">        return false unless request.get? || request.head?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="551">
            
            

            

            <code class="ruby">        check_parameters ||= options.is_a?(Hash) &amp;&amp; options.delete(:check_parameters)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="552">
            
            

            

            <code class="ruby">        url_string = URI::DEFAULT_PARSER.unescape(url_for(options)).force_encoding(Encoding::BINARY)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="553">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            
            

            

            <code class="ruby">        # We ignore any extra parameters in the request_uri if the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby">        # submitted URL doesn&#39;t have any either. This lets the function</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">        # work with things like ?order=asc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="557">
            
            

            

            <code class="ruby">        # the behaviour can be disabled with check_parameters: true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="558">
            
            

            

            <code class="ruby">        request_uri = url_string.index(&quot;?&quot;) || check_parameters ? request.fullpath : request.path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="559">
            
            

            

            <code class="ruby">        request_uri = URI::DEFAULT_PARSER.unescape(request_uri).force_encoding(Encoding::BINARY)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="561">
            
            

            

            <code class="ruby">        if url_string.start_with?(&quot;/&quot;) &amp;&amp; url_string != &quot;/&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="562">
            
            

            

            <code class="ruby">          url_string.chomp!(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="563">
            
            

            

            <code class="ruby">          request_uri.chomp!(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="566">
            
            

            

            <code class="ruby">        if %r{^\w+://}.match?(url_string)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="567">
            
            

            

            <code class="ruby">          url_string == &quot;#{request.protocol}#{request.host_with_port}#{request_uri}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="569">
            
            

            

            <code class="ruby">          url_string == request_uri</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">      # Creates an SMS anchor link tag to the specified +phone_number+, which is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">      # also used as the name of the link unless +name+ is specified. Additional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="575">
            
            

            

            <code class="ruby">      # HTML attributes for the link can be passed in +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            
            

            

            <code class="ruby">      # When clicked, an SMS message is prepopulated with the passed phone number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="578">
            
            

            

            <code class="ruby">      # and optional +body+ value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="579">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            
            

            

            <code class="ruby">      # +sms_to+ has a +body+ option for customizing the SMS message itself by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            
            

            

            <code class="ruby">      # passing special keys to +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="582">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="583">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:body&lt;/tt&gt; - Preset the body of the message.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="586">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">      #   sms_to &quot;5155555785&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;sms:5155555785;&quot;&gt;5155555785&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="589">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="590">
            
            

            

            <code class="ruby">      #   sms_to &quot;5155555785&quot;, &quot;Text me&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;sms:5155555785;&quot;&gt;Text me&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            
            

            

            <code class="ruby">      #   sms_to &quot;5155555785&quot;, &quot;Text me&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby">      #          body: &quot;Hello Jim I have a question about your product.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;sms:5155555785;?body=Hello%20Jim%20I%20have%20a%20question%20about%20your%20product&quot;&gt;Text me&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            
            

            

            <code class="ruby">      # You can use a block as well if your link target is hard to fit into the name parameter. \ERB example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            
            

            

            <code class="ruby">      #   &lt;%= sms_to &quot;5155555785&quot; do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            
            

            

            <code class="ruby">      #     &lt;strong&gt;Text me:&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;sms:5155555785;&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">      #          &lt;strong&gt;Text me:&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">      #        &lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="605">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def sms_to(phone_number, name = nil, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="606">
            
            

            

            <code class="ruby">        html_options, name = name, nil if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="607">
            
            

            

            <code class="ruby">        html_options = (html_options || {}).stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="609">
            
            

            

            <code class="ruby">        extras = %w{ body }.map! { |item|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="610">
            
            

            

            <code class="ruby">          option = html_options.delete(item).presence || next</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="611">
            
            

            

            <code class="ruby">          &quot;#{item.dasherize}=#{ERB::Util.url_encode(option)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">        }.compact</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="613">
            
            

            

            <code class="ruby">        extras = extras.empty? ? &quot;&quot; : &quot;?&amp;&quot; + extras.join(&quot;&amp;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="615">
            
            

            

            <code class="ruby">        encoded_phone_number = ERB::Util.url_encode(phone_number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="616">
            
            

            

            <code class="ruby">        html_options[&quot;href&quot;] = &quot;sms:#{encoded_phone_number};#{extras}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="618">
            
            

            

            <code class="ruby">        content_tag(&quot;a&quot;, name || phone_number, html_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            
            

            

            <code class="ruby">      # Creates a TEL anchor link tag to the specified +phone_number+, which is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="622">
            
            

            

            <code class="ruby">      # also used as the name of the link unless +name+ is specified. Additional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">      # HTML attributes for the link can be passed in +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">      # When clicked, the default app to make calls is opened, and it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">      # is prepopulated with the passed phone number and optional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            
            

            

            <code class="ruby">      # +country_code+ value.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">      # +phone_to+ has an optional +country_code+ option which automatically adds the country</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby">      # code as well as the + sign in the phone numer that gets prepopulated,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">      # for example if +country_code: &quot;01&quot;+  +\+01+ will be prepended to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby">      # phone numer, by passing special keys to +html_options+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="634">
            
            

            

            <code class="ruby">      # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;:country_code&lt;/tt&gt; - Prepends the country code to the number</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            
            

            

            <code class="ruby">      # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            
            

            

            <code class="ruby">      #   phone_to &quot;1234567890&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;tel:1234567890&quot;&gt;1234567890&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby">      #   phone_to &quot;1234567890&quot;, &quot;Phone me&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="642">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;tel:134567890&quot;&gt;Phone me&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            
            

            

            <code class="ruby">      #   phone_to &quot;1234567890&quot;, &quot;Phone me&quot;, country_code: &quot;01&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;tel:+015155555785&quot;&gt;Phone me&lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="646">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">      # You can use a block as well if your link target is hard to fit into the name parameter. \ERB example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="648">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="649">
            
            

            

            <code class="ruby">      #   &lt;%= phone_to &quot;1234567890&quot; do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="650">
            
            

            

            <code class="ruby">      #     &lt;strong&gt;Phone me:&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="651">
            
            

            

            <code class="ruby">      #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            
            

            

            <code class="ruby">      #   # =&gt; &lt;a href=&quot;tel:1234567890&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">      #          &lt;strong&gt;Phone me:&lt;/strong&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="654">
            
            

            

            <code class="ruby">      #        &lt;/a&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="655">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def phone_to(phone_number, name = nil, html_options = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="656">
            
            

            

            <code class="ruby">        html_options, name = name, nil if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="657">
            
            

            

            <code class="ruby">        html_options = (html_options || {}).stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="658">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="659">
            
            

            

            <code class="ruby">        country_code = html_options.delete(&quot;country_code&quot;).presence</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="660">
            
            

            

            <code class="ruby">        country_code = country_code.nil? ? &quot;&quot; : &quot;+#{ERB::Util.url_encode(country_code)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="662">
            
            

            

            <code class="ruby">        encoded_phone_number = ERB::Util.url_encode(phone_number)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="663">
            
            

            

            <code class="ruby">        html_options[&quot;href&quot;] = &quot;tel:#{country_code}#{encoded_phone_number}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="665">
            
            

            

            <code class="ruby">        content_tag(&quot;a&quot;, name || phone_number, html_options, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="667">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="668">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="669">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def convert_options_to_data_attributes(options, html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="670">
            
            

            

            <code class="ruby">          if html_options</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="671">
            
            

            

            <code class="ruby">            html_options = html_options.stringify_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="672">
            
            

            

            <code class="ruby">            html_options[&quot;data-remote&quot;] = &quot;true&quot; if link_to_remote_options?(options) || link_to_remote_options?(html_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="674">
            
            

            

            <code class="ruby">            method = html_options.delete(&quot;method&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="676">
            
            

            

            <code class="ruby">            add_method_to_attributes!(html_options, method) if method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="678">
            
            

            

            <code class="ruby">            html_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="680">
            
            

            

            <code class="ruby">            link_to_remote_options?(options) ? { &quot;data-remote&quot; =&gt; &quot;true&quot; } : {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="682">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="684">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def link_to_remote_options?(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="685">
            
            

            

            <code class="ruby">          if options.is_a?(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="686">
            
            

            

            <code class="ruby">            options.delete(&quot;remote&quot;) || options.delete(:remote)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="690">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def add_method_to_attributes!(html_options, method)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="691">
            
            

            

            <code class="ruby">          if method_not_get_method?(method) &amp;&amp; !html_options[&quot;rel&quot;]&amp;.match?(/nofollow/)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="692">
            
            

            

            <code class="ruby">            if html_options[&quot;rel&quot;].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="693">
            
            

            

            <code class="ruby">              html_options[&quot;rel&quot;] = &quot;nofollow&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="694">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="695">
            
            

            

            <code class="ruby">              html_options[&quot;rel&quot;] = &quot;#{html_options[&quot;rel&quot;]} nofollow&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="696">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="697">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="698">
            
            

            

            <code class="ruby">          html_options[&quot;data-method&quot;] = method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="700">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="701">
            <span class="hits">1</span>
            

            

            <code class="ruby">        STRINGIFIED_COMMON_METHODS = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="702">
            
            

            

            <code class="ruby">          get:    &quot;get&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="703">
            
            

            

            <code class="ruby">          delete: &quot;delete&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby">          patch:  &quot;patch&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="705">
            
            

            

            <code class="ruby">          post:   &quot;post&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="706">
            
            

            

            <code class="ruby">          put:    &quot;put&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            
            

            

            <code class="ruby">        }.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="709">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def method_not_get_method?(method)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="710">
            
            

            

            <code class="ruby">          return false unless method</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="711">
            
            

            

            <code class="ruby">          (STRINGIFIED_COMMON_METHODS[method] || method.to_s.downcase) != &quot;get&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="714">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def token_tag(token = nil, form_options: {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="715">
            
            

            

            <code class="ruby">          if token != false &amp;&amp; defined?(protect_against_forgery?) &amp;&amp; protect_against_forgery?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="716">
            
            

            

            <code class="ruby">            token ||= form_authenticity_token(form_options: form_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="717">
            
            

            

            <code class="ruby">            tag(:input, type: &quot;hidden&quot;, name: request_forgery_protection_token.to_s, value: token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="719">
            
            

            

            <code class="ruby">            &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="723">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def method_tag(method)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="724">
            
            

            

            <code class="ruby">          tag(&quot;input&quot;, type: &quot;hidden&quot;, name: &quot;_method&quot;, value: method.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            
            

            

            <code class="ruby">        # Returns an array of hashes each containing :name and :value keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            
            

            

            <code class="ruby">        # suitable for use as the names and values of form input fields:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            
            

            

            <code class="ruby">        #   to_form_params(name: &#39;David&#39;, nationality: &#39;Danish&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            
            

            

            <code class="ruby">        #   # =&gt; [{name: &#39;name&#39;, value: &#39;David&#39;}, {name: &#39;nationality&#39;, value: &#39;Danish&#39;}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            
            

            

            <code class="ruby">        #   to_form_params(country: { name: &#39;Denmark&#39; })</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            
            

            

            <code class="ruby">        #   # =&gt; [{name: &#39;country[name]&#39;, value: &#39;Denmark&#39;}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            
            

            

            <code class="ruby">        #   to_form_params(countries: [&#39;Denmark&#39;, &#39;Sweden&#39;]})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby">        #   # =&gt; [{name: &#39;countries[]&#39;, value: &#39;Denmark&#39;}, {name: &#39;countries[]&#39;, value: &#39;Sweden&#39;}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="738">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="739">
            
            

            

            <code class="ruby">        # An optional namespace can be passed to enclose key names:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="741">
            
            

            

            <code class="ruby">        #   to_form_params({ name: &#39;Denmark&#39; }, &#39;country&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="742">
            
            

            

            <code class="ruby">        #   # =&gt; [{name: &#39;country[name]&#39;, value: &#39;Denmark&#39;}]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="743">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def to_form_params(attribute, namespace = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="744">
            
            

            

            <code class="ruby">          attribute = if attribute.respond_to?(:permitted?)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="745">
            
            

            

            <code class="ruby">            attribute.to_h</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="747">
            
            

            

            <code class="ruby">            attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="748">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="749">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="750">
            
            

            

            <code class="ruby">          params = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="751">
            
            

            

            <code class="ruby">          case attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            
            

            

            <code class="ruby">          when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="753">
            
            

            

            <code class="ruby">            attribute.each do |key, value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="754">
            
            

            

            <code class="ruby">              prefix = namespace ? &quot;#{namespace}[#{key}]&quot; : key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="755">
            
            

            

            <code class="ruby">              params.push(*to_form_params(value, prefix))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="756">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="757">
            
            

            

            <code class="ruby">          when Array</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="758">
            
            

            

            <code class="ruby">            array_prefix = &quot;#{namespace}[]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="759">
            
            

            

            <code class="ruby">            attribute.each do |value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="760">
            
            

            

            <code class="ruby">              params.push(*to_form_params(value, array_prefix))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="761">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="762">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="763">
            
            

            

            <code class="ruby">            params &lt;&lt; { name: namespace.to_s, value: attribute.to_param }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="766">
            
            

            

            <code class="ruby">          params.sort_by { |pair| pair[:name] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="768">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="769">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="770">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="34947cad38bcc3ced4d28f85d02b6aee11bc6b3e">
  <div class="header">
    <h3>lib/action_view/layouts.rb</h3>
    <h4>
      <span class="red">
  50.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>84</b> relevant lines.
      <span class="green"><b>42</b> lines covered</span> and
      <span class="red"><b>42</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/rendering&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/redefine_method&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # Layouts reverse the common pattern of including shared headers and footers in many templates to isolate changes in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # repeated setups. The inclusion pattern has pages that look like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  #   &lt;%= render &quot;shared/header&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  #   Hello World</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  #   &lt;%= render &quot;shared/footer&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  # This approach is a decent way of keeping common structures isolated from the changing content, but it&#39;s verbose</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  # and if you ever want to change the structure of these two includes, you&#39;ll have to change all the templates.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # With layouts, you can flip it around and have the common structure know where to insert changing content. This means</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  # that the header and footer are only mentioned in one place, like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  #   // The header part of this layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  #   &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  #   // The footer part of this layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  # And then you have content pages that look like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  #    hello world</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  # At rendering time, the content page is computed and then inserted in the layout, like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  #   // The header part of this layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  #   hello world</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">  #   // The footer part of this layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  # == Accessing shared variables</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  # Layouts have access to variables specified in the content pages and vice versa. This allows you to have layouts with</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  # references that won&#39;t materialize before rendering time:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">  #   &lt;h1&gt;&lt;%= @page_title %&gt;&lt;/h1&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  #   &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  # ...and content pages that fulfill these references _at_ rendering time:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  #    &lt;% @page_title = &quot;Welcome&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">  #    Off-world colonies offers you a chance to start a new life</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  # The result after rendering is:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">  #   &lt;h1&gt;Welcome&lt;/h1&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">  #   Off-world colonies offers you a chance to start a new life</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">  # == Layout assignment</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">  # You can either specify a layout declaratively (using the #layout class method) or give</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  # it the same name as your controller, and place it in &lt;tt&gt;app/views/layouts&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  # If a subclass does not have a layout specified, it inherits its layout using normal Ruby inheritance.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">  # For instance, if you have PostsController and a template named &lt;tt&gt;app/views/layouts/posts.html.erb&lt;/tt&gt;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  # that template will be used for all actions in PostsController and controllers inheriting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">  # from PostsController.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">  # If you use a module, for instance Weblog::PostsController, you will need a template named</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">  # &lt;tt&gt;app/views/layouts/weblog/posts.html.erb&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  # Since all your controllers inherit from ApplicationController, they will use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">  # &lt;tt&gt;app/views/layouts/application.html.erb&lt;/tt&gt; if no other layout is specified</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  # or provided.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  # == Inheritance Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">  #   class BankController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">  #     # bank.html.erb exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">  #   class ExchangeController &lt; BankController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">  #     # exchange.html.erb exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">  #   class CurrencyController &lt; BankController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">  #   class InformationController &lt; BankController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">  #     layout &quot;information&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">  #   class TellerController &lt; InformationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">  #     # teller.html.erb exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  #   class EmployeeController &lt; InformationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">  #     # employee.html.erb exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">  #     layout nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">  #   class VaultController &lt; BankController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">  #     layout :access_level_layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">  #   class TillController &lt; BankController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">  #     layout false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  # In these examples, we have three implicit lookup scenarios:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">  # * The +BankController+ uses the &quot;bank&quot; layout.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">  # * The +ExchangeController+ uses the &quot;exchange&quot; layout.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">  # * The +CurrencyController+ inherits the layout from BankController.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">  # However, when a layout is explicitly set, the explicitly set layout wins:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">  # * The +InformationController+ uses the &quot;information&quot; layout, explicitly set.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">  # * The +TellerController+ also uses the &quot;information&quot; layout, because the parent explicitly set it.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">  # * The +EmployeeController+ uses the &quot;employee&quot; layout, because it set the layout to +nil+, resetting the parent configuration.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">  # * The +VaultController+ chooses a layout dynamically by calling the &lt;tt&gt;access_level_layout&lt;/tt&gt; method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">  # * The +TillController+ does not use a layout at all.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">  # == Types of layouts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">  # Layouts are basically just regular templates, but the name of this template needs not be specified statically. Sometimes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">  # you want to alternate layouts depending on runtime information, such as whether someone is logged in or not. This can</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">  # be done either by specifying a method reference as a symbol or using an inline method (as a proc).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">  # The method reference is the preferred approach to variable layouts and is used like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">  #   class WeblogController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">  #     layout :writers_and_readers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">  #     def index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">  #       # fetching posts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">  #     private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">  #       def writers_and_readers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">  #         logged_in? ? &quot;writer_layout&quot; : &quot;reader_layout&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">  #       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">  # Now when a new request for the index action is processed, the layout will vary depending on whether the person accessing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">  # is logged in or not.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">  # If you want to use an inline method, such as a proc, do something like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">  #   class WeblogController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">  #     layout proc { |controller| controller.logged_in? ? &quot;writer_layout&quot; : &quot;reader_layout&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">  # If an argument isn&#39;t given to the proc, it&#39;s evaluated in the context of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">  # the current controller anyway.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">  #   class WeblogController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">  #     layout proc { logged_in? ? &quot;writer_layout&quot; : &quot;reader_layout&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">  # Of course, the most common way of specifying a layout is still just as a plain template name:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">  #   class WeblogController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">  #     layout &quot;weblog_standard&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">  # The template will be looked always in &lt;tt&gt;app/views/layouts/&lt;/tt&gt; folder. But you can point</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">  # &lt;tt&gt;layouts&lt;/tt&gt; folder direct also. &lt;tt&gt;layout &quot;layouts/demo&quot;&lt;/tt&gt; is the same as &lt;tt&gt;layout &quot;demo&quot;&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">  # Setting the layout to +nil+ forces it to be looked up in the filesystem and fallbacks to the parent behavior if none exists.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">  # Setting it to +nil+ is useful to re-enable template lookup overriding a previous configuration set in the parent:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">  #     class ApplicationController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">  #       layout &quot;application&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">  #     class PostsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">  #       # Will use &quot;application&quot; layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">  #     class CommentsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">  #       # Will search for &quot;comments&quot; layout and fallback &quot;application&quot; layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">  #       layout nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">  # == Conditional layouts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">  # If you have a layout that by default is applied to all the actions of a controller, you still have the option of rendering</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">  # a given action or set of actions without a layout, or restricting a layout to only a single action or a set of actions. The</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">  # &lt;tt&gt;:only&lt;/tt&gt; and &lt;tt&gt;:except&lt;/tt&gt; options can be passed to the layout call. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">  #   class WeblogController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">  #     layout &quot;weblog_standard&quot;, except: :rss</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">  #     # ...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">  # This will assign &quot;weblog_standard&quot; as the WeblogController&#39;s layout for all actions except for the +rss+ action, which will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">  # be rendered directly, without wrapping a layout around the rendered view.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">  # Both the &lt;tt&gt;:only&lt;/tt&gt; and &lt;tt&gt;:except&lt;/tt&gt; condition can accept an arbitrary number of method references, so</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">  # #&lt;tt&gt;except: [ :rss, :text_only ]&lt;/tt&gt; is valid, as is &lt;tt&gt;except: :rss&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">  # == Using a different layout in the action render call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">  # If most of your actions use the same layout, it makes perfect sense to define a controller-wide layout as described above.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">  # Sometimes you&#39;ll have exceptions where one action wants to use a different layout than the rest of the controller.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">  # You can do this by passing a &lt;tt&gt;:layout&lt;/tt&gt; option to the &lt;tt&gt;render&lt;/tt&gt; call. For example:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">  #   class WeblogController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">  #     layout &quot;weblog_standard&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">  #     def help</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">  #       render action: &quot;help&quot;, layout: &quot;help&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">  # This will override the controller-wide &quot;weblog_standard&quot; layout, and will render the help action with the &quot;help&quot; layout instead.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="203">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Layouts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="206">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionView::Rendering</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="208">
            <span class="hits">1</span>
            

            

            <code class="ruby">    included do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="209">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class_attribute :_layout, instance_accessor: false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="210">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class_attribute :_layout_conditions, instance_accessor: false, default: {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="212">
            <span class="hits">1</span>
            

            

            <code class="ruby">      _write_layout_method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="215">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delegate :_layout_conditions, to: :class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="217">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ClassMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="218">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def inherited(klass) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="219">
            <span class="hits">9</span>
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="220">
            <span class="hits">9</span>
            

            

            <code class="ruby">        klass._write_layout_method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">      # This module is mixed in if layout conditions are provided. This means</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      # that if no layout conditions are used, this method is not used</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="225">
            <span class="hits">1</span>
            

            

            <code class="ruby">      module LayoutConditions # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="226">
            <span class="hits">1</span>
            

            

            <code class="ruby">        private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">          # Determines whether the current action has a layout definition by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">          # checking the action name against the :only and :except conditions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">          # set by the &lt;tt&gt;layout&lt;/tt&gt; method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">          #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">          # ==== Returns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">          # * &lt;tt&gt;Boolean&lt;/tt&gt; - True if the action has a layout definition, false otherwise.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="233">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def _conditional_layout?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="234">
            
            

            

            <code class="ruby">            return unless super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="236">
            
            

            

            <code class="ruby">            conditions = _layout_conditions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="238">
            
            

            

            <code class="ruby">            if only = conditions[:only]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="239">
            
            

            

            <code class="ruby">              only.include?(action_name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="240">
            
            

            

            <code class="ruby">            elsif except = conditions[:except]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="241">
            
            

            

            <code class="ruby">              !except.include?(action_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="243">
            
            

            

            <code class="ruby">              true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">      # Specify the layout to use for this class.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      # If the specified layout is a:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">      # String:: the String is the template name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      # Symbol:: call the method specified by the symbol</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">      # Proc::   call the passed Proc</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">      # false::  There is no layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">      # true::   raise an ArgumentError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      # nil::    Force default layout behavior with inheritance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      # Return value of +Proc+ and +Symbol+ arguments should be +String+, +false+, +true+ or +nil+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      # with the same meaning as described above.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;layout&lt;/tt&gt; - The layout to use.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">      # ==== Options (conditions)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      # * :only   - A list of actions to apply this layout to.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      # * :except - Apply this layout to all actions but this one.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="266">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def layout(layout, conditions = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="267">
            
            

            

            <code class="ruby">        include LayoutConditions unless conditions.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="269">
            
            

            

            <code class="ruby">        conditions.each { |k, v| conditions[k] = Array(v).map(&amp;:to_s) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="270">
            
            

            

            <code class="ruby">        self._layout_conditions = conditions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="272">
            
            

            

            <code class="ruby">        self._layout = layout</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="273">
            
            

            

            <code class="ruby">        _write_layout_method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">      # Creates a _layout method to be called by _default_layout .</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">      # If a layout is not explicitly mentioned then look for a layout with the controller&#39;s name.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">      # if nothing is found then try same procedure to find super class&#39;s layout.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="280">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _write_layout_method # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="281">
            <span class="hits">10</span>
            

            

            <code class="ruby">        silence_redefinition_of_method(:_layout)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="283">
            <span class="hits">10</span>
            

            

            <code class="ruby">        prefixes = /\blayouts/.match?(_implied_layout_name) ? [] : [&quot;layouts&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="284">
            <span class="hits">10</span>
            

            

            <code class="ruby">        default_behavior = &quot;lookup_context.find_all(&#39;#{_implied_layout_name}&#39;, #{prefixes.inspect}, false, [], { formats: formats }).first || super&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="285">
            <span class="hits">10</span>
            

            

            <code class="ruby">        name_clause = if name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="286">
            <span class="hits">10</span>
            

            

            <code class="ruby">          default_behavior</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="288">
            
            

            

            <code class="ruby">          &lt;&lt;-RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">            super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">          RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="293">
            <span class="hits">10</span>
            

            

            <code class="ruby">        layout_definition = \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">          case _layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">          when String</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="296">
            
            

            

            <code class="ruby">            _layout.inspect</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">          when Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="298">
            
            

            

            <code class="ruby">            &lt;&lt;-RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">              #{_layout}.tap do |layout|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">                return #{default_behavior} if layout.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">                unless layout.is_a?(String) || !layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">                  raise ArgumentError, &quot;Your layout method :#{_layout} returned \#{layout}. It &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">                    &quot;should have returned a String, false, or nil&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">            RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">          when Proc</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="308">
            
            

            

            <code class="ruby">            define_method :_layout_from_proc, &amp;_layout</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="309">
            
            

            

            <code class="ruby">            private :_layout_from_proc</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="310">
            
            

            

            <code class="ruby">            &lt;&lt;-RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">              result = _layout_from_proc(#{_layout.arity == 0 ? &#39;&#39; : &#39;self&#39;})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">              return #{default_behavior} if result.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">              result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">            RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">          when false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="316">
            
            

            

            <code class="ruby">            nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">          when true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="318">
            
            

            

            <code class="ruby">            raise ArgumentError, &quot;Layouts must be specified as a String, Symbol, Proc, false, or nil&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">          when nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="320">
            <span class="hits">10</span>
            

            

            <code class="ruby">            name_clause</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="323">
            <span class="hits">10</span>
            

            

            <code class="ruby">        class_eval &lt;&lt;-RUBY, __FILE__, __LINE__ + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">          # frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">          def _layout(lookup_context, formats)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">            if _conditional_layout?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">              #{layout_definition}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">              #{name_clause}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">          private :_layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">        RUBY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="336">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">        # If no layout is supplied, look for a template named the return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">        # value of this method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">        # ==== Returns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">        # * &lt;tt&gt;String&lt;/tt&gt; - A template name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="342">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def _implied_layout_name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="343">
            <span class="hits">20</span>
            

            

            <code class="ruby">          controller_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="347">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _normalize_options(options) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="348">
            
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="350">
            
            

            

            <code class="ruby">      if _include_layout?(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="351">
            
            

            

            <code class="ruby">        layout = options.delete(:layout) { :default }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="352">
            
            

            

            <code class="ruby">        options[:layout] = _layout_for_option(layout)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="356">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_internal_writer :action_has_layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="358">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(*) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="359">
            
            

            

            <code class="ruby">      @_action_has_layout = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="360">
            
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">    # Controls whether an action should be rendered using a layout.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">    # If you want to disable any &lt;tt&gt;layout&lt;/tt&gt; settings for the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">    # current action so that it is rendered without a layout then</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">    # either override this method in your controller to return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">    # for that action or set the &lt;tt&gt;action_has_layout&lt;/tt&gt; attribute</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">    # to false before rendering.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="369">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def action_has_layout?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="370">
            
            

            

            <code class="ruby">      @_action_has_layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="373">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="374">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _conditional_layout?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="375">
            
            

            

            <code class="ruby">      true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">    # This will be overwritten by _write_layout_method</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="379">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _layout(*); end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">    # Determine the layout for a given name, taking into account the name type.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">    # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;name&lt;/tt&gt; - The name of the template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="385">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _layout_for_option(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="386">
            
            

            

            <code class="ruby">      case name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="387">
            
            

            

            <code class="ruby">      when String     then _normalize_layout(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="388">
            
            

            

            <code class="ruby">      when Proc       then name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="389">
            
            

            

            <code class="ruby">      when true       then Proc.new { |lookup_context, formats| _default_layout(lookup_context, formats, true)  }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="390">
            
            

            

            <code class="ruby">      when :default   then Proc.new { |lookup_context, formats| _default_layout(lookup_context, formats, false) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">      when false, nil then nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="393">
            
            

            

            <code class="ruby">        raise ArgumentError,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">          &quot;String, Proc, :default, true, or false, expected for `layout&#39;; you passed #{name.inspect}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="398">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _normalize_layout(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="399">
            
            

            

            <code class="ruby">      value.is_a?(String) &amp;&amp; !value.match?(/\blayouts/) ? &quot;layouts/#{value}&quot; : value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">    # Returns the default layout for this controller.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">    # Optionally raises an exception if the layout could not be found.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">    # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;formats&lt;/tt&gt; - The formats accepted to this layout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;require_layout&lt;/tt&gt; - If set to +true+ and layout is not found,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby">    #   an +ArgumentError+ exception is raised (defaults to +false+)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">    # ==== Returns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;template&lt;/tt&gt; - The template object for the default layout (or +nil+)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="412">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _default_layout(lookup_context, formats, require_layout = false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="413">
            
            

            

            <code class="ruby">      begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="414">
            
            

            

            <code class="ruby">        value = _layout(lookup_context, formats) if action_has_layout?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">      rescue NameError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="416">
            
            

            

            <code class="ruby">        raise e, &quot;Could not render layout: #{e.message}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="419">
            
            

            

            <code class="ruby">      if require_layout &amp;&amp; action_has_layout? &amp;&amp; !value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="420">
            
            

            

            <code class="ruby">        raise ArgumentError,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">          &quot;There was no default layout for #{self.class} in #{view_paths.inspect}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="424">
            
            

            

            <code class="ruby">      _normalize_layout(value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="427">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _include_layout?(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="428">
            
            

            

            <code class="ruby">      (options.keys &amp; [:body, :plain, :html, :inline, :partial]).empty? || options.key?(:layout)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="45cab595c1f5114afcd6cb465979cb1d7a12e0b2">
  <div class="header">
    <h3>lib/action_view/log_subscriber.rb</h3>
    <h4>
      <span class="red">
  33.33%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>63</b> relevant lines.
      <span class="green"><b>21</b> lines covered</span> and
      <span class="red"><b>42</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/log_subscriber&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # = Action View Log Subscriber</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # Provides functionality so that Rails can output logs from Action View.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class LogSubscriber &lt; ActiveSupport::LogSubscriber</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    VIEWS_PATTERN = /^app\/views\//</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @root = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_template(event)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">      info do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">        message = +&quot;  Rendered #{from_rails_root(event.payload[:identifier])}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; within #{from_rails_root(event.payload[:layout])}&quot; if event.payload[:layout]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; (Duration: #{event.duration.round(1)}ms | Allocations: #{event.allocations})&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_partial(event)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">      debug do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">        message = +&quot;  Rendered #{from_rails_root(event.payload[:identifier])}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; within #{from_rails_root(event.payload[:layout])}&quot; if event.payload[:layout]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; (Duration: #{event.duration.round(1)}ms | Allocations: #{event.allocations})&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; #{cache_message(event.payload)}&quot; unless event.payload[:cache_hit].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">        message</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_layout(event)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">      info do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">        message = +&quot;  Rendered layout #{from_rails_root(event.payload[:identifier])}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; (Duration: #{event.duration.round(1)}ms | Allocations: #{event.allocations})&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_collection(event)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">      identifier = event.payload[:identifier] || &quot;templates&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">      debug do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        message = +&quot;  Rendered collection of #{from_rails_root(identifier)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; within #{from_rails_root(event.payload[:layout])}&quot; if event.payload[:layout]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; #{render_count(event.payload)} (Duration: #{event.duration.round(1)}ms | Allocations: #{event.allocations})&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">        message</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def start(name, id, payload)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">      log_rendering_start(payload, name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def logger</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">      ActionView::Base.logger</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">    EMPTY = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def from_rails_root(string) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">      string = string.sub(rails_root, EMPTY)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">      string.sub!(VIEWS_PATTERN, EMPTY)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="68">
            
            

            

            <code class="ruby">      string</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def rails_root # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="72">
            
            

            

            <code class="ruby">      @root ||= &quot;#{Rails.root}/&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_count(payload) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">      if payload[:cache_hits]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">        &quot;[#{payload[:cache_hits]} / #{payload[:count]} cache hits]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">        &quot;[#{payload[:count]} times]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def cache_message(payload) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">      case payload[:cache_hit]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      when :hit</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">        &quot;[cache hit]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      when :miss</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">        &quot;[cache miss]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def log_rendering_start(payload, name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">      debug do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="94">
            
            

            

            <code class="ruby">        qualifier =</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">          if name == &quot;render_template.action_view&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">            &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">          elsif name == &quot;render_layout.action_view&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">            &quot;layout &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">        return unless qualifier</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">        message = +&quot;  Rendering #{qualifier}#{from_rails_root(payload[:identifier])}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        message &lt;&lt; &quot; within #{from_rails_root(payload[:layout])}&quot; if payload[:layout]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">        message</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">ActionView::LogSubscriber.attach_to :action_view</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4e112c67e0df16aa400e9a1352d1ecef3370f305">
  <div class="header">
    <h3>lib/action_view/lookup_context.rb</h3>
    <h4>
      <span class="red">
  43.98%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>166</b> relevant lines.
      <span class="green"><b>73</b> lines covered</span> and
      <span class="red"><b>93</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;concurrent/map&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/template/resolver&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # = Action View Lookup Context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # &lt;tt&gt;LookupContext&lt;/tt&gt; is the object responsible for holding all information</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # required for looking up templates, i.e. view paths and details.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  # &lt;tt&gt;LookupContext&lt;/tt&gt; is also responsible for generating a key, given to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # view paths, used in the resolver cache lookup. Since this key is generated</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  # only once during the request, it speeds up all cache accesses.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class LookupContext #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_accessor :prefixes, :rendered_format</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate :rendered_format</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate :rendered_format=</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">    mattr_accessor :fallbacks, default: FallbackFileSystemResolver.instances</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">    mattr_accessor :registered_details, default: []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.register_detail(name, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="25">
            <span class="hits">4</span>
            

            

            <code class="ruby">      registered_details &lt;&lt; name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="26">
            <span class="hits">4</span>
            

            

            <code class="ruby">      Accessors::DEFAULT_PROCS[name] = block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="28">
            <span class="hits">4</span>
            

            

            <code class="ruby">      Accessors.define_method(:&quot;default_#{name}&quot;, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="29">
            <span class="hits">4</span>
            

            

            <code class="ruby">      Accessors.module_eval &lt;&lt;-METHOD, __FILE__, __LINE__ + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">        def #{name}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">          @details[:#{name}] || []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">        def #{name}=(value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">          value = value.present? ? Array(value) : default_#{name}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">          _set_detail(:#{name}, value) if value != @details[:#{name}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      METHOD</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    # Holds accessors for the registered details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Accessors #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      DEFAULT_PROCS = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    register_detail(:locale) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">      locales = [I18n.locale]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">      locales.concat(I18n.fallbacks[I18n.locale]) if I18n.respond_to? :fallbacks</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">      locales &lt;&lt; I18n.default_locale</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">      locales.uniq!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">      locales</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">    register_detail(:formats) { ActionView::Base.default_formats || [:html, :text, :js, :css,  :xml, :json] }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    register_detail(:variants) { [] }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">    register_detail(:handlers) { Template::Handlers.extensions }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class DetailsKey #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :eql? :equal?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @details_keys = Concurrent::Map.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @digest_cache = Concurrent::Map.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @view_context_mutex = Mutex.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.digest_cache(details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">        @digest_cache[details_cache_key(details)] ||= Concurrent::Map.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.details_cache_key(details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">        if details[:formats]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">          details = details.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">          details[:formats] &amp;= Template::Types.symbols</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">        @details_keys[details] ||= Object.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.clear</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">        ActionView::ViewPaths.all_view_paths.each do |path_set|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">          path_set.each(&amp;:clear_cache)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">        ActionView::LookupContext.fallbacks.each(&amp;:clear_cache)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @view_context_class = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @details_keys.clear</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @digest_cache.clear</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.digest_caches</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">        @digest_cache.values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.view_context_class(klass)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        @view_context_mutex.synchronize do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">          @view_context_class ||= klass.with_empty_template_cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">    # Add caching behavior on top of Details.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module DetailsCache</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_accessor :cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      # Calculate the details key. Remove the handlers from calculation to improve performance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      # since the user cannot modify it explicitly.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def details_key #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        @details_key ||= DetailsKey.details_cache_key(@details) if @cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # Temporary skip passing the details_key forward.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def disable_cache</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">        old_value, @cache = @cache, false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">        yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      ensure</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="112">
            
            

            

            <code class="ruby">        @cache = old_value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _set_detail(key, value) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="117">
            
            

            

            <code class="ruby">        @details = @details.dup if @digest_cache || @details_key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="118">
            
            

            

            <code class="ruby">        @digest_cache = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="119">
            
            

            

            <code class="ruby">        @details_key = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">        @details[key] = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">    # Helpers related to template lookup using the lookup context information.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ViewPaths</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :view_paths, :html_fallback_for_js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="128">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find(name, prefixes = [], partial = false, keys = [], options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="129">
            
            

            

            <code class="ruby">        @view_paths.find(*args_for_lookup(name, prefixes, partial, keys, options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :find_template :find</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :find_file :find</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            <span class="hits">1</span>
            

            

            <code class="ruby">      deprecate :find_file</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_all(name, prefixes = [], partial = false, keys = [], options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">        @view_paths.find_all(*args_for_lookup(name, prefixes, partial, keys, options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def exists?(name, prefixes = [], partial = false, keys = [], **options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">        @view_paths.exists?(*args_for_lookup(name, prefixes, partial, keys, options))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :template_exists? :exists?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def any?(name, prefixes = [], partial = false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">        @view_paths.exists?(*args_for_any(name, prefixes, partial))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="148">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :any_templates? :any?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">      # Adds fallbacks to the view paths. Useful in cases when you are rendering</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      # a :file.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def with_fallbacks</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="153">
            
            

            

            <code class="ruby">        view_paths = build_view_paths((@view_paths.paths + self.class.fallbacks).uniq)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="155">
            
            

            

            <code class="ruby">        if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="156">
            
            

            

            <code class="ruby">          ActiveSupport::Deprecation.warn &lt;&lt;~eowarn.squish</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">          Calling `with_fallbacks` with a block is deprecated.  Call methods on</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">          the lookup context returned by `with_fallbacks` instead.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">          eowarn</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="161">
            
            

            

            <code class="ruby">          begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="162">
            
            

            

            <code class="ruby">            _view_paths = @view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="163">
            
            

            

            <code class="ruby">            @view_paths = view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="164">
            
            

            

            <code class="ruby">            yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">          ensure</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="166">
            
            

            

            <code class="ruby">            @view_paths = _view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="169">
            
            

            

            <code class="ruby">          ActionView::LookupContext.new(view_paths, @details, @prefixes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="173">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">      # Whenever setting view paths, makes a copy so that we can manipulate them in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">      # instance objects as we wish.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="176">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_view_paths(paths)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">        ActionView::PathSet.new(Array(paths))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def args_for_lookup(name, prefixes, partial, keys, details_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">        name, prefixes = normalize_name(name, prefixes)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="182">
            
            

            

            <code class="ruby">        details, details_key = detail_args_for(details_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="183">
            
            

            

            <code class="ruby">        [name, prefixes, partial || false, details, details_key, keys]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      # Compute details hash and key according to user options (e.g. passed from #render).</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="187">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def detail_args_for(options) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="188">
            
            

            

            <code class="ruby">        return @details, details_key if options.empty? # most common path.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">        user_details = @details.merge(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="191">
            
            

            

            <code class="ruby">        if @cache</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="192">
            
            

            

            <code class="ruby">          details_key = DetailsKey.details_cache_key(user_details)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="194">
            
            

            

            <code class="ruby">          details_key = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="197">
            
            

            

            <code class="ruby">        [user_details, details_key]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def args_for_any(name, prefixes, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="201">
            
            

            

            <code class="ruby">        name, prefixes = normalize_name(name, prefixes)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="202">
            
            

            

            <code class="ruby">        details, details_key = detail_args_for_any</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="203">
            
            

            

            <code class="ruby">        [name, prefixes, partial || false, details, details_key]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="206">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def detail_args_for_any</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="207">
            
            

            

            <code class="ruby">        @detail_args_for_any ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="208">
            
            

            

            <code class="ruby">          details = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="210">
            
            

            

            <code class="ruby">          registered_details.each do |k|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="211">
            
            

            

            <code class="ruby">            if k == :variants</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="212">
            
            

            

            <code class="ruby">              details[k] = :any</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="214">
            
            

            

            <code class="ruby">              details[k] = Accessors::DEFAULT_PROCS[k].call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="218">
            
            

            

            <code class="ruby">          if @cache</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="219">
            
            

            

            <code class="ruby">            [details, DetailsKey.details_cache_key(details)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="221">
            
            

            

            <code class="ruby">            [details, nil]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      # Support legacy foo.erb names even though we now ignore .erb</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      # as well as incorrectly putting part of the path in the template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # name instead of the prefix.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="229">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def normalize_name(name, prefixes)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="230">
            
            

            

            <code class="ruby">        prefixes = prefixes.presence</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="231">
            
            

            

            <code class="ruby">        parts    = name.to_s.split(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="232">
            
            

            

            <code class="ruby">        parts.shift if parts.first.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="233">
            
            

            

            <code class="ruby">        name = parts.pop</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="235">
            
            

            

            <code class="ruby">        return name, prefixes || [&quot;&quot;] if parts.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="237">
            
            

            

            <code class="ruby">        parts    = parts.join(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="238">
            
            

            

            <code class="ruby">        prefixes = prefixes ? prefixes.map { |p| &quot;#{p}/#{parts}&quot; } : [parts]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="240">
            
            

            

            <code class="ruby">        return name, prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include Accessors</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include DetailsCache</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="246">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ViewPaths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(view_paths, details = {}, prefixes = [])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="249">
            
            

            

            <code class="ruby">      @details_key = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="250">
            
            

            

            <code class="ruby">      @digest_cache = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="251">
            
            

            

            <code class="ruby">      @cache = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="252">
            
            

            

            <code class="ruby">      @prefixes = prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="254">
            
            

            

            <code class="ruby">      @details = initialize_details({}, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="255">
            
            

            

            <code class="ruby">      @view_paths = build_view_paths(view_paths)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="258">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def digest_cache</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="259">
            
            

            

            <code class="ruby">      @digest_cache ||= DetailsKey.digest_cache(@details)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def with_prepended_formats(formats)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="263">
            
            

            

            <code class="ruby">      details = @details.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="264">
            
            

            

            <code class="ruby">      details[:formats] = formats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="266">
            
            

            

            <code class="ruby">      self.class.new(@view_paths, details, @prefixes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="269">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize_details(target, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="270">
            
            

            

            <code class="ruby">      registered_details.each do |k|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="271">
            
            

            

            <code class="ruby">        target[k] = details[k] || Accessors::DEFAULT_PROCS[k].call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="273">
            
            

            

            <code class="ruby">      target</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="275">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private :initialize_details</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">    # Override formats= to expand [&quot;*/*&quot;] values and automatically</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">    # add :html as fallback to :js.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="279">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def formats=(values)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="280">
            
            

            

            <code class="ruby">      if values</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="281">
            
            

            

            <code class="ruby">        values = values.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="282">
            
            

            

            <code class="ruby">        values.concat(default_formats) if values.delete &quot;*/*&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="283">
            
            

            

            <code class="ruby">        values.uniq!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">        invalid_values = (values - Template::Types.symbols)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">        unless invalid_values.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="287">
            
            

            

            <code class="ruby">          raise ArgumentError, &quot;Invalid formats: #{invalid_values.map(&amp;:inspect).join(&quot;, &quot;)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="290">
            
            

            

            <code class="ruby">        if values == [:js]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="291">
            
            

            

            <code class="ruby">          values &lt;&lt; :html</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="292">
            
            

            

            <code class="ruby">          @html_fallback_for_js = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="295">
            
            

            

            <code class="ruby">      super(values)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">    # Override locale to return a symbol instead of array.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="299">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def locale</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="300">
            
            

            

            <code class="ruby">      @details[:locale].first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">    # Overload locale= to also set the I18n.locale. If the current I18n.config object responds</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">    # to original_config, it means that it has a copy of the original I18n configuration and it&#39;s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">    # acting as proxy, which we need to skip.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="306">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def locale=(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="307">
            
            

            

            <code class="ruby">      if value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="308">
            
            

            

            <code class="ruby">        config = I18n.config.respond_to?(:original_config) ? I18n.config.original_config : I18n.config</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="309">
            
            

            

            <code class="ruby">        config.locale = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="312">
            
            

            

            <code class="ruby">      super(default_locale)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fef9c2795f20cb8e38fc1ca759336a1a80f5aa9c">
  <div class="header">
    <h3>lib/action_view/model_naming.rb</h3>
    <h4>
      <span class="red">
  66.67%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>6</b> relevant lines.
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module ModelNaming #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">    # Converts the given object to an ActiveModel compliant one.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def convert_to_model(object)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="7">
            
            

            

            <code class="ruby">      object.respond_to?(:to_model) ? object.to_model : object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def model_name_from_record_or_class(record_or_class)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="11">
            
            

            

            <code class="ruby">      convert_to_model(record_or_class).model_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="046a3319f6a7bb9fc1ac3aaf2a37956ac8cb0803">
  <div class="header">
    <h3>lib/action_view/path_set.rb</h3>
    <h4>
      <span class="red">
  56.82%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>44</b> relevant lines.
      <span class="green"><b>25</b> lines covered</span> and
      <span class="red"><b>19</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View PathSet</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # This class is used to store and access paths in Action View. A number of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # operations are defined so that you can search among the paths in this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # set and also perform operations on other +PathSet+ objects.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # A +LookupContext+ will use a +PathSet+ to store the paths in its context.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class PathSet #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include Enumerable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delegate :[], :include?, :pop, :size, :each, to: :paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(paths = [])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="19">
            <span class="hits">2</span>
            

            

            <code class="ruby">      @paths = typecast paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize_copy(other)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">      @paths = other.paths.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">      self</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def to_ary</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">      paths.dup</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def compact</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">      PathSet.new paths.compact</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def +(array)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">      PathSet.new(paths + array)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">    %w(&lt;&lt; concat push insert unshift).each do |method|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="40">
            <span class="hits">5</span>
            

            

            <code class="ruby">      class_eval &lt;&lt;-METHOD, __FILE__, __LINE__ + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">        def #{method}(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">          paths.#{method}(*typecast(args))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      METHOD</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find(*args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">      find_all(*args).first || raise(MissingTemplate.new(self, *args))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    alias :find_file :find</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate :find_file</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find_all(path, prefixes = [], *args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">      _find_all path, prefixes, args</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def exists?(path, prefixes, *args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">      find_all(path, prefixes, *args).any?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find_all_with_query(query) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">      paths.each do |resolver|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">        templates = resolver.find_all_with_query(query)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">        return templates unless templates.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="68">
            
            

            

            <code class="ruby">      []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _find_all(path, prefixes, args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">        prefixes = [prefixes] if String === prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">        prefixes.each do |prefix|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">          paths.each do |resolver|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">            templates = resolver.find_all(path, prefix, *args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">            return templates unless templates.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">        []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def typecast(paths)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="84">
            <span class="hits">2</span>
            

            

            <code class="ruby">        paths.map do |path|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">          case path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">          when Pathname, String</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            <span class="hits">1</span>
            

            

            <code class="ruby">            OptimizedFileSystemResolver.new path.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">            path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4cf2170f42e049960ae667f9be6b2a6a45d18f5a">
  <div class="header">
    <h3>lib/action_view/record_identifier.rb</h3>
    <h4>
      <span class="red">
  65.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>20</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>7</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/model_naming&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # RecordIdentifier encapsulates methods used by various ActionView helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # to associate records with DOM elements.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # Consider for example the following code that form of post:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  #   &lt;%= form_for(post) do |f| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  #     &lt;%= f.text_field :body %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  # When +post+ is a new, unsaved ActiveRecord::Base instance, the resulting HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # is:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  #    &lt;form class=&quot;new_post&quot; id=&quot;new_post&quot; action=&quot;/posts&quot; accept-charset=&quot;UTF-8&quot; method=&quot;post&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  #      &lt;input type=&quot;text&quot; name=&quot;post[body]&quot; id=&quot;post_body&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  #    &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  # When +post+ is a persisted ActiveRecord::Base instance, the resulting HTML</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  # is:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  #   &lt;form class=&quot;edit_post&quot; id=&quot;edit_post_42&quot; action=&quot;/posts/42&quot; accept-charset=&quot;UTF-8&quot; method=&quot;post&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  #     &lt;input type=&quot;text&quot; value=&quot;What a wonderful world!&quot; name=&quot;post[body]&quot; id=&quot;post_body&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  #   &lt;/form&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  # In both cases, the +id+ and +class+ of the wrapping DOM element are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  # automatically generated, following naming conventions encapsulated by the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">  # RecordIdentifier methods #dom_id and #dom_class:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  #   dom_id(Post.new)         # =&gt; &quot;new_post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  #   dom_class(Post.new)      # =&gt; &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  #   dom_id(Post.find 42)     # =&gt; &quot;post_42&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  #   dom_class(Post.find 42)  # =&gt; &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">  # Note that these methods do not strictly require +Post+ to be a subclass of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  # ActiveRecord::Base.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  # Any +Post+ class will work as long as its instances respond to +to_key+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  # and +model_name+, given that +model_name+ responds to +param_key+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  # For instance:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">  #   class Post</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  #     attr_accessor :to_key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  #     def model_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">  #       OpenStruct.new param_key: &#39;post&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">  #     def self.find(id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  #       new.tap { |post| post.to_key = [id] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">  #     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module RecordIdentifier</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ModelNaming</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ModelNaming</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">    JOIN = &quot;_&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">    NEW = &quot;new&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    # The DOM class convention is to use the singular form of an object or class.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    #   dom_class(post)   # =&gt; &quot;post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    #   dom_class(Person) # =&gt; &quot;person&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    # If you need to address multiple instances of the same class in the same view, you can prefix the dom_class:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    #   dom_class(post, :edit)   # =&gt; &quot;edit_post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    #   dom_class(Person, :edit) # =&gt; &quot;edit_person&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def dom_class(record_or_class, prefix = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">      singular = model_name_from_record_or_class(record_or_class).param_key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">      prefix ? &quot;#{prefix}#{JOIN}#{singular}&quot; : singular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    # The DOM id convention is to use the singular form of an object or class with the id following an underscore.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">    # If no id is found, prefix with &quot;new_&quot; instead.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    #   dom_id(Post.find(45))       # =&gt; &quot;post_45&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    #   dom_id(Post.new)            # =&gt; &quot;new_post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    # If you need to address multiple instances of the same class in the same view, you can prefix the dom_id:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    #   dom_id(Post.find(45), :edit) # =&gt; &quot;edit_post_45&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    #   dom_id(Post.new, :custom)    # =&gt; &quot;custom_post&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def dom_id(record, prefix = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="90">
            
            

            

            <code class="ruby">      if record_id = record_key_for_dom_id(record)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        &quot;#{dom_class(record, prefix)}#{JOIN}#{record_id}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">        dom_class(record, prefix || NEW)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    # Returns a string representation of the key attribute(s) that is suitable for use in an HTML DOM id.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">    # This can be overwritten to customize the default generated string representation if desired.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    # If you need to read back a key from a dom_id in order to query for the underlying database record,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">    # you should write a helper like &#39;person_record_from_dom_id&#39; that will extract the key either based</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">    # on the default implementation (which just joins all key attributes with &#39;_&#39;) or on your own</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">    # overwritten version of the method. By default, this implementation passes the key string through a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    # method that replaces all characters that are invalid inside DOM ids, with valid ones. You need to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">    # make sure yourself that your dom ids are valid, in case you overwrite this method.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def record_key_for_dom_id(record) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">      key = convert_to_model(record).to_key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="108">
            
            

            

            <code class="ruby">      key ? key.join(JOIN) : key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1d698d0a2ca0cc31a638543d162a7da6de3fc706">
  <div class="header">
    <h3>lib/action_view/renderer/abstract_renderer.rb</h3>
    <h4>
      <span class="red">
  43.68%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>87</b> relevant lines.
      <span class="green"><b>38</b> lines covered</span> and
      <span class="red"><b>49</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;concurrent/map&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # This class defines the interface for a renderer. Each class that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # subclasses +AbstractRenderer+ is used by the base +Renderer+ class to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # render a specific type of object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # The base +Renderer+ class uses its +render+ method to delegate to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # renderers. These currently consist of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  #   PartialRenderer - Used for rendering partials</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  #   TemplateRenderer - Used for rendering other types of templates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  #   StreamingTemplateRenderer - Used for streaming</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # Whenever the +render+ method is called on the base +Renderer+ class, a new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  # renderer object of the correct type is created, and the +render+ method on</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  # that new object is called in turn. This abstracts the set up and rendering</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  # into a separate classes for partials and templates.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class AbstractRenderer #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delegate :template_exists?, :any_templates?, :formats, to: :@lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(lookup_context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">      @lookup_context = lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">      raise NotImplementedError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ObjectRendering # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PREFIXED_PARTIAL_NAMES = Concurrent::Map.new do |h, k|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">        h[k] = Concurrent::Map.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(lookup_context, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">        @context_prefix = lookup_context.prefixes.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def local_variable(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">          if as = @options[:as]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">            raise_invalid_option_as(as) unless /\A[a-z_]\w*\z/.match?(as.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">            as.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">            begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">              base = path.end_with?(&quot;/&quot;) ? &quot;&quot; : File.basename(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">              raise_invalid_identifier(path) unless base =~ /\A_?(.*?)(?:\.\w+)*\z/</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">              $1.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">        IDENTIFIER_ERROR_MESSAGE = &quot;The partial name (%s) is not a valid Ruby identifier; &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">                                   &quot;make sure your partial name starts with underscore.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">        OPTION_AS_ERROR_MESSAGE  = &quot;The value (%s) of the option `as` is not a valid Ruby identifier; &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">                                   &quot;make sure it starts with lowercase letter, &quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">                                   &quot;and is followed by any combination of letters, numbers and underscores.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def raise_invalid_identifier(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">          raise ArgumentError, IDENTIFIER_ERROR_MESSAGE % path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def raise_invalid_option_as(as)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="68">
            
            

            

            <code class="ruby">          raise ArgumentError, OPTION_AS_ERROR_MESSAGE % as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">        # Obtains the path to where the object&#39;s partial is located. If the object</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        # responds to +to_partial_path+, then +to_partial_path+ will be called and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">        # will provide the path. If the object does not respond to +to_partial_path+,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">        # then an +ArgumentError+ is raised.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">        # If +prefix_partial_path_with_controller_namespace+ is true, then this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">        # method will prefix the partial paths with a namespace.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def partial_path(object, view)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">          object = object.to_model if object.respond_to?(:to_model)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="81">
            
            

            

            <code class="ruby">          path = if object.respond_to?(:to_partial_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">            object.to_partial_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">            raise ArgumentError.new(&quot;&#39;#{object.inspect}&#39; is not an ActiveModel-compatible object. It must implement :to_partial_path.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">          if view.prefix_partial_path_with_controller_namespace</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">            PREFIXED_PARTIAL_NAMES[@context_prefix][path] ||= merge_prefix_into_object_path(@context_prefix, path.dup)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="90">
            
            

            

            <code class="ruby">            path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def merge_prefix_into_object_path(prefix, object_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">          if prefix.include?(?/) &amp;&amp; object_path.include?(?/)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">            prefixes = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">            prefix_array = File.dirname(prefix).split(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">            object_path_array = object_path.split(&quot;/&quot;)[0..-3] # skip model dir &amp; partial</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">            prefix_array.each_with_index do |dir, index|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">              break if dir == object_path_array[index]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">              prefixes &lt;&lt; dir</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">            (prefixes &lt;&lt; object_path).join(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">            object_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class RenderedCollection # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.empty(format)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="114">
            
            

            

            <code class="ruby">        EmptyCollection.new format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :rendered_templates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(rendered_templates, spacer)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">        @rendered_templates = rendered_templates</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="121">
            
            

            

            <code class="ruby">        @spacer = spacer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def body</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="125">
            
            

            

            <code class="ruby">        @rendered_templates.map(&amp;:body).join(@spacer.body).html_safe</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="128">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def format</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="129">
            
            

            

            <code class="ruby">        rendered_templates.first.format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class EmptyCollection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_reader :format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(format)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">          @format = format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="139">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def body; nil; end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class RenderedTemplate # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="144">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :body, :template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="146">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(body, template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">        @body = body</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">        @template = template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def format</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">        template.format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">      EMPTY_SPACER = Struct.new(:body).new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="158">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="159">
            <span class="hits">1</span>
            

            

            <code class="ruby">      NO_DETAILS = {}.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def extract_details(options) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="162">
            
            

            

            <code class="ruby">        details = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="163">
            
            

            

            <code class="ruby">        @lookup_context.registered_details.each do |key|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="164">
            
            

            

            <code class="ruby">          value = options[key]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="166">
            
            

            

            <code class="ruby">          if value</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="167">
            
            

            

            <code class="ruby">            (details ||= {})[key] = Array(value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="170">
            
            

            

            <code class="ruby">        details || NO_DETAILS</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="173">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def prepend_formats(formats) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="174">
            
            

            

            <code class="ruby">        formats = Array(formats)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="175">
            
            

            

            <code class="ruby">        return if formats.empty? || @lookup_context.html_fallback_for_js</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">        @lookup_context.formats = formats | @lookup_context.formats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_rendered_template(content, template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">        RenderedTemplate.new content, template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_rendered_collection(templates, spacer)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">        RenderedCollection.new templates, spacer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2adb680512a40119a7c3a7e5e1d1d0120db75441">
  <div class="header">
    <h3>lib/action_view/renderer/collection_renderer.rb</h3>
    <h4>
      <span class="red">
  32.35%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>102</b> relevant lines.
      <span class="green"><b>33</b> lines covered</span> and
      <span class="red"><b>69</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/renderer/partial_renderer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class PartialIteration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">    # The number of iterations that will be done by the partial.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # The current iteration of the partial.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(size)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">      @size  = size</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">      @index = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    # Check if this is the first iteration of the partial.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def first?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">      index == 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    # Check if this is the last iteration of the partial.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def last?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">      index == size - 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def iterate! # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">      @index += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class CollectionRenderer &lt; PartialRenderer # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ObjectRendering</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class CollectionIterator # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include Enumerable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">        @collection = collection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def each(&amp;blk)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">        @collection.each(&amp;blk)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def size</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">        @collection.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class SameCollectionIterator &lt; CollectionIterator # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(collection, path, variables)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">        super(collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">        @path      = path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">        @variables = variables</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def from_collection(collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">        self.class.new(collection, @path, @variables)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def each_with_info</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">        return enum_for(:each_with_info) unless block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">        variables = [@path] + @variables</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">        @collection.each { |o| yield(o, variables) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class PreloadCollectionIterator &lt; SameCollectionIterator # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(collection, path, variables, relation)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="72">
            
            

            

            <code class="ruby">        super(collection, path, variables)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">        relation.skip_preloading! unless relation.loaded?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">        @relation = relation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def from_collection(collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">        self.class.new(collection, @path, @variables, @relation)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def each_with_info</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">        return super unless block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="83">
            
            

            

            <code class="ruby">        @relation.preload_associations(@collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class MixedCollectionIterator &lt; CollectionIterator # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(collection, paths)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="90">
            
            

            

            <code class="ruby">        super(collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        @paths = paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def each_with_info</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">        return enum_for(:each_with_info) unless block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">        @collection.each_with_index { |o, i| yield(o, @paths[i]) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_collection_with_partial(collection, partial, context, block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">      iter_vars  = retrieve_variable(partial)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">      collection = if collection.respond_to?(:preload_associations)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        PreloadCollectionIterator.new(collection, partial, iter_vars, collection)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="106">
            
            

            

            <code class="ruby">        SameCollectionIterator.new(collection, partial, iter_vars)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">      template = find_template(partial, @locals.keys + iter_vars)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="112">
            
            

            

            <code class="ruby">      layout = if !block &amp;&amp; (layout = @options[:layout])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">        find_template(layout.to_s, @locals.keys + iter_vars)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">      render_collection(collection, context, partial, template, layout, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_collection_derive_partial(collection, context, block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">      paths = collection.map { |o| partial_path(o, context) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="122">
            
            

            

            <code class="ruby">      if paths.uniq.length == 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">        # Homogeneous</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="124">
            
            

            

            <code class="ruby">        render_collection_with_partial(collection, paths.first, context, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="126">
            
            

            

            <code class="ruby">        if @options[:cached]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="127">
            
            

            

            <code class="ruby">          raise NotImplementedError, &quot;render caching requires a template. Please specify a partial when rendering&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="130">
            
            

            

            <code class="ruby">        paths.map! { |path| retrieve_variable(path).unshift(path) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="131">
            
            

            

            <code class="ruby">        collection = MixedCollectionIterator.new(collection, paths)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="132">
            
            

            

            <code class="ruby">        render_collection(collection, context, nil, nil, nil, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="137">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def retrieve_variable(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="138">
            
            

            

            <code class="ruby">        variable = local_variable(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="139">
            
            

            

            <code class="ruby">        [variable, :&quot;#{variable}_counter&quot;, :&quot;#{variable}_iteration&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def render_collection(collection, view, path, template, layout, block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">        identifier = (template &amp;&amp; template.identifier) || path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">        ActiveSupport::Notifications.instrument(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">          &quot;render_collection.action_view&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">          identifier: identifier,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">          layout: layout &amp;&amp; layout.virtual_path,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">          count: collection.size</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="149">
            
            

            

            <code class="ruby">        ) do |payload|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="150">
            
            

            

            <code class="ruby">          spacer = if @options.key?(:spacer_template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="151">
            
            

            

            <code class="ruby">            spacer_template = find_template(@options[:spacer_template], @locals.keys)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">            build_rendered_template(spacer_template.render(view, @locals), spacer_template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">            RenderedTemplate::EMPTY_SPACER</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="157">
            
            

            

            <code class="ruby">          collection_body = if template</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="158">
            
            

            

            <code class="ruby">            cache_collection_render(payload, view, template, collection) do |filtered_collection|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="159">
            
            

            

            <code class="ruby">              collection_with_template(view, template, layout, filtered_collection)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="162">
            
            

            

            <code class="ruby">            collection_with_template(view, nil, layout, collection)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="165">
            
            

            

            <code class="ruby">          return RenderedCollection.empty(@lookup_context.formats.first) if collection_body.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="167">
            
            

            

            <code class="ruby">          build_rendered_collection(collection_body, spacer)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_with_template(view, template, layout, collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="172">
            
            

            

            <code class="ruby">        locals = @locals</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="173">
            
            

            

            <code class="ruby">        cache = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="175">
            
            

            

            <code class="ruby">        partial_iteration = PartialIteration.new(collection.size)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">        collection.each_with_info.map do |object, (path, as, counter, iteration)|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="178">
            
            

            

            <code class="ruby">          index = partial_iteration.index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="180">
            
            

            

            <code class="ruby">          locals[as]        = object</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">          locals[counter]   = index</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="182">
            
            

            

            <code class="ruby">          locals[iteration] = partial_iteration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="184">
            
            

            

            <code class="ruby">          _template = (cache[path] ||= (template || find_template(path, @locals.keys + [as, counter, iteration])))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="186">
            
            

            

            <code class="ruby">          content = _template.render(view, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">          content = layout.render(view, locals) { content } if layout</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="188">
            
            

            

            <code class="ruby">          partial_iteration.iterate!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">          build_rendered_template(content, _template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="86a229b7f672869cb430efabe2385f4a3f8d0b9d">
  <div class="header">
    <h3>lib/action_view/renderer/partial_renderer.rb</h3>
    <h4>
      <span class="red">
  37.04%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>27</b> relevant lines.
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>17</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/renderer/partial_renderer/collection_caching&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # = Action View Partials</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # There&#39;s also a convenience method for rendering sub templates within the current controller that depends on a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  # single object (we call this kind of sub templates for partials). It relies on the fact that partials should</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # follow the naming convention of being prefixed with an underscore -- as to separate them from regular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # templates that could be rendered on their own.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # In a template for Advertiser#account:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  #  &lt;%= render partial: &quot;account&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # This would render &quot;advertiser/_account.html.erb&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  # In another template for Advertiser#buy, we could have:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;account&quot;, locals: { account: @buyer } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  #   &lt;% @advertisements.each do |ad| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  #     &lt;%= render partial: &quot;ad&quot;, locals: { ad: ad } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  # This would first render &lt;tt&gt;advertiser/_account.html.erb&lt;/tt&gt; with &lt;tt&gt;@buyer&lt;/tt&gt; passed in as the local variable +account+, then</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  # render &lt;tt&gt;advertiser/_ad.html.erb&lt;/tt&gt; and pass the local variable +ad+ to the template for display.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  # == The :as and :object options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">  # By default ActionView::PartialRenderer doesn&#39;t have any local variables.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  # The &lt;tt&gt;:object&lt;/tt&gt; option can be used to pass an object to the partial. For instance:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;account&quot;, object: @buyer %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  # would provide the &lt;tt&gt;@buyer&lt;/tt&gt; object to the partial, available under the local variable +account+ and is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  # equivalent to:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;account&quot;, locals: { account: @buyer } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  # With the &lt;tt&gt;:as&lt;/tt&gt; option we can specify a different name for said local variable. For example, if we</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  # wanted it to be +user+ instead of +account+ we&#39;d do:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;account&quot;, object: @buyer, as: &#39;user&#39; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  # This is equivalent to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;account&quot;, locals: { user: @buyer } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">  # == \Rendering a collection of partials</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  # The example of partial use describes a familiar pattern where a template needs to iterate over an array and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">  # render a sub template for each of the elements. This pattern has been implemented as a single method that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  # accepts an array and renders a partial by the same name as the elements contained within. So the three-lined</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  # example in &quot;Using partials&quot; can be rewritten with a single line:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;ad&quot;, collection: @advertisements %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">  # This will render &lt;tt&gt;advertiser/_ad.html.erb&lt;/tt&gt; and pass the local variable +ad+ to the template for display. An</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">  # iteration object will automatically be made available to the template with a name of the form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">  # +partial_name_iteration+. The iteration object has knowledge about which index the current object has in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">  # the collection and the total size of the collection. The iteration object also has two convenience methods,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">  # +first?+ and +last?+. In the case of the example above, the template would be fed +ad_iteration+.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  # For backwards compatibility the +partial_name_counter+ is still present and is mapped to the iteration&#39;s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">  # +index+ method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">  # The &lt;tt&gt;:as&lt;/tt&gt; option may be used when rendering partials.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  # You can specify a partial to be rendered between elements via the &lt;tt&gt;:spacer_template&lt;/tt&gt; option.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">  # The following example will render &lt;tt&gt;advertiser/_ad_divider.html.erb&lt;/tt&gt; between each ad partial:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;ad&quot;, collection: @advertisements, spacer_template: &quot;ad_divider&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">  # If the given &lt;tt&gt;:collection&lt;/tt&gt; is +nil+ or empty, &lt;tt&gt;render&lt;/tt&gt; will return +nil+. This will allow you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">  # to specify a text which will be displayed instead by using this form:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">  #   &lt;%= render(partial: &quot;ad&quot;, collection: @advertisements) || &quot;There&#39;s no ad to be displayed&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">  # == \Rendering shared partials</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">  # Two controllers can share a set of partials and render them like this:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;advertisement/ad&quot;, locals: { ad: @advertisement } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">  # This will render the partial &lt;tt&gt;advertisement/_ad.html.erb&lt;/tt&gt; regardless of which controller this is being called from.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  # == \Rendering objects that respond to +to_partial_path+</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">  # Instead of explicitly naming the location of a partial, you can also let PartialRenderer do the work</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">  # and pick the proper path by checking +to_partial_path+ method.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">  #  # @account.to_partial_path returns &#39;accounts/account&#39;, so it can be used to replace:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">  #  # &lt;%= render partial: &quot;accounts/account&quot;, locals: { account: @account} %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  #  &lt;%= render partial: @account %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">  #  # @posts is an array of Post instances, so every post record returns &#39;posts/post&#39; on +to_partial_path+,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">  #  # that&#39;s why we can replace:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">  #  # &lt;%= render partial: &quot;posts/post&quot;, collection: @posts %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">  #  &lt;%= render partial: @posts %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">  # == \Rendering the default case</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">  # If you&#39;re not going to be using any of the options like collections or layouts, you can also use the short-hand</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">  # defaults of render to render partials. Examples:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">  #  # Instead of &lt;%= render partial: &quot;account&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  #  &lt;%= render &quot;account&quot; %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">  #  # Instead of &lt;%= render partial: &quot;account&quot;, locals: { account: @buyer } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">  #  &lt;%= render &quot;account&quot;, account: @buyer %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">  #  # @account.to_partial_path returns &#39;accounts/account&#39;, so it can be used to replace:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">  #  # &lt;%= render partial: &quot;accounts/account&quot;, locals: { account: @account} %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">  #  &lt;%= render @account %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">  #  # @posts is an array of Post instances, so every post record returns &#39;posts/post&#39; on +to_partial_path+,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">  #  # that&#39;s why we can replace:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">  #  # &lt;%= render partial: &quot;posts/post&quot;, collection: @posts %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">  #  &lt;%= render @posts %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">  # == \Rendering partials with layouts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">  # Partials can have their own layouts applied to them. These layouts are different than the ones that are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">  # specified globally for the entire action, but they work in a similar fashion. Imagine a list with two types</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">  # of users:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/index.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">  #   Here&#39;s the administrator:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;user&quot;, layout: &quot;administrator&quot;, locals: { user: administrator } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">  #   Here&#39;s the editor:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">  #   &lt;%= render partial: &quot;user&quot;, layout: &quot;editor&quot;, locals: { user: editor } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_user.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">  #   Name: &lt;%= user.name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_administrator.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">  #   &lt;div id=&quot;administrator&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">  #     Budget: $&lt;%= user.budget %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">  #     &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_editor.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">  #   &lt;div id=&quot;editor&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">  #     Deadline: &lt;%= user.deadline %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">  #     &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">  # ...this will return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">  #   Here&#39;s the administrator:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">  #   &lt;div id=&quot;administrator&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">  #     Budget: $&lt;%= user.budget %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">  #     Name: &lt;%= user.name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">  #   Here&#39;s the editor:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">  #   &lt;div id=&quot;editor&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">  #     Deadline: &lt;%= user.deadline %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">  #     Name: &lt;%= user.name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">  # If a collection is given, the layout will be rendered once for each item in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">  # the collection. For example, these two snippets have the same output:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_user.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">  #   Name: &lt;%= user.name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/index.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">  #   &lt;%# This does not use layouts %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">  #   &lt;ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">  #     &lt;% users.each do |user| -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">  #       &lt;li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">  #         &lt;%= render partial: &quot;user&quot;, locals: { user: user } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">  #       &lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">  #     &lt;% end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">  #   &lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_li_layout.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">  #   &lt;li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">  #     &lt;%= yield %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">  #   &lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/index.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">  #   &lt;ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">  #     &lt;%= render partial: &quot;user&quot;, layout: &quot;li_layout&quot;, collection: users %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">  #   &lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">  # Given two users whose names are Alice and Bob, these snippets return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">  #   &lt;ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">  #     &lt;li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">  #       Name: Alice</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">  #     &lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">  #     &lt;li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">  #       Name: Bob</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">  #     &lt;/li&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">  #   &lt;/ul&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">  # The current object being rendered, as well as the object_counter, will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">  # available as local variables inside the layout template under the same names</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">  # as available in the partial.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">  # You can also apply a layout to a block within any template:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_chief.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">  #   &lt;%= render(layout: &quot;administrator&quot;, locals: { user: chief }) do %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">  #     Title: &lt;%= chief.title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">  #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">  # ...this will return:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">  #   &lt;div id=&quot;administrator&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">  #     Budget: $&lt;%= user.budget %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">  #     Title: &lt;%= chief.name %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">  # As you can see, the &lt;tt&gt;:locals&lt;/tt&gt; hash is shared between both the partial and its layout.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">  # If you pass arguments to &quot;yield&quot; then this will be passed to the block. One way to use this is to pass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">  # an array to layout and treat it as an enumerable.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_user.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">  #   &lt;div class=&quot;user&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">  #     Budget: $&lt;%= user.budget %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">  #     &lt;%= yield user %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/index.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">  #   &lt;%= render layout: @users do |user| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">  #     Title: &lt;%= user.title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">  #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">  # This will render the layout for each user and yield to the block, passing the user, each time.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">  # You can also yield multiple times in one layout and use block arguments to differentiate the sections.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/_user.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">  #   &lt;div class=&quot;user&quot;&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">  #     &lt;%= yield user, :header %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">  #     Budget: $&lt;%= user.budget %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">  #     &lt;%= yield user, :footer %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">  #   &lt;/div&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">  #   &lt;%# app/views/users/index.html.erb %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">  #   &lt;%= render layout: @users do |user, section| %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">  #     &lt;%- case section when :header -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">  #       Title: &lt;%= user.title %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">  #     &lt;%- when :footer -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">  #       Deadline: &lt;%= user.deadline %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">  #     &lt;%- end -%&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">  #   &lt;% end %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="254">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class PartialRenderer &lt; AbstractRenderer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="255">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include CollectionCaching</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="257">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(lookup_context, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="258">
            
            

            

            <code class="ruby">      super(lookup_context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="259">
            
            

            

            <code class="ruby">      @options = options</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="260">
            
            

            

            <code class="ruby">      @locals  = @options[:locals] || {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="261">
            
            

            

            <code class="ruby">      @details = extract_details(@options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="264">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render(partial, context, block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="265">
            
            

            

            <code class="ruby">      template = find_template(partial, template_keys(partial))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="267">
            
            

            

            <code class="ruby">      if !block &amp;&amp; (layout = @options[:layout])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="268">
            
            

            

            <code class="ruby">        layout = find_template(layout.to_s, template_keys(partial))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="271">
            
            

            

            <code class="ruby">      render_partial_template(context, @locals, template, layout, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="274">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="275">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def template_keys(_)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="276">
            
            

            

            <code class="ruby">        @locals.keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="279">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def render_partial_template(view, locals, template, layout, block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">        ActiveSupport::Notifications.instrument(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">          &quot;render_partial.action_view&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">          identifier: template.identifier,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">          layout: layout &amp;&amp; layout.virtual_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">        ) do |payload|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">          content = template.render(view, locals, add_to_stack: !block) do |*name|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">            view._layout_for(*name, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="289">
            
            

            

            <code class="ruby">          content = layout.render(view, locals) { content } if layout</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="290">
            
            

            

            <code class="ruby">          payload[:cache_hit] = view.view_renderer.cache_hits[template.virtual_path]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="291">
            
            

            

            <code class="ruby">          build_rendered_template(content, template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="295">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_template(path, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="296">
            
            

            

            <code class="ruby">        prefixes = path.include?(?/) ? [] : @lookup_context.prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="297">
            
            

            

            <code class="ruby">        @lookup_context.find_template(path, prefixes, true, locals, @details)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c00ef4667bafbb789836bd92c0eb9da90a58d1ac">
  <div class="header">
    <h3>lib/action_view/renderer/partial_renderer/collection_caching.rb</h3>
    <h4>
      <span class="red">
  32.5%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>40</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>27</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/enumerable&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module CollectionCaching # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    included do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      # Fallback cache store if Action View is used without Rails.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # Otherwise overridden in Railtie to use Rails.cache.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">      mattr_accessor :collection_cache, default: ActiveSupport::Cache::MemoryStore.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def will_cache?(options, view)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">        options[:cached] &amp;&amp; view.controller.respond_to?(:perform_caching) &amp;&amp; view.controller.perform_caching</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_collection_render(instrumentation_payload, view, template, collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">        return yield(collection) unless will_cache?(@options, view)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">        collection_iterator = collection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">        # Result is a hash with the key represents the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">        # key used for cache lookup and the value is the item</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">        # on which the partial is being rendered</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        keyed_collection, ordered_keys = collection_by_cache_keys(view, template, collection)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">        # Pull all partials from cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">        # Result is a hash, key matches the entry in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">        # `keyed_collection` where the cache was retrieved and the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        # value is the value that was present in the cache</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">        cached_partials = collection_cache.read_multi(*keyed_collection.keys)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="35">
            
            

            

            <code class="ruby">        instrumentation_payload[:cache_hits] = cached_partials.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        # Extract the items for the keys that are not found</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">        collection = keyed_collection.reject { |key, _| cached_partials.key?(key) }.values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">        rendered_partials = collection.empty? ? [] : yield(collection_iterator.from_collection(collection))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">        index = 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">        keyed_partials = fetch_or_cache_partial(cached_partials, template, order_by: keyed_collection.each_key) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">          # This block is called once</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">          # for every cache miss while preserving order.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">          rendered_partials[index].tap { index += 1 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">        ordered_keys.map do |key|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">          keyed_partials[key]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def callable_cache_key?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">        @options[:cached].respond_to?(:call)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def collection_by_cache_keys(view, template, collection)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">        seed = callable_cache_key? ? @options[:cached] : -&gt;(i) { i }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="61">
            
            

            

            <code class="ruby">        digest_path = view.digest_path_from_template(template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">        collection.each_with_object([{}, []]) do |item, (hash, ordered_keys)|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">          key = expanded_cache_key(seed.call(item), view, template, digest_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">          ordered_keys &lt;&lt; key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">          hash[key] = item</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def expanded_cache_key(key, view, template, digest_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">        key = view.combined_fragment_cache_key(view.cache_fragment_name(key, digest_path: digest_path))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="72">
            
            

            

            <code class="ruby">        key.frozen? ? key.dup : key # #read_multi &amp; #write may require mutability, Dalli 2.6.0.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      # `order_by` is an enumerable object containing keys of the cache,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">      # all keys are  passed in whether found already or not.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      # `cached_partials` is a hash. If the value exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      # it represents the rendered partial from the cache</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">      # otherwise `Hash#fetch` will take the value of its block.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      # This method expects a block that will return the rendered</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      # partial. An example is to render all results</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">      # for each element that was not found in the cache and store it as an array.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      # Order it so that the first empty cache element in `cached_partials`</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      # corresponds to the first element in `rendered_partials`.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      # If the partial is not already cached it will also be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      # written back to the underlying cache store.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def fetch_or_cache_partial(cached_partials, template, order_by:)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        order_by.index_with do |cache_key|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">          if content = cached_partials[cache_key]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">            build_rendered_template(content, template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">            yield.tap do |rendered_partial|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">              collection_cache.write(cache_key, rendered_partial.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4b1140d14865f6c49d94b428fc684c2ca2ef0b9a">
  <div class="header">
    <h3>lib/action_view/rendering.rb</h3>
    <h4>
      <span class="red">
  32.53%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>83</b> relevant lines.
      <span class="green"><b>27</b> lines covered</span> and
      <span class="red"><b>56</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/view_paths&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # This is a class to fix I18n global state. Whenever you provide I18n.locale during a request,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # it will trigger the lookup_context and consequently expire the cache.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class I18nProxy &lt; ::I18n::Config #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :original_config, :lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(original_config, lookup_context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">      original_config = original_config.original_config if original_config.respond_to?(:original_config)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="13">
            
            

            

            <code class="ruby">      @original_config, @lookup_context = original_config, lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def locale</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">      @original_config.locale</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def locale=(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">      @lookup_context.locale = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Rendering</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionView::ViewPaths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :rendered_format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">      @rendered_format = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    # Overwrite process to set up I18n proxy.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def process(*) #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">      old_config, I18n.config = I18n.config, I18nProxy.new(I18n.config, lookup_context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    ensure</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">      I18n.config = old_config</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ClassMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _routes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_view_context_class(klass, supports_path, routes, helpers)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">        Class.new(klass) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">          if routes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">            include routes.url_helpers(supports_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">            include routes.mounted_helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="58">
            
            

            

            <code class="ruby">          if helpers</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">            include helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def view_context_class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">        klass = ActionView::LookupContext::DetailsKey.view_context_class(ActionView::Base)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">        @view_context_class ||= build_view_context_class(klass, supports_path?, _routes, _helpers)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">        if klass.changed?(@view_context_class)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">          @view_context_class = build_view_context_class(klass, supports_path?, _routes, _helpers)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">        @view_context_class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def view_context_class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">      self.class.view_context_class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    # An instance of a view class. The default view class is ActionView::Base.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    # The view class must have the following methods:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;View.new(lookup_context, assigns, controller)&lt;/tt&gt; — Create a new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    #   ActionView instance for a controller and we can also pass the arguments.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;View#render(option)&lt;/tt&gt; — Returns String with the rendered template.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    # Override this method in a module to change the default behavior.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def view_context</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">      view_context_class.new(lookup_context, view_assigns, self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    # Returns an object that is able to render templates.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def view_renderer # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      # Lifespan: Per controller</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">      @_view_renderer ||= ActionView::Renderer.new(lookup_context)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render_to_body(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">      _process_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">      _render_template(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      # Find and render a template based on the options given.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _render_template(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">        variant = options.delete(:variant)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">        assigns = options.delete(:assigns)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="111">
            
            

            

            <code class="ruby">        context = view_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">        context.assign assigns if assigns</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="114">
            
            

            

            <code class="ruby">        lookup_context.variants = variant if variant</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">        rendered_template = context.in_rendering_context(options) do |renderer|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="117">
            
            

            

            <code class="ruby">          renderer.render_to_object(context, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">        rendered_format = rendered_template.format || lookup_context.formats.first</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="121">
            
            

            

            <code class="ruby">        @rendered_format = Template::Types[rendered_format]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">        rendered_template.body</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">      # Assign the rendered format to look up context.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _process_format(format)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="129">
            
            

            

            <code class="ruby">        lookup_context.formats = [format.to_sym] if format.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      # Normalize args by converting render &quot;foo&quot; to render :action =&gt; &quot;foo&quot; and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      # render &quot;foo/bar&quot; to render :template =&gt; &quot;foo/bar&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _normalize_args(action = nil, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">        options = super(action, options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">        case action</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        when NilClass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">        when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="139">
            
            

            

            <code class="ruby">          options = action</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">        when String, Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">          action = action.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">          key = action.include?(?/) ? :template : :action</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">          options[key] = action</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="145">
            
            

            

            <code class="ruby">          if action.respond_to?(:permitted?) &amp;&amp; action.permitted?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">            options = action</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">          elsif action.respond_to?(:render_in)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">            options[:object] = action</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="150">
            
            

            

            <code class="ruby">            options[:partial] = action</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">        options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">      # Normalize options.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="158">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _normalize_options(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="159">
            
            

            

            <code class="ruby">        options = super(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="160">
            
            

            

            <code class="ruby">        if options[:partial] == true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="161">
            
            

            

            <code class="ruby">          options[:partial] = action_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="164">
            
            

            

            <code class="ruby">        if (options.keys &amp; [:partial, :file, :template]).empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="165">
            
            

            

            <code class="ruby">          options[:prefixes] ||= _prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="168">
            
            

            

            <code class="ruby">        options[:template] ||= (options[:action] || action_name).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="169">
            
            

            

            <code class="ruby">        options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="78722d0e007fcd65f98b82a28399b2ed33ef33a3">
  <div class="header">
    <h3>lib/action_view/routing_url_for.rb</h3>
    <h4>
      <span class="red">
  25.64%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>39</b> relevant lines.
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>29</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_dispatch/routing/polymorphic_routes&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module RoutingUrlFor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">    # Returns the URL for the set of +options+ provided. This takes the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    # same options as +url_for+ in Action Controller (see the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    # documentation for &lt;tt&gt;ActionController::Base#url_for&lt;/tt&gt;). Note that by default</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    # &lt;tt&gt;:only_path&lt;/tt&gt; is &lt;tt&gt;true&lt;/tt&gt; so you&#39;ll get the relative &quot;/controller/action&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    # instead of the fully qualified URL like &quot;http://example.com/controller/action&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # ==== Options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:anchor&lt;/tt&gt; - Specifies the anchor name to be appended to the path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:only_path&lt;/tt&gt; - If true, returns the relative URL (omitting the protocol, host name, and port) (&lt;tt&gt;true&lt;/tt&gt; by default unless &lt;tt&gt;:host&lt;/tt&gt; is specified).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:trailing_slash&lt;/tt&gt; - If true, adds a trailing slash, as in &quot;/archive/2005/&quot;. Note that this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    #   is currently not recommended since it breaks caching.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:host&lt;/tt&gt; - Overrides the default (current) host if provided.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:protocol&lt;/tt&gt; - Overrides the default (current) protocol if provided.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:user&lt;/tt&gt; - Inline HTTP authentication (only plucked out if &lt;tt&gt;:password&lt;/tt&gt; is also present).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;:password&lt;/tt&gt; - Inline HTTP authentication (only plucked out if &lt;tt&gt;:user&lt;/tt&gt; is also present).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    # ==== Relying on named routes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # Passing a record (like an Active Record) instead of a hash as the options parameter will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    # trigger the named route for that record. The lookup will happen on the name of the class. So passing a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    # Workshop object will attempt to use the +workshop_path+ route. If you have a nested route, such as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    # +admin_workshop_path+ you&#39;ll have to call that explicitly (it&#39;s impossible for +url_for+ to guess that route).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    # ==== Implicit Controller Namespacing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    # Controllers passed in using the +:controller+ option will retain their namespace unless it is an absolute one.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    # ==== Examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;index&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    #   # =&gt; /blogs/</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;find&#39;, controller: &#39;books&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    #   # =&gt; /books/find</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;login&#39;, controller: &#39;members&#39;, only_path: false, protocol: &#39;https&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    #   # =&gt; https://www.example.com/members/login/</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;play&#39;, anchor: &#39;player&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    #   # =&gt; /messages/play/#player</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;jump&#39;, anchor: &#39;tax&amp;ship&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    #   # =&gt; /testing/jump/#tax&amp;ship</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(Workshop.new) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    #   # relies on Workshop answering a persisted? call (and in this case returning false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    #   # =&gt; /workshops</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(@workshop) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    #   # calls @workshop.to_param which by default returns the id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    #   # =&gt; /workshops/5</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    #   # to_param can be re-defined in a model to provide different URL names:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    #   # =&gt; /workshops/1-workshop-name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(&quot;http://www.example.com&quot;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    #   # =&gt; http://www.example.com</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(:back) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    #   # if request.env[&quot;HTTP_REFERER&quot;] is set to &quot;http://www.example.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    #   # =&gt; http://www.example.com</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(:back) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    #   # if request.env[&quot;HTTP_REFERER&quot;] is not set or is blank</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    #   # =&gt; javascript:history.back()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;index&#39;, controller: &#39;users&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    #   # Assuming an &quot;admin&quot; namespace</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    #   # =&gt; /admin/users</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">    #   &lt;%= url_for(action: &#39;index&#39;, controller: &#39;/users&#39;) %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    #   # Specify absolute path with beginning slash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    #   # =&gt; /users</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def url_for(options = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">      case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      when String</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">        options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      when nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">        super(only_path: _generate_paths_by_default)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">      when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">        options = options.symbolize_keys</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">        ensure_only_path_option(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">        super(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">      when ActionController::Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">        ensure_only_path_option(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">        super(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">      when :back</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">        _back_url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">      when Array</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">        components = options.dup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">        options = components.extract_options!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">        ensure_only_path_option(options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">        if options[:only_path]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">          polymorphic_path(components, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">          polymorphic_url(components, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">        method = _generate_paths_by_default ? :path : :url</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="108">
            
            

            

            <code class="ruby">        builder = ActionDispatch::Routing::PolymorphicRoutes::HelperMethodBuilder.send(method)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">        case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">        when Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="112">
            
            

            

            <code class="ruby">          builder.handle_string_call(self, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">        when Class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="114">
            
            

            

            <code class="ruby">          builder.handle_class_call(self, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">          builder.handle_model_call(self, options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def url_options #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="122">
            
            

            

            <code class="ruby">      return super unless controller.respond_to?(:url_options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">      controller.url_options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _routes_context</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">        controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def optimize_routes_generation?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="132">
            
            

            

            <code class="ruby">        controller.respond_to?(:optimize_routes_generation?, true) ?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="133">
            
            

            

            <code class="ruby">          controller.optimize_routes_generation? : super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _generate_paths_by_default</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def ensure_only_path_option(options)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">        unless options.key?(:only_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">          options[:only_path] = _generate_paths_by_default unless options[:host]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a02bc2b085aa9cce1c81fabe5bb87c64d45d6b0c">
  <div class="header">
    <h3>lib/action_view/template.rb</h3>
    <h4>
      <span class="red">
  38.35%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>133</b> relevant lines.
      <span class="green"><b>51</b> lines covered</span> and
      <span class="red"><b>82</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;thread&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;delegate&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # = Action View Template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Autoload</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.finalize_compiled_template_methods</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">      ActiveSupport::Deprecation.warn &quot;ActionView::Template.finalize_compiled_template_methods is deprecated and has no effect&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.finalize_compiled_template_methods=(_)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">      ActiveSupport::Deprecation.warn &quot;ActionView::Template.finalize_compiled_template_methods= is deprecated and has no effect&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    # === Encodings in ActionView::Template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    # ActionView::Template is one of a few sources of potential</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    # encoding issues in Rails. This is because the source for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    # templates are usually read from disk, and Ruby (like most</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    # encoding-aware programming languages) assumes that the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    # String retrieved through File IO is encoded in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    # &lt;tt&gt;default_external&lt;/tt&gt; encoding. In Rails, the default</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    # &lt;tt&gt;default_external&lt;/tt&gt; encoding is UTF-8.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    # As a result, if a user saves their template as ISO-8859-1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    # (for instance, using a non-Unicode-aware text editor),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    # and uses characters outside of the ASCII range, their</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    # users will see diamonds with question marks in them in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    # the browser.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    # For the rest of this documentation, when we say &quot;UTF-8&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    # we mean &quot;UTF-8 or whatever the default_internal encoding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    # is set to&quot;. By default, it will be UTF-8.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    # To mitigate this problem, we use a few strategies:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    # 1. If the source is not valid UTF-8, we raise an exception</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    #    when the template is compiled to alert the user</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    #    to the problem.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    # 2. The user can specify the encoding using Ruby-style</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    #    encoding comments in any template engine. If such</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    #    a comment is supplied, Rails will apply that encoding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    #    to the resulting compiled source returned by the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">    #    template handler.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    # 3. In all cases, we transcode the resulting String to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    #    the UTF-8.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    # This means that other parts of Rails can always assume</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    # that templates are encoded in UTF-8, even if the original</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    # source of the template was not UTF-8.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    # From a user&#39;s perspective, the easiest thing to do is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    # to save your templates as UTF-8. If you do this, you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    # do not need to do anything else for things to &quot;just work&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    # === Instructions for template handlers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    # The easiest thing for you to do is to simply ignore</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    # encodings. Rails will hand you the template source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">    # as the default_internal (generally UTF-8), raising</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">    # an exception for the user before sending the template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    # to you if it could not determine the original encoding.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    # For the greatest simplicity, you can support only</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    # UTF-8 as the &lt;tt&gt;default_internal&lt;/tt&gt;. This means</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">    # that from the perspective of your handler, the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    # entire pipeline is just UTF-8.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    # === Advanced: Handlers with alternate metadata sources</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    # If you want to provide an alternate mechanism for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    # specifying encodings (like ERB does via &lt;%# encoding: ... %&gt;),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">    # you may indicate that you will handle encodings yourself</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    # by implementing &lt;tt&gt;handles_encoding?&lt;/tt&gt; on your handler.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    # If you do, Rails will not try to encode the String</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">    # into the default_internal, passing you the unaltered</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    # bytes tagged with the assumed encoding (from</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    # default_external).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    # In this case, make sure you return a String from</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    # your handler encoded in the default_internal. Since</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    # you are handling out-of-band metadata, you are</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    # also responsible for alerting the user to any</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    # problems with converting the user&#39;s data to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    # the &lt;tt&gt;default_internal&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">    # To do so, simply raise +WrongEncodingError+ as follows:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    #     raise WrongEncodingError.new(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">    #       problematic_string,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    #       expected_encoding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">    #     )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">    ##</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">    # :method: local_assigns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">    # Returns a hash with the defined local variables.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">    # Given this sub template rendering:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">    #   &lt;%= render &quot;shared/header&quot;, { headline: &quot;Welcome&quot;, person: person } %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    # You can use +local_assigns+ in the sub templates to access the local variables:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    #   local_assigns[:headline] # =&gt; &quot;Welcome&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">    eager_autoload do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Error</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :RawFile</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :HTML</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Inline</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Sources</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Text</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Types</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend Template::Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :identifier, :handler, :original_encoding, :updated_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :variable, :format, :variant, :locals, :virtual_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(source, identifier, handler, format: nil, variant: nil, locals: nil, virtual_path: nil, updated_at: nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="128">
            
            

            

            <code class="ruby">      unless locals</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="129">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &quot;ActionView::Template#initialize requires a locals parameter&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="130">
            
            

            

            <code class="ruby">        locals = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="133">
            
            

            

            <code class="ruby">      @source            = source</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="134">
            
            

            

            <code class="ruby">      @identifier        = identifier</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">      @handler           = handler</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">      @compiled          = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">      @locals            = locals</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="138">
            
            

            

            <code class="ruby">      @virtual_path      = virtual_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="140">
            
            

            

            <code class="ruby">      @variable = if @virtual_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">        base = @virtual_path.end_with?(&quot;/&quot;) ? &quot;&quot; : ::File.basename(@virtual_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">        base =~ /\A_?(.*?)(?:\.\w+)*\z/</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="143">
            
            

            

            <code class="ruby">        $1.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">      if updated_at</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &quot;ActionView::Template#updated_at is deprecated&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="148">
            
            

            

            <code class="ruby">        @updated_at        = updated_at</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="150">
            
            

            

            <code class="ruby">        @updated_at        = Time.now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">      @format            = format</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="153">
            
            

            

            <code class="ruby">      @variant           = variant</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">      @compile_mutex     = Mutex.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate :original_encoding</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="158">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate :updated_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="159">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def virtual_path=(_); end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def locals=(_); end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def formats=(_); end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def formats; Array(format); end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def variants=(_); end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def variants; [variant]; end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate def refresh(_); self; end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">    # Returns whether the underlying handler supports streaming. If so,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">    # a streaming buffer *may* be passed when it starts rendering.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="169">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def supports_streaming?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="170">
            
            

            

            <code class="ruby">      handler.respond_to?(:supports_streaming?) &amp;&amp; handler.supports_streaming?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">    # Render a template. If the template was not compiled yet, it is done</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">    # exactly before rendering.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">    # This method is instrumented as &quot;!render_template.action_view&quot;. Notice that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">    # we use a bang in this instrumentation because you don&#39;t want to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">    # consume this in production. This is only slow if it&#39;s being listened to.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def render(view, locals, buffer = ActionView::OutputBuffer.new, add_to_stack: true, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="180">
            
            

            

            <code class="ruby">      instrument_render_template do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">        compile!(view)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="182">
            
            

            

            <code class="ruby">        view._run(method_name, self, locals, buffer, add_to_stack: add_to_stack, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">    rescue =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">      handle_render_error(view, e)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="188">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def type</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">      @type ||= Types[format]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="192">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def short_identifier</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="193">
            
            

            

            <code class="ruby">      @short_identifier ||= defined?(Rails.root) ? identifier.delete_prefix(&quot;#{Rails.root}/&quot;) : identifier</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def inspect</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="197">
            
            

            

            <code class="ruby">      &quot;#&lt;#{self.class.name} #{short_identifier} locals=#{@locals.inspect}&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def source</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="201">
            
            

            

            <code class="ruby">      @source.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">    # This method is responsible for properly setting the encoding of the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">    # source. Until this point, we assume that the source is BINARY data.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">    # If no additional information is supplied, we assume the encoding is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">    # the same as &lt;tt&gt;Encoding.default_external&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">    # The user can also specify the encoding via a comment on the first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">    # line of the template (# encoding: NAME-OF-ENCODING). This will work</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">    # with any template engine, as we process out the encoding comment</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">    # before passing the source on to the template engine, leaving a</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">    # blank line in its stead.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="214">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def encode!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="215">
            
            

            

            <code class="ruby">      source = self.source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="217">
            
            

            

            <code class="ruby">      return source unless source.encoding == Encoding::BINARY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      # Look for # encoding: *. If we find one, we&#39;ll encode the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">      # String in that encoding, otherwise, we&#39;ll use the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      # default external encoding.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="222">
            
            

            

            <code class="ruby">      if source.sub!(/\A#{ENCODING_FLAG}/, &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="223">
            
            

            

            <code class="ruby">        encoding = magic_encoding = $1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="225">
            
            

            

            <code class="ruby">        encoding = Encoding.default_external</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">      # Tag the source with the default external encoding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      # or the encoding specified in the file</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="230">
            
            

            

            <code class="ruby">      source.force_encoding(encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">      # If the user didn&#39;t specify an encoding, and the handler</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      # handles encodings, we simply pass the String as is to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">      # the handler (with the default_external tag)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="235">
            
            

            

            <code class="ruby">      if !magic_encoding &amp;&amp; @handler.respond_to?(:handles_encoding?) &amp;&amp; @handler.handles_encoding?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="236">
            
            

            

            <code class="ruby">        source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">      # Otherwise, if the String is valid in the encoding,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      # encode immediately to default_internal. This means</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      # that if a handler doesn&#39;t handle encodings, it will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # always get Strings in the default_internal</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="241">
            
            

            

            <code class="ruby">      elsif source.valid_encoding?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="242">
            
            

            

            <code class="ruby">        source.encode!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      # Otherwise, since the String is invalid in the encoding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      # specified, raise an exception</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="246">
            
            

            

            <code class="ruby">        raise WrongEncodingError.new(source, encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">    # Exceptions are marshalled when using the parallel test runner with DRb, so we need</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">    # to ensure that references to the template object can be marshalled as well. This means forgoing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">    # the marshalling of the compiler mutex and instantiating that again on unmarshalling.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="254">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def marshal_dump # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="255">
            
            

            

            <code class="ruby">      [ @source, @identifier, @handler, @compiled, @locals, @virtual_path, @updated_at, @format, @variant ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="258">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def marshal_load(array) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="259">
            
            

            

            <code class="ruby">      @source, @identifier, @handler, @compiled, @locals, @virtual_path, @updated_at, @format, @variant = *array</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="260">
            
            

            

            <code class="ruby">      @compile_mutex = Mutex.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="263">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      # Compile a template. This method ensures a template is compiled</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">      # just once and removes the source after it is compiled.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="266">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def compile!(view)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="267">
            
            

            

            <code class="ruby">        return if @compiled</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">        # Templates can be used concurrently in threaded environments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">        # so compilation and any instance variable modification must</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">        # be synchronized</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="272">
            
            

            

            <code class="ruby">        @compile_mutex.synchronize do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">          # Any thread holding this lock will be compiling the template needed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">          # by the threads waiting. So re-check the @compiled flag to avoid</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">          # re-compilation</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="276">
            
            

            

            <code class="ruby">          return if @compiled</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="278">
            
            

            

            <code class="ruby">          mod = view.compiled_method_container</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="280">
            
            

            

            <code class="ruby">          instrument(&quot;!compile_template&quot;) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="281">
            
            

            

            <code class="ruby">            compile(mod)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">          @compiled = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="288">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class LegacyTemplate &lt; DelegateClass(Template) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="289">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_reader :source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="291">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="292">
            
            

            

            <code class="ruby">          super(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="293">
            
            

            

            <code class="ruby">          @source = source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">      # Among other things, this method is responsible for properly setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">      # the encoding of the compiled template.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">      # If the template engine handles encodings, we send the encoded</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">      # String to the engine without further processing. This allows</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">      # the template engine to support additional mechanisms for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">      # specifying the encoding. For instance, ERB supports &lt;%# encoding: %&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">      # Otherwise, after we figure out the correct encoding, we then</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">      # encode the source into &lt;tt&gt;Encoding.default_internal&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">      # In general, this means that templates will be UTF-8 inside of Rails,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      # regardless of the original source encoding.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="309">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def compile(mod)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="310">
            
            

            

            <code class="ruby">        source = encode!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="311">
            
            

            

            <code class="ruby">        code = @handler.call(self, source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">        # Make sure that the resulting String to be eval&#39;d is in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">        # encoding of the code</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="315">
            
            

            

            <code class="ruby">        original_source = source</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="316">
            
            

            

            <code class="ruby">        source = +&lt;&lt;-end_src</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">          def #{method_name}(local_assigns, output_buffer)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">            @virtual_path = #{@virtual_path.inspect};#{locals_code};#{code}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">        end_src</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">        # Make sure the source is in the encoding of the returned code</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="323">
            
            

            

            <code class="ruby">        source.force_encoding(code.encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">        # In case we get back a String from a handler that is not in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">        # BINARY or the default_internal, encode it to the default_internal</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="327">
            
            

            

            <code class="ruby">        source.encode!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">        # Now, validate that the source we got back from the template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">        # handler is valid in the default_internal. This is for handlers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">        # that handle encoding but screw up</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="332">
            
            

            

            <code class="ruby">        unless source.valid_encoding?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="333">
            
            

            

            <code class="ruby">          raise WrongEncodingError.new(source, Encoding.default_internal)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="336">
            
            

            

            <code class="ruby">        start_line = @handler.respond_to?(:start_line) ? @handler.start_line(self) : 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="338">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="339">
            
            

            

            <code class="ruby">          mod.module_eval(source, identifier, start_line)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="340">
            
            

            

            <code class="ruby">        rescue SyntaxError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">          # Account for when code in the template is not syntactically valid; e.g. if we&#39;re using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">          # ERB and the user writes &lt;%= foo( %&gt;, attempting to call a helper `foo` and interpolate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">          # the result into the template, but missing an end parenthesis.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="344">
            
            

            

            <code class="ruby">          raise SyntaxErrorInTemplate.new(self, original_source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="348">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def handle_render_error(view, e)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="349">
            
            

            

            <code class="ruby">        if e.is_a?(Template::Error)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="350">
            
            

            

            <code class="ruby">          e.sub_template_of(self)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="351">
            
            

            

            <code class="ruby">          raise e</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="353">
            
            

            

            <code class="ruby">          raise Template::Error.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="357">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def locals_code</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">        # Only locals with valid variable names get set directly. Others will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">        # still be available in local_assigns.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="360">
            
            

            

            <code class="ruby">        locals = @locals - Module::RUBY_RESERVED_KEYWORDS</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="361">
            
            

            

            <code class="ruby">        locals = locals.grep(/\A@?(?![A-Z0-9])(?:[[:alnum:]_]|[^\0-\177])+\z/)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">        # Assign for the same variable is to suppress unused variable warning</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="364">
            
            

            

            <code class="ruby">        locals.each_with_object(+&quot;&quot;) { |key, code| code &lt;&lt; &quot;#{key} = local_assigns[:#{key}]; #{key} = #{key};&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="367">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def method_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="368">
            
            

            

            <code class="ruby">        @method_name ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="369">
            
            

            

            <code class="ruby">          m = +&quot;_#{identifier_method_name}__#{@identifier.hash}_#{__id__}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="370">
            
            

            

            <code class="ruby">          m.tr!(&quot;-&quot;, &quot;_&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="371">
            
            

            

            <code class="ruby">          m</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="375">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def identifier_method_name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="376">
            
            

            

            <code class="ruby">        short_identifier.tr(&quot;^a-z_&quot;, &quot;_&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="379">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def instrument(action, &amp;block) # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="380">
            
            

            

            <code class="ruby">        ActiveSupport::Notifications.instrument(&quot;#{action}.action_view&quot;, instrument_payload, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="383">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def instrument_render_template(&amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="384">
            
            

            

            <code class="ruby">        ActiveSupport::Notifications.instrument(&quot;!render_template.action_view&quot;, instrument_payload, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="387">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def instrument_payload</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="388">
            
            

            

            <code class="ruby">        { virtual_path: @virtual_path, identifier: @identifier }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9944d0b213f6d5d8de0db476ac78d1259d7f1d23">
  <div class="header">
    <h3>lib/action_view/template/handlers.rb</h3>
    <h4>
      <span class="red">
  80.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>45</b> relevant lines.
      <span class="green"><b>36</b> lines covered</span> and
      <span class="red"><b>9</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  # = Action View Template Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Template #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Handlers #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Raw, &quot;action_view/template/handlers/raw&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :ERB, &quot;action_view/template/handlers/erb&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Html, &quot;action_view/template/handlers/html&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">      autoload :Builder, &quot;action_view/template/handlers/builder&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.extended(base)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">        base.register_default_template_handler :raw, Raw.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        base.register_template_handler :erb, ERB.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">        base.register_template_handler :html, Html.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">        base.register_template_handler :builder, Builder.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">        base.register_template_handler :ruby, lambda { |_, source| source }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @@template_handlers = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @@default_template_handlers = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.extensions</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">        @@template_extensions ||= @@template_handlers.keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class LegacyHandlerWrapper &lt; SimpleDelegator # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def call(view, source)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">          __getobj__.call(ActionView::Template::LegacyTemplate.new(view, source))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      # Register an object that knows how to handle template files with the given</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      # extensions. This can be used to implement new template types.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      # The handler must respond to +:call+, which will be passed the template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # and should return the rendered template as a String.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def register_template_handler(*extensions, handler)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="38">
            <span class="hits">5</span>
            

            

            <code class="ruby">        params = if handler.is_a?(Proc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">          handler.parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="41">
            <span class="hits">4</span>
            

            

            <code class="ruby">          handler.method(:call).parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="44">
            <span class="hits">15</span>
            

            

            <code class="ruby">        unless params.find_all { |type, _| type == :req || type == :opt }.length &gt;= 2</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">          ActiveSupport::Deprecation.warn &lt;&lt;~eowarn</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">          Single arity template handlers are deprecated. Template handlers must</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">          now accept two parameters, the view object and the source for the view object.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">          Change:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">            &gt;&gt; #{handler}.call(#{params.map(&amp;:last).join(&quot;, &quot;)})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">          To:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">            &gt;&gt; #{handler}.call(#{params.map(&amp;:last).join(&quot;, &quot;)}, source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">          eowarn</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">          handler = LegacyHandlerWrapper.new(handler)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="56">
            <span class="hits">5</span>
            

            

            <code class="ruby">        raise(ArgumentError, &quot;Extension is required&quot;) if extensions.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="57">
            <span class="hits">5</span>
            

            

            <code class="ruby">        extensions.each do |extension|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="58">
            <span class="hits">5</span>
            

            

            <code class="ruby">          @@template_handlers[extension.to_sym] = handler</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="60">
            <span class="hits">5</span>
            

            

            <code class="ruby">        @@template_extensions = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      # Opposite to register_template_handler.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def unregister_template_handler(*extensions)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">        extensions.each do |extension|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="66">
            
            

            

            <code class="ruby">          handler = @@template_handlers.delete extension.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">          @@default_template_handlers = nil if @@default_template_handlers == handler</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">        @@template_extensions = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def template_handler_extensions</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">        @@template_handlers.keys.map(&amp;:to_s).sort</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def registered_template_handler(extension)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">        extension &amp;&amp; @@template_handlers[extension.to_sym]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def register_default_template_handler(extension, klass)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">        register_template_handler(extension, klass)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @@default_template_handlers = klass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def handler_for_extension(extension)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">        registered_template_handler(extension) || @@default_template_handlers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ec87289bd6d2dec18837dbbdd840e6e7904e4aaf">
  <div class="header">
    <h3>lib/action_view/template/handlers/builder.rb</h3>
    <h4>
      <span class="red">
  58.33%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>12</b> relevant lines.
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>5</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Template::Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Builder</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class_attribute :default_format, default: :xml</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def call(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="9">
            
            

            

            <code class="ruby">        require_engine</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">        &quot;xml = ::Builder::XmlMarkup.new(:indent =&gt; 2);&quot; \</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">          &quot;self.output_buffer = xml.target!;&quot; +</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">          source +</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">          &quot;;xml.target!;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def require_engine # :doc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">          @required ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">            require &quot;builder&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">            true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b06ef7432ab35f4e6df951d6071e7903e7dcfb50">
  <div class="header">
    <h3>lib/action_view/template/handlers/erb.rb</h3>
    <h4>
      <span class="red">
  51.22%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>41</b> relevant lines.
      <span class="green"><b>21</b> lines covered</span> and
      <span class="red"><b>20</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class ERB</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">        autoload :Erubi, &quot;action_view/template/handlers/erb/erubi&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">        # Specify trim mode for the ERB compiler. Defaults to &#39;-&#39;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">        # See ERB documentation for suitable values.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">        class_attribute :erb_trim_mode, default: &quot;-&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        # Default implementation used.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        class_attribute :erb_implementation, default: Erubi</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">        # Do not escape templates of these mime types.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">        class_attribute :escape_ignore_list, default: [&quot;text/plain&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">        [self, singleton_class].each do |base|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="20">
            <span class="hits">2</span>
            

            

            <code class="ruby">          base.alias_method :escape_whitelist, :escape_ignore_list</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="21">
            <span class="hits">2</span>
            

            

            <code class="ruby">          base.alias_method :escape_whitelist=, :escape_ignore_list=</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="23">
            <span class="hits">2</span>
            

            

            <code class="ruby">          base.deprecate(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">            escape_whitelist: &quot;use #escape_ignore_list instead&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">            :escape_whitelist= =&gt; &quot;use #escape_ignore_list= instead&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">          )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">        ENCODING_TAG = Regexp.new(&quot;\\A(&lt;%#{ENCODING_FLAG}-?%&gt;)[ \\t]*&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def self.call(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">          new.call(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def supports_streaming?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">          true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def handles_encoding?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">          true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">        # Line number to pass to #module_eval</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">        #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">        # If we&#39;re annotating the template, we need to offset the starting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">        # line number passed to #module_eval so that errors in the template</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        # will be raised on the correct line.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def start_line(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">          annotate?(template) ? -1 : 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def call(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">          # First, convert to BINARY, so in case the encoding is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">          # wrong, we can still find an encoding tag</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">          # (&lt;%# encoding %&gt;) inside the String using a regular</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">          # expression</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="57">
            
            

            

            <code class="ruby">          template_source = source.b</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">          erb = template_source.gsub(ENCODING_TAG, &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">          encoding = $2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="62">
            
            

            

            <code class="ruby">          erb.force_encoding valid_encoding(source.dup, encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">          # Always make sure we return a String in the default_internal</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">          erb.encode!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">          options = {</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="68">
            
            

            

            <code class="ruby">            escape: (self.class.escape_ignore_list.include? template.type),</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">            trim: (self.class.erb_trim_mode == &quot;-&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="72">
            
            

            

            <code class="ruby">          if annotate?(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">            options[:preamble] = &quot;@output_buffer.safe_append=&#39;&lt;!-- BEGIN #{template.short_identifier} --&gt;\n&#39;;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">            options[:postamble] = &quot;@output_buffer.safe_append=&#39;&lt;!-- END #{template.short_identifier} --&gt;\n&#39;;@output_buffer.to_s&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">          self.class.erb_implementation.new(erb, options).src</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def annotate?(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">          ActionView::Base.annotate_rendered_view_with_filenames &amp;&amp; template.format == :html</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def valid_encoding(string, encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">          # If a magic encoding comment was found, tag the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">          # String with this encoding. This is for a case</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">          # where the original String was assumed to be,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">          # for instance, UTF-8, but a magic comment</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">          # proved otherwise</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">          string.force_encoding(encoding) if encoding</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">          # If the String is valid, return the encoding we found</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="94">
            
            

            

            <code class="ruby">          return string.encoding if string.valid_encoding?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">          # Otherwise, raise an exception</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">          raise WrongEncodingError.new(string, string.encoding)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ba7ab8fafee112237c3fec46575b1734fe7c206c">
  <div class="header">
    <h3>lib/action_view/template/handlers/erb/erubi.rb</h3>
    <h4>
      <span class="red">
  30.61%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>49</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>34</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;erubi&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Template</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class ERB</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">        class Erubi &lt; ::Erubi::Engine</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">          # :nodoc: all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def initialize(input, properties = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">            @newline_pending = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">            # Dup properties so that we don&#39;t modify argument</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">            properties = Hash[properties]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">            properties[:bufvar]     ||= &quot;@output_buffer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">            properties[:preamble]   ||= &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">            properties[:postamble]  ||= &quot;#{properties[:bufvar]}.to_s&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">            properties[:escapefunc] = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">            super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def evaluate(action_view_erb_handler_context)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">            src = @src</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">            view = Class.new(ActionView::Base) {</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">              include action_view_erb_handler_context._routes.url_helpers</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">              class_eval(&quot;define_method(:_template) { |local_assigns, output_buffer| #{src} }&quot;, defined?(@filename) ? @filename : &quot;(erubi)&quot;, 0)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">            }.empty</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">            view._run(:_template, nil, {}, ActionView::OutputBuffer.new)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">        private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_text(text)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">            return if text.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">            if text == &quot;\n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">              @newline_pending += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">              src &lt;&lt; bufvar &lt;&lt; &quot;.safe_append=&#39;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">              src &lt;&lt; &quot;\n&quot; * @newline_pending if @newline_pending &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">              src &lt;&lt; text.gsub(/[&#39;\\]/, &#39;\\\\\&amp;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">              src &lt;&lt; &quot;&#39;.freeze;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">              @newline_pending = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">          BLOCK_EXPR = /\s*((\s+|\))do|\{)(\s*\|[^|]*\|)?\s*\Z/</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_expression(indicator, code)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">            flush_newline_if_pending(src)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">            if (indicator == &quot;==&quot;) || @escape</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="57">
            
            

            

            <code class="ruby">              src &lt;&lt; bufvar &lt;&lt; &quot;.safe_expr_append=&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">              src &lt;&lt; bufvar &lt;&lt; &quot;.append=&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="62">
            
            

            

            <code class="ruby">            if BLOCK_EXPR.match?(code)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">              src &lt;&lt; &quot; &quot; &lt;&lt; code</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">              src &lt;&lt; &quot;(&quot; &lt;&lt; code &lt;&lt; &quot;);&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_code(code)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="70">
            
            

            

            <code class="ruby">            flush_newline_if_pending(src)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">            super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def add_postamble(_)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">            flush_newline_if_pending(src)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">            super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">          def flush_newline_if_pending(src)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">            if @newline_pending &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="81">
            
            

            

            <code class="ruby">              src &lt;&lt; bufvar &lt;&lt; &quot;.safe_append=&#39;#{&quot;\n&quot; * @newline_pending}&#39;.freeze;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">              @newline_pending = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4d7e56413e2305f69cffa9373a5f091fd782c53e">
  <div class="header">
    <h3>lib/action_view/template/handlers/html.rb</h3>
    <h4>
      <span class="red">
  80.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>5</b> relevant lines.
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Template::Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Html &lt; Raw</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def call(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="7">
            
            

            

            <code class="ruby">        &quot;ActionView::OutputBuffer.new #{super}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a0e893f3c63bb371d2f63b75c2d88a2900d113d3">
  <div class="header">
    <h3>lib/action_view/template/handlers/raw.rb</h3>
    <h4>
      <span class="red">
  80.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>5</b> relevant lines.
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module Template::Handlers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Raw</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def call(template, source)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="7">
            
            

            

            <code class="ruby">        &quot;#{source.inspect}.html_safe;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f680f6fde0d6903cffb29de59c78fe8596364b8a">
  <div class="header">
    <h3>lib/action_view/template/resolver.rb</h3>
    <h4>
      <span class="red">
  47.25%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>218</b> relevant lines.
      <span class="green"><b>103</b> lines covered</span> and
      <span class="red"><b>115</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;pathname&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/class&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/template&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;thread&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;concurrent/map&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # = Action View Resolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Resolver</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # Keeps all information about view path and builds virtual path.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Path</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_reader :name, :prefix, :partial, :virtual</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :partial?, :partial</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.build(name, prefix, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">        virtual = +&quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">        virtual &lt;&lt; &quot;#{prefix}/&quot; unless prefix.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">        virtual &lt;&lt; (partial ? &quot;_#{name}&quot; : name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">        new name, prefix, partial, virtual</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize(name, prefix, partial, virtual)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">        @name    = name</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">        @prefix  = prefix</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        @partial = partial</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">        @virtual = virtual</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def to_str</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">        @virtual</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :to_s :to_str</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class PathParser # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_path_regex</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">        handlers = Template::Handlers.extensions.map { |x| Regexp.escape(x) }.join(&quot;|&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">        formats = Template::Types.symbols.map { |x| Regexp.escape(x) }.join(&quot;|&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">        locales = &quot;[a-z]{2}(?:-[A-Z]{2})?&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">        variants = &quot;[^.]*&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">        %r{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">          \A</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">          (?:(?&lt;prefix&gt;.*)/)?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">          (?&lt;partial&gt;_)?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">          (?&lt;action&gt;.*?)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">          (?:\.(?&lt;locale&gt;#{locales}))??</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">          (?:\.(?&lt;format&gt;#{formats}))??</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">          (?:\+(?&lt;variant&gt;#{variants}))??</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">          (?:\.(?&lt;handler&gt;#{handlers}))?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">          \z</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">        }x</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def parse(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">        @regex ||= build_path_regex</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">        match = @regex.match(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="61">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">          prefix: match[:prefix] || &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">          action: match[:action],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">          partial: !!match[:partial],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">          locale: match[:locale]&amp;.to_sym,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">          handler: match[:handler]&amp;.to_sym,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">          format: match[:format]&amp;.to_sym,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">          variant: match[:variant]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    # Threadsafe template cache</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Cache #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class SmallCache &lt; Concurrent::Map</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="77">
            <span class="hits">6</span>
            

            

            <code class="ruby">          super(options.merge(initial_capacity: 2))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">      # Preallocate all the default blocks for performance/memory consumption reasons</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PARTIAL_BLOCK = lambda { |cache, partial| cache[partial] = SmallCache.new }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">      PREFIX_BLOCK  = lambda { |cache, prefix|  cache[prefix]  = SmallCache.new(&amp;PARTIAL_BLOCK) }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">      NAME_BLOCK    = lambda { |cache, name|    cache[name]    = SmallCache.new(&amp;PREFIX_BLOCK) }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">      KEY_BLOCK     = lambda { |cache, key|     cache[key]     = SmallCache.new(&amp;NAME_BLOCK) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # Usually a majority of template look ups return nothing, use this canonical preallocated array to save memory</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">      NO_TEMPLATES = [].freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="91">
            <span class="hits">3</span>
            

            

            <code class="ruby">        @data = SmallCache.new(&amp;KEY_BLOCK)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="92">
            <span class="hits">3</span>
            

            

            <code class="ruby">        @query_cache = SmallCache.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def inspect</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">        &quot;#{to_s[0..-2]} keys=#{@data.size} queries=#{@query_cache.size}&gt;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">      # Cache the templates returned by the block</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache(key, name, prefix, partial, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">        @data[key][name][prefix][partial][locals] ||= canonical_no_templates(yield)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def cache_query(query) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">        @query_cache[query] ||= canonical_no_templates(yield)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def clear</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="109">
            <span class="hits">3</span>
            

            

            <code class="ruby">        @data.clear</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="110">
            <span class="hits">3</span>
            

            

            <code class="ruby">        @query_cache.clear</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">      # Get the cache size. Do not call this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      # method. This method is not guaranteed to be here ever.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def size # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="116">
            
            

            

            <code class="ruby">        size = 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="117">
            
            

            

            <code class="ruby">        @data.each_value do |v1|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="118">
            
            

            

            <code class="ruby">          v1.each_value do |v2|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="119">
            
            

            

            <code class="ruby">            v2.each_value do |v3|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="120">
            
            

            

            <code class="ruby">              v3.each_value do |v4|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="121">
            
            

            

            <code class="ruby">                size += v4.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="127">
            
            

            

            <code class="ruby">        size + @query_cache.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def canonical_no_templates(templates)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="132">
            
            

            

            <code class="ruby">          templates.empty? ? NO_TEMPLATES : templates</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">    cattr_accessor :caching, default: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="138">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class &lt;&lt; self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="139">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias :caching? :caching</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="143">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @cache = Cache.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="146">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def clear_cache</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="147">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @cache.clear</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">    # Normalizes the arguments and passes it on to find_templates.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find_all(name, prefix = nil, partial = false, details = {}, key = nil, locals = [])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">      locals = locals.map(&amp;:to_s).sort!.freeze</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">      cached(key, [name, prefix, partial], details, locals) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="155">
            
            

            

            <code class="ruby">        _find_all(name, prefix, partial, details, key, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="159">
            <span class="hits">1</span>
            

            

            <code class="ruby">    alias :find_all_anywhere :find_all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">    deprecate :find_all_anywhere</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find_all_with_query(query) # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="163">
            
            

            

            <code class="ruby">      @cache.cache_query(query) { find_template_paths(File.join(@path, query)) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _find_all(name, prefix, partial, details, key, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="168">
            
            

            

            <code class="ruby">      find_templates(name, prefix, partial, details, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delegate :caching?, to: :class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">    # This is what child classes implement. No defaults are needed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">    # because Resolver guarantees that the arguments are present and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">    # normalized.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="176">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def find_templates(name, prefix, partial, details, locals = [])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="177">
            
            

            

            <code class="ruby">      raise NotImplementedError, &quot;Subclasses must implement a find_templates(name, prefix, partial, details, locals = []) method&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">    # Handles templates caching. If a key is given and caching is on</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">    # always check the cache before hitting the resolver. Otherwise,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">    # it always hits the resolver but if the key is present, check if the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">    # resolver is fresher before returning it.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def cached(key, path_info, details, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">      name, prefix, partial = path_info</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="187">
            
            

            

            <code class="ruby">      if key</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="188">
            
            

            

            <code class="ruby">        @cache.cache(key, name, prefix, partial, locals) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="189">
            
            

            

            <code class="ruby">          yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="192">
            
            

            

            <code class="ruby">        yield</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">  # An abstract class that implements a Resolver with path semantics.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="198">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class PathResolver &lt; Resolver #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="199">
            <span class="hits">1</span>
            

            

            <code class="ruby">    EXTENSIONS = { locale: &quot;.&quot;, formats: &quot;.&quot;, variants: &quot;+&quot;, handlers: &quot;.&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">    DEFAULT_PATTERN = &quot;:prefix/:action{.:locale,}{.:formats,}{+:variants,}{.:handlers,}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="202">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(pattern = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="203">
            <span class="hits">3</span>
            

            

            <code class="ruby">      if pattern</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="204">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &quot;Specifying a custom path for #{self.class} is deprecated. Implement a custom Resolver subclass instead.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="205">
            
            

            

            <code class="ruby">        @pattern = pattern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="207">
            <span class="hits">3</span>
            

            

            <code class="ruby">        @pattern = DEFAULT_PATTERN</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="209">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @unbound_templates = Concurrent::Map.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="210">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @path_parser = PathParser.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="211">
            <span class="hits">3</span>
            

            

            <code class="ruby">      super()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="214">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def clear_cache</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="215">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @unbound_templates.clear</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="216">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @path_parser = PathParser.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="217">
            <span class="hits">3</span>
            

            

            <code class="ruby">      super()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="220">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="221">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _find_all(name, prefix, partial, details, key, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="222">
            
            

            

            <code class="ruby">        path = Path.build(name, prefix, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="223">
            
            

            

            <code class="ruby">        query(path, details, details[:formats], locals, cache: !!key)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="226">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def query(path, details, formats, locals, cache:)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="227">
            
            

            

            <code class="ruby">        template_paths = find_template_paths_from_details(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="228">
            
            

            

            <code class="ruby">        template_paths = reject_files_external_to_app(template_paths)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="230">
            
            

            

            <code class="ruby">        template_paths.map do |template|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="231">
            
            

            

            <code class="ruby">          unbound_template =</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="232">
            
            

            

            <code class="ruby">            if cache</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="233">
            
            

            

            <code class="ruby">              @unbound_templates.compute_if_absent([template, path.virtual]) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="234">
            
            

            

            <code class="ruby">                build_unbound_template(template, path.virtual)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="237">
            
            

            

            <code class="ruby">              build_unbound_template(template, path.virtual)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="240">
            
            

            

            <code class="ruby">          unbound_template.bind_locals(locals)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def source_for_template(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="245">
            
            

            

            <code class="ruby">        Template::Sources::File.new(template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_unbound_template(template, virtual_path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="249">
            
            

            

            <code class="ruby">        handler, format, variant = extract_handler_and_format_and_variant(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="250">
            
            

            

            <code class="ruby">        source = source_for_template(template)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="252">
            
            

            

            <code class="ruby">        UnboundTemplate.new(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">          source,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">          template,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">          handler,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">          virtual_path: virtual_path,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">          format: format,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">          variant: variant,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def reject_files_external_to_app(files)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="263">
            
            

            

            <code class="ruby">        files.reject { |filename| !inside_path?(@path, filename) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="266">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_template_paths_from_details(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="267">
            
            

            

            <code class="ruby">        if path.name.include?(&quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="268">
            
            

            

            <code class="ruby">          ActiveSupport::Deprecation.warn(&quot;Rendering actions with &#39;.&#39; in the name is deprecated: #{path}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="271">
            
            

            

            <code class="ruby">        query = build_query(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="272">
            
            

            

            <code class="ruby">        find_template_paths(query)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="275">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_template_paths(query)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="276">
            
            

            

            <code class="ruby">        Dir[query].uniq.reject do |filename|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="277">
            
            

            

            <code class="ruby">          File.directory?(filename) ||</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">            # deals with case-insensitive file systems.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">            !File.fnmatch(query, filename, File::FNM_EXTGLOB)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="283">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def inside_path?(path, filename)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="284">
            
            

            

            <code class="ruby">        filename = File.expand_path(filename)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">        path = File.join(path, &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">        filename.start_with?(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">      # Helper for building query glob string based on resolver&#39;s pattern.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="290">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_query(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="291">
            
            

            

            <code class="ruby">        query = @pattern.dup</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="293">
            
            

            

            <code class="ruby">        prefix = path.prefix.empty? ? &quot;&quot; : &quot;#{escape_entry(path.prefix)}\\1&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="294">
            
            

            

            <code class="ruby">        query.gsub!(/:prefix(\/)?/, prefix)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="296">
            
            

            

            <code class="ruby">        partial = escape_entry(path.partial? ? &quot;_#{path.name}&quot; : path.name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="297">
            
            

            

            <code class="ruby">        query.gsub!(&quot;:action&quot;, partial)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="299">
            
            

            

            <code class="ruby">        details.each do |ext, candidates|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="300">
            
            

            

            <code class="ruby">          if ext == :variants &amp;&amp; candidates == :any</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="301">
            
            

            

            <code class="ruby">            query.gsub!(/:#{ext}/, &quot;*&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="303">
            
            

            

            <code class="ruby">            query.gsub!(/:#{ext}/, &quot;{#{candidates.compact.uniq.join(&#39;,&#39;)}}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="307">
            
            

            

            <code class="ruby">        File.expand_path(query, @path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="310">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def escape_entry(entry)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="311">
            
            

            

            <code class="ruby">        entry.gsub(/[*?{}\[\]]/, &#39;\\\\\\&amp;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">      # Extract handler, formats and variant from path. If a format cannot be found neither</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">      # from the path, or the handler, we should return the array of formats given</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">      # to the resolver.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="317">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def extract_handler_and_format_and_variant(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="318">
            
            

            

            <code class="ruby">        details = @path_parser.parse(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="320">
            
            

            

            <code class="ruby">        handler = Template.handler_for_extension(details[:handler])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="321">
            
            

            

            <code class="ruby">        format = details[:format] || handler.try(:default_format)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="322">
            
            

            

            <code class="ruby">        variant = details[:variant]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">        # Template::Types[format] and handler.default_format can return nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="325">
            
            

            

            <code class="ruby">        [handler, format, variant]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">  # A resolver that loads files from the filesystem.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="330">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class FileSystemResolver &lt; PathResolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="331">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="333">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(path, pattern = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="334">
            <span class="hits">3</span>
            

            

            <code class="ruby">      raise ArgumentError, &quot;path already is a Resolver class&quot; if path.is_a?(Resolver)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="335">
            <span class="hits">3</span>
            

            

            <code class="ruby">      super(pattern)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="336">
            <span class="hits">3</span>
            

            

            <code class="ruby">      @path = File.expand_path(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="339">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="340">
            
            

            

            <code class="ruby">      @path.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="342">
            <span class="hits">1</span>
            

            

            <code class="ruby">    alias :to_path :to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="344">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def eql?(resolver)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="345">
            
            

            

            <code class="ruby">      self.class.equal?(resolver.class) &amp;&amp; to_path == resolver.to_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="347">
            <span class="hits">1</span>
            

            

            <code class="ruby">    alias :== :eql?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">  # An Optimized resolver for Rails&#39; most common case.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="351">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class OptimizedFileSystemResolver &lt; FileSystemResolver #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="352">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="353">
            <span class="hits">1</span>
            

            

            <code class="ruby">      super(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="356">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="357">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_candidate_template_paths(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">        # Instead of checking for every possible path, as our other globs would</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">        # do, scan the directory for files with the right prefix.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="360">
            
            

            

            <code class="ruby">        query = &quot;#{escape_entry(File.join(@path, path))}*&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="362">
            
            

            

            <code class="ruby">        Dir[query].reject do |filename|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="363">
            
            

            

            <code class="ruby">          File.directory?(filename)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="367">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_template_paths_from_details(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="368">
            
            

            

            <code class="ruby">        if path.name.include?(&quot;.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">          # Fall back to the unoptimized resolver, which will warn</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="370">
            
            

            

            <code class="ruby">          return super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="373">
            
            

            

            <code class="ruby">        candidates = find_candidate_template_paths(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="375">
            
            

            

            <code class="ruby">        regex = build_regex(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">        candidates.uniq.reject do |filename|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">          # This regex match does double duty of finding only files which match</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">          # details (instead of just matching the prefix) and also filtering for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">          # case-insensitive file systems.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="381">
            
            

            

            <code class="ruby">          !regex.match?(filename) ||</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">            File.directory?(filename)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="383">
            
            

            

            <code class="ruby">        end.sort_by do |filename|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">          # Because we scanned the directory, instead of checking for files</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">          # one-by-one, they will be returned in an arbitrary order.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">          # We can use the matches found by the regex and sort by their index in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">          # details.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="388">
            
            

            

            <code class="ruby">          match = filename.match(regex)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="389">
            
            

            

            <code class="ruby">          EXTENSIONS.keys.map do |ext|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="390">
            
            

            

            <code class="ruby">            if ext == :variants &amp;&amp; details[ext] == :any</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="391">
            
            

            

            <code class="ruby">              match[ext].nil? ? 0 : 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="392">
            
            

            

            <code class="ruby">            elsif match[ext].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">              # No match should be last</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="394">
            
            

            

            <code class="ruby">              details[ext].length</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="396">
            
            

            

            <code class="ruby">              found = match[ext].to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="397">
            
            

            

            <code class="ruby">              details[ext].index(found)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="403">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def build_regex(path, details)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="404">
            
            

            

            <code class="ruby">        query = Regexp.escape(File.join(@path, path))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="405">
            
            

            

            <code class="ruby">        exts = EXTENSIONS.map do |ext, prefix|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="406">
            
            

            

            <code class="ruby">          match =</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="407">
            
            

            

            <code class="ruby">            if ext == :variants &amp;&amp; details[ext] == :any</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="408">
            
            

            

            <code class="ruby">              &quot;.*?&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="410">
            
            

            

            <code class="ruby">              arr = details[ext].compact</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="411">
            
            

            

            <code class="ruby">              arr.uniq!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="412">
            
            

            

            <code class="ruby">              arr.map! { |e| Regexp.escape(e) }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="413">
            
            

            

            <code class="ruby">              arr.join(&quot;|&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="415">
            
            

            

            <code class="ruby">          prefix = Regexp.escape(prefix)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="416">
            
            

            

            <code class="ruby">          &quot;(#{prefix}(?&lt;#{ext}&gt;#{match}))?&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">        end.join</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="419">
            
            

            

            <code class="ruby">        %r{\A#{query}#{exts}\z}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">  # The same as FileSystemResolver but does not allow templates to store</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">  # a virtual path since it is invalid for such resolvers.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="425">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class FallbackFileSystemResolver &lt; FileSystemResolver #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="426">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private_class_method :new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="428">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.instances</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="429">
            <span class="hits">1</span>
            

            

            <code class="ruby">      [new(&quot;&quot;), new(&quot;/&quot;)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="432">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def build_unbound_template(template, _)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="433">
            
            

            

            <code class="ruby">      super(template, nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="436">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def reject_files_external_to_app(files)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="437">
            
            

            

            <code class="ruby">      files</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b5832c4828ab60596eb9c2331a490c98713fd7db">
  <div class="header">
    <h3>lib/action_view/template/types.rb</h3>
    <h4>
      <span class="red">
  68.97%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>29</b> relevant lines.
      <span class="green"><b>20</b> lines covered</span> and
      <span class="red"><b>9</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/attribute_accessors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Template #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class Types</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class Type</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">        SET = Struct.new(:symbols).new([ :html, :text, :js, :css, :xml, :json ])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def self.[](type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">          if type.is_a?(self)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="13">
            
            

            

            <code class="ruby">            type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">            new(type)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_reader :symbol</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize(symbol)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">          @symbol = symbol.to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">          @symbol.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">        alias to_str to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def ref</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">          @symbol</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">        alias to_sym ref</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def ==(type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">          @symbol == type.to_sym unless type.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">      cattr_accessor :type_klass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.delegate_to(klass)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="43">
            <span class="hits">3</span>
            

            

            <code class="ruby">        self.type_klass = klass</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delegate_to Type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.[](type)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">        type_klass[type]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def self.symbols</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">        type_klass::SET.symbols</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e4913e0806b2602f05165bc9f77f9cbbd64c4d7d">
  <div class="header">
    <h3>lib/action_view/test_case.rb</h3>
    <h4>
      <span class="red">
  50.35%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>141</b> relevant lines.
      <span class="green"><b>71</b> lines covered</span> and
      <span class="red"><b>70</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_support/core_ext/module/redefine_method&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_controller&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_controller/test_case&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;rails-dom-testing&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # = Action View Test Case</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class TestCase &lt; ActiveSupport::TestCase</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    class TestController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionDispatch::TestProcess</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_accessor :request, :response, :params</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class &lt;&lt; self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_writer :controller_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def controller_path=(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">        self.class.controller_path = (path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        self.class.controller_path = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">        @request = ActionController::TestRequest.create(self.class)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">        @response = ActionDispatch::TestResponse.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">        @request.env.delete(&quot;PATH_INFO&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">        @params = ActionController::Parameters.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module Behavior</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">      extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionDispatch::Assertions, ActionDispatch::TestProcess</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include Rails::Dom::Testing::Assertions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionController::TemplateAssertions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionView::Context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionDispatch::Routing::PolymorphicRoutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include AbstractController::Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionView::Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionView::RecordIdentifier</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActionView::RoutingUrlFor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">      include ActiveSupport::Testing::ConstantLookup</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delegate :lookup_context, to: :controller</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">      attr_accessor :controller, :output_buffer, :rendered</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">      module ClassMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def tests(helper_class)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="59">
            <span class="hits">25</span>
            

            

            <code class="ruby">          case helper_class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">          when String, Symbol</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="61">
            <span class="hits">2</span>
            

            

            <code class="ruby">            self.helper_class = &quot;#{helper_class.to_s.underscore}_helper&quot;.camelize.safe_constantize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">          when Module</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="63">
            <span class="hits">23</span>
            

            

            <code class="ruby">            self.helper_class = helper_class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def determine_default_helper_class(name)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="68">
            
            

            

            <code class="ruby">          determine_constant_from_test_name(name) do |constant|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">            Module === constant &amp;&amp; !(Class === constant)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def helper_method(*methods)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">          # Almost a duplicate from ActionController::Helpers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="75">
            <span class="hits">2</span>
            

            

            <code class="ruby">          methods.flatten.each do |method|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="76">
            <span class="hits">2</span>
            

            

            <code class="ruby">            _helpers.module_eval &lt;&lt;-end_eval, __FILE__, __LINE__ + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">              def #{method}(*args, &amp;block)                    # def current_user(*args, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">                _test_case.send(:&#39;#{method}&#39;, *args, &amp;block)  #   _test_case.send(:&#39;current_user&#39;, *args, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">              end                                             # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">              ruby2_keywords(:&#39;#{method}&#39;) if respond_to?(:ruby2_keywords, true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">            end_eval</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_writer :helper_class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def helper_class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">          @helper_class ||= determine_default_helper_class(name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def new(*)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">          include_helper_modules!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">          super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def include_helper_modules!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">          helper(helper_class) if helper_class</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">          include _helpers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def setup_with_controller</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        @controller = ActionView::TestCase::TestController.new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">        @request = @controller.request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="106">
            
            

            

            <code class="ruby">        @view_flow = ActionView::OutputFlow.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">        # empty string ensures buffer has UTF-8 encoding as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">        # new without arguments returns ASCII-8BIT encoded buffer like String#new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="109">
            
            

            

            <code class="ruby">        @output_buffer = ActiveSupport::SafeBuffer.new &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="110">
            
            

            

            <code class="ruby">        @rendered = +&quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="112">
            
            

            

            <code class="ruby">        make_test_case_available_to_view!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">        say_no_to_protect_against_forgery!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def config</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="117">
            
            

            

            <code class="ruby">        @controller.config if @controller.respond_to?(:config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def render(options = {}, local_assigns = {}, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="121">
            
            

            

            <code class="ruby">        view.assign(view_assigns)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="122">
            
            

            

            <code class="ruby">        @rendered &lt;&lt; output = view.render(options, local_assigns, &amp;block)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">        output</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def rendered_views</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="127">
            
            

            

            <code class="ruby">        @_rendered_views ||= RenderedViewsCollection.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _routes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="131">
            
            

            

            <code class="ruby">        @controller._routes if @controller.respond_to?(:_routes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      # Need to experiment if this priority is the best one: rendered =&gt; output_buffer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">      class RenderedViewsCollection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="137">
            
            

            

            <code class="ruby">          @rendered_views ||= Hash.new { |hash, key| hash[key] = [] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def add(view, locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">          @rendered_views[view] ||= []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">          @rendered_views[view] &lt;&lt; locals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def locals_for(view)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="146">
            
            

            

            <code class="ruby">          @rendered_views[view]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def rendered_views</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="150">
            
            

            

            <code class="ruby">          @rendered_views.keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def view_rendered?(view, expected_locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="154">
            
            

            

            <code class="ruby">          locals_for(view).any? do |actual_locals|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="155">
            
            

            

            <code class="ruby">            expected_locals.all? { |key, value| value == actual_locals[key] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">      included do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">        setup :setup_with_controller</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">        ActiveSupport.run_load_hooks(:action_view_test_case, self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      # Need to experiment if this priority is the best one: rendered =&gt; output_buffer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def document_root_element</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="168">
            
            

            

            <code class="ruby">        Nokogiri::HTML::Document.parse(@rendered.blank? ? @output_buffer : @rendered).root</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def say_no_to_protect_against_forgery!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="172">
            
            

            

            <code class="ruby">        _helpers.module_eval do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="173">
            
            

            

            <code class="ruby">          silence_redefinition_of_method :protect_against_forgery?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="174">
            
            

            

            <code class="ruby">          def protect_against_forgery?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="175">
            
            

            

            <code class="ruby">            false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def make_test_case_available_to_view!</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">        test_case_instance = self</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="182">
            
            

            

            <code class="ruby">        _helpers.module_eval do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="183">
            
            

            

            <code class="ruby">          unless private_method_defined?(:_test_case)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="184">
            
            

            

            <code class="ruby">            define_method(:_test_case) { test_case_instance }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="185">
            
            

            

            <code class="ruby">            private :_test_case</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="190">
            <span class="hits">1</span>
            

            

            <code class="ruby">      module Locals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="191">
            <span class="hits">1</span>
            

            

            <code class="ruby">        attr_accessor :rendered_views</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="193">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def render(options = {}, local_assigns = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="194">
            
            

            

            <code class="ruby">          case options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">          when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="196">
            
            

            

            <code class="ruby">            if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="197">
            
            

            

            <code class="ruby">              rendered_views.add options[:layout], options[:locals]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="198">
            
            

            

            <code class="ruby">            elsif options.key?(:partial)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="199">
            
            

            

            <code class="ruby">              rendered_views.add options[:partial], options[:locals]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="202">
            
            

            

            <code class="ruby">            rendered_views.add options, local_assigns</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="205">
            
            

            

            <code class="ruby">          super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # The instance of ActionView::Base that is used by +render+.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="210">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def view</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="211">
            
            

            

            <code class="ruby">        @view ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="212">
            
            

            

            <code class="ruby">          view = @controller.view_context</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="213">
            
            

            

            <code class="ruby">          view.singleton_class.include(_helpers)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="214">
            
            

            

            <code class="ruby">          view.extend(Locals)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="215">
            
            

            

            <code class="ruby">          view.rendered_views = rendered_views</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="216">
            
            

            

            <code class="ruby">          view.output_buffer = output_buffer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="217">
            
            

            

            <code class="ruby">          view</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="221">
            <span class="hits">1</span>
            

            

            <code class="ruby">      alias_method :_view, :view</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            <span class="hits">1</span>
            

            

            <code class="ruby">      INTERNAL_IVARS = [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">        :@NAME,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">        :@failures,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">        :@assertions,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">        :@__io__,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">        :@_assertion_wrapped,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">        :@_assertions,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">        :@_result,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">        :@_routes,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">        :@controller,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">        :@_layouts,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">        :@_files,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">        :@_rendered_views,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">        :@method_name,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">        :@output_buffer,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">        :@_partials,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">        :@passed,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">        :@rendered,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">        :@request,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">        :@routes,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">        :@tagged_logger,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">        :@_templates,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">        :@options,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">        :@test_passed,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">        :@view,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">        :@view_context_class,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">        :@view_flow,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">        :@_subscribers,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">        :@html_document</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">      ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="254">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _user_defined_ivars</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="255">
            
            

            

            <code class="ruby">        instance_variables - INTERNAL_IVARS</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">      # Returns a Hash of instance variables and their values, as defined by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">      # the user in the test case, which are then assigned to the view being</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">      # rendered. This is generally intended for internal use and extension</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">      # frameworks.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def view_assigns</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="263">
            
            

            

            <code class="ruby">        Hash[_user_defined_ivars.map do |ivar|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="264">
            
            

            

            <code class="ruby">          [ivar[1..-1].to_sym, instance_variable_get(ivar)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">        end]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="268">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def method_missing(selector, *args)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="269">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="270">
            
            

            

            <code class="ruby">          routes = @controller.respond_to?(:_routes) &amp;&amp; @controller._routes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">        rescue</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">          # Don&#39;t call routes, if there is an error on _routes call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="275">
            
            

            

            <code class="ruby">        if routes &amp;&amp;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">           (routes.named_routes.route_defined?(selector) ||</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">             routes.mounted_helpers.method_defined?(selector))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="278">
            
            

            

            <code class="ruby">          @controller.__send__(selector, *args)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="280">
            
            

            

            <code class="ruby">          super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="284">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def respond_to_missing?(name, include_private = false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="285">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="286">
            
            

            

            <code class="ruby">          routes = defined?(@controller) &amp;&amp; @controller.respond_to?(:_routes) &amp;&amp; @controller._routes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">        rescue</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">          # Don&#39;t call routes, if there is an error on _routes call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="291">
            
            

            

            <code class="ruby">        routes &amp;&amp;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="292">
            
            

            

            <code class="ruby">          (routes.named_routes.route_defined?(name) ||</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">           routes.mounted_helpers.method_defined?(name))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="297">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include Behavior</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a8c5c7fa354a13b38ad72f4e86bb7eb73546bc70">
  <div class="header">
    <h3>lib/action_view/testing/resolvers.rb</h3>
    <h4>
      <span class="red">
  44.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>25</b> relevant lines.
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>14</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/template/resolver&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView #:nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # Use FixtureResolver in your tests to simulate the presence of files on the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # file system. This is used internally by Rails&#39; own test suite, and is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # useful for testing extensions that have no way of knowing what the file</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  # system will look like at runtime.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class FixtureResolver &lt; OptimizedFileSystemResolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize(hash = {}, pattern = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">      super(&quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="13">
            
            

            

            <code class="ruby">      if pattern</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">        ActiveSupport::Deprecation.warn &quot;Specifying a custom path for #{self.class} is deprecated. Implement a custom Resolver subclass instead.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">        @pattern = pattern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">      @hash = hash</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="18">
            
            

            

            <code class="ruby">      @path = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def data</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">      @hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">      @hash.keys.join(&quot;, &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def find_candidate_template_paths(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">        @hash.keys.select do |fixture|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">          fixture.start_with?(path.virtual)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">        end.map do |fixture|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">          &quot;/#{fixture}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def source_for_template(template)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">        @hash[template[1..template.size]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class NullResolver &lt; PathResolver</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def query(path, exts, _, locals, cache:)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">      handler, format, variant = extract_handler_and_format_and_variant(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">      [ActionView::Template.new(&quot;Template generated by Null Resolver&quot;, path.virtual, handler, virtual_path: path.virtual, format: format, variant: variant, locals: locals)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8964306364a7925956f10b60717af096a1dfaf9c">
  <div class="header">
    <h3>lib/action_view/version.rb</h3>
    <h4>
      <span class="red">
  75.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>4</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &quot;gem_version&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # Returns the version of the currently loaded ActionView as a &lt;tt&gt;Gem::Version&lt;/tt&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.version</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="8">
            
            

            

            <code class="ruby">    gem_version</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fae51bf3a172f657d2c6578f6ce596683c626436">
  <div class="header">
    <h3>lib/action_view/view_paths.rb</h3>
    <h4>
      <span class="red">
  67.44%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>43</b> relevant lines.
      <span class="green"><b>29</b> lines covered</span> and
      <span class="red"><b>14</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">module ActionView</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  module ViewPaths</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    included do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">      ViewPaths.set_view_paths(self, ActionView::PathSet.new.freeze)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delegate :template_exists?, :any_templates?, :view_paths, :formats, :formats=,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">             :locale, :locale=, to: :lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">    module ClassMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">        ViewPaths.get_view_paths(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _view_paths=(paths)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">        ViewPaths.set_view_paths(self, paths)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def _prefixes # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">        @_prefixes ||= begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">          return local_prefixes if superclass.abstract?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">          local_prefixes + superclass._prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      # Append a path to the list of view paths for this controller.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;path&lt;/tt&gt; - If a String is provided, it gets converted into</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      #   the default view path. You may also provide a custom view path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      #   (see ActionView::PathSet for more information)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def append_view_path(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">        self._view_paths = view_paths + Array(path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      # Prepend a path to the list of view paths for this controller.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;path&lt;/tt&gt; - If a String is provided, it gets converted into</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      #   the default view path. You may also provide a custom view path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      #   (see ActionView::PathSet for more information)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def prepend_view_path(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">        self._view_paths = ActionView::PathSet.new(Array(path) + view_paths)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      # A list of all of the default view paths for this controller.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">        _view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">      # Set the view paths.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">      # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      # * &lt;tt&gt;paths&lt;/tt&gt; - If a PathSet is provided, use that;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">      #   otherwise, process the parameter into a PathSet.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def view_paths=(paths)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">        self._view_paths = ActionView::PathSet.new(Array(paths))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">        # Override this method in your controller if you want to change paths prefixes for finding views.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">        # Prefixes defined here will still be added to parents&#39; &lt;tt&gt;._prefixes&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def local_prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">          [controller_path]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    # :stopdoc:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @all_view_paths = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.get_view_paths(klass)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">      @all_view_paths[klass] || get_view_paths(klass.superclass)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.set_view_paths(klass, paths)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="81">
            <span class="hits">2</span>
            

            

            <code class="ruby">      @all_view_paths[klass] = paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.all_view_paths</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @all_view_paths.values.uniq</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    # :startdoc:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    # The prefixes used in render &quot;foo&quot; shortcuts.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def _prefixes # :nodoc:</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">      self.class._prefixes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">    # &lt;tt&gt;LookupContext&lt;/tt&gt; is the object responsible for holding all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">    # information required for looking up templates, i.e. view paths and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">    # details. Check &lt;tt&gt;ActionView::LookupContext&lt;/tt&gt; for more information.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def lookup_context</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">      @_lookup_context ||=</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">        ActionView::LookupContext.new(self.class._view_paths, details_for_lookup, _prefixes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def details_for_lookup</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">      {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">    # Append a path to the list of view paths for the current &lt;tt&gt;LookupContext&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;path&lt;/tt&gt; - If a String is provided, it gets converted into</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    #   the default view path. You may also provide a custom view path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">    #   (see ActionView::PathSet for more information)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def append_view_path(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="113">
            
            

            

            <code class="ruby">      lookup_context.view_paths.push(*path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">    # Prepend a path to the list of view paths for the current &lt;tt&gt;LookupContext&lt;/tt&gt;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">    # ==== Parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">    # * &lt;tt&gt;path&lt;/tt&gt; - If a String is provided, it gets converted into</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">    #   the default view path. You may also provide a custom view path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">    #   (see ActionView::PathSet for more information)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def prepend_view_path(path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="123">
            
            

            

            <code class="ruby">      lookup_context.view_paths.unshift(*path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
